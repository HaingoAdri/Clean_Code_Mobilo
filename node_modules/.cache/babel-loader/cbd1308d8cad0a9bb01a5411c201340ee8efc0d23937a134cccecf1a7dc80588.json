{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"card-body\"\n};\nconst _hoisted_3 = {\n  class: \"blockquote mb-0\"\n};\nconst _hoisted_4 = {\n  class: \"table table-bordered\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"card-header rounded-bottom rounded-4\"\n  }, [_createElementVNode(\"h3\", {\n    class: \"py-2\"\n  }, \"Endpoints categorie liste\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"blockquote\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_cache[1] || (_cache[1] = _createElementVNode(\"thead\", null, [_createElementVNode(\"th\", null, \"Nom\"), _createElementVNode(\"th\", null, \"Description\"), _createElementVNode(\"th\", null, \"Action\")], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.metaData, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.noms), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.details), 1 /* TEXT */), _cache[0] || (_cache[0] = _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn m-2\"\n    }, [_createElementVNode(\"i\", {\n      class: \"bi bi-pen-fill\"\n    })]), _createElementVNode(\"button\", {\n      class: \"btn\"\n    }, [_createElementVNode(\"i\", {\n      class: \"bi bi-file-earmark-x-fill\"\n    })])], -1 /* HOISTED */))]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$data","metaData","item","key","id","_toDisplayString","noms","details"],"sources":["/Users/eva_smartelia/Documents/Clean_Code_Mobilo/src/components/endpoints_menu/reponse/Endpoints_categorie_reponse.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class=\"card-header rounded-bottom rounded-4\">\n            <h3 class=\"py-2\">Endpoints categorie liste</h3>\n        </div>\n        <div class=\"card-body\">\n            <blockquote class=\"blockquote mb-0\">\n                <table class=\"table table-bordered\">\n                    <thead>\n                        <th>Nom</th>\n                        <th>Description</th>\n                        <th>Action</th>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"item in metaData\" :key=\"item.id\">\n                            <td>{{ item.noms }}</td>\n                            <td>{{ item.details }}</td>\n                            <td>\n                                <button class=\"btn m-2\"><i class=\"bi bi-pen-fill\"></i></button>\n                                <button class=\"btn\"><i class=\"bi bi-file-earmark-x-fill\"></i></button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </blockquote>\n        </div>\n    </div>\n</template>\n<script>\nimport { fetchData, putData, deleteData } from '@/service/apiService'; // Import des fonctions PUT et DELETE\nimport * as bootstrap from 'bootstrap';\nexport default {\n    name:'Endpoints_categorie_vue',\n    data() {\n        return {\n            metaData: null,\n            updatedDescription: '',\n            updateModalInstance: null,\n        };\n    },\n    mounted() {\n        this.fetchSearchInformation();\n    },\n    methods: {\n        async fetchSearchInformation() {\n            try {\n                const response = await fetchData(`/endpoints/allCategorie`);\n                if (response) {\n                    this.metaData = response;\n                    this.updatedDescription = this.metaData.details;\n                }\n            } catch (error) {\n                console.error('Erreur lors de la récupération des données:', error);\n            }\n        },\n        \n        openUpdateModal() {\n            const modalElement = document.getElementById('updateModal');\n            this.updateModalInstance = new bootstrap.Modal(modalElement);\n            this.updateModalInstance.show();\n        },\n        \n        async handleUpdate() {\n            try {\n                const updatedData = {\n                    details: this.updatedDescription\n                };\n                await putData(`/information/update_inforamtion/${this.metaData.id}`, updatedData);\n                alert('Description mise à jour avec succès !');\n                this.metaData.details = this.updatedDescription; // Mettre à jour localement après la réussite de l'update\n                this.updateModalInstance.hide(); // Fermer le modal après mise à jour\n            } catch (error) {\n                console.error('Erreur lors de la mise à jour des données:', error);\n            }\n        },\n        \n        // Gestion de la suppression par ID\n        async handleDelete() {\n            if (confirm('Voulez-vous vraiment supprimer cette information ?')) {\n                try {\n                    // Utiliser l'ID pour la suppression\n                    await deleteData(`/information/delete_information/${this.metaData.id}`);\n                    alert('Données supprimées avec succès !');\n                    this.metaData = null; // Réinitialiser les données après suppression\n                } catch (error) {\n                    console.error('Erreur lors de la suppression des données:', error);\n                }\n            }\n        }\n    }\n}\n</script>\n<style scoped>\n.card{\n    border-radius: 15px;\n}\n.card-header{\n    background-color: #022D7E;\n    color:white;\n}\nbutton{\n    background-color: #28aabb;\n    color:white;\n}\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAAM;;EAIRA,KAAK,EAAC;AAAW;;EACNA,KAAK,EAAC;AAAiB;;EACxBA,KAAK,EAAC;AAAsB;;uBAN/CC,mBAAA,CAyBM,OAzBNC,UAyBM,G,0BAxBFC,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAsC,IAC7CG,mBAAA,CAA+C;IAA3CH,KAAK,EAAC;EAAM,GAAC,2BAAyB,E,sBAE9CG,mBAAA,CAoBM,OApBNC,UAoBM,GAnBFD,mBAAA,CAkBa,cAlBbE,UAkBa,GAjBTF,mBAAA,CAgBQ,SAhBRG,UAgBQ,G,0BAfJH,mBAAA,CAIQ,gBAHJA,mBAAA,CAAY,YAAR,KAAG,GACPA,mBAAA,CAAoB,YAAhB,aAAW,GACfA,mBAAA,CAAe,YAAX,QAAM,E,sBAEdA,mBAAA,CASQ,iB,kBARJF,mBAAA,CAOKM,SAAA,QArB7BC,WAAA,CAc2CC,KAAA,CAAAC,QAAQ,EAAhBC,IAAI;yBAAfV,mBAAA,CAOK;MAPyBW,GAAG,EAAED,IAAI,CAACE;QACpCV,mBAAA,CAAwB,YAAAW,gBAAA,CAAjBH,IAAI,CAACI,IAAI,kBAChBZ,mBAAA,CAA2B,YAAAW,gBAAA,CAApBH,IAAI,CAACK,OAAO,kB,0BACnBb,mBAAA,CAGK,aAFDA,mBAAA,CAA+D;MAAvDH,KAAK,EAAC;IAAS,IAACG,mBAAA,CAA8B;MAA3BH,KAAK,EAAC;IAAgB,G,GACjDG,mBAAA,CAAsE;MAA9DH,KAAK,EAAC;IAAK,IAACG,mBAAA,CAAyC;MAAtCH,KAAK,EAAC;IAA2B,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}