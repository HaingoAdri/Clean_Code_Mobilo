{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"card\"\n};\nconst _hoisted_2 = {\n  class: \"card-header rounded-bottom rounded-4 d-flex justify-content-between\"\n};\nconst _hoisted_3 = {\n  class: \"a\"\n};\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"blockquote mb-0\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.footer ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[8] || (_cache[8] = _createElementVNode(\"h3\", {\n    class: \"py-2\"\n  }, \"Footer actuelle\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: \"btn m-2\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.editFooter && $options.editFooter(...args))\n  }, _cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n    class: \"bi bi-pen-fill\"\n  }, null, -1 /* HOISTED */)])), _cache[7] || (_cache[7] = _createTextVNode(\" \\\\\")), _createElementVNode(\"button\", {\n    class: \"btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.deleteFooter && $options.deleteFooter(...args))\n  }, _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n    class: \"bi bi-file-earmark-x-fill\"\n  }, null, -1 /* HOISTED */)]))])]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"blockquote\", _hoisted_5, [_createElementVNode(\"p\", null, [_cache[9] || (_cache[9] = _createTextVNode(\"Footer details : \")), !$data.editMode ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString($data.footer.texte), 1 /* TEXT */)) : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 1,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.updatedFooter.texte = $event)\n  }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.updatedFooter.texte]])]), _createElementVNode(\"p\", null, [_cache[10] || (_cache[10] = _createTextVNode(\"Version: \")), !$data.editMode ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, _toDisplayString($data.footer.version), 1 /* TEXT */)) : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 1,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.updatedFooter.version = $event)\n  }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.updatedFooter.version]])]), $data.editMode ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.updateFooter && $options.updateFooter(...args))\n  }, \"Enregistrer\")) : _createCommentVNode(\"v-if\", true)])])])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \"Chargement...\"));\n}","map":{"version":3,"names":["key","class","$data","footer","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","editFooter","_createTextVNode","deleteFooter","_hoisted_4","_hoisted_5","editMode","_hoisted_6","_toDisplayString","texte","$event","updatedFooter","_hoisted_7","version","updateFooter","_createCommentVNode","_hoisted_8"],"sources":["/Users/stagiaire_mobilosoft/Documents/Clean_Code_Mobilo/src/components/configuration_reponse/Footer_vue.vue"],"sourcesContent":["<template>\n    <div class=\"card\" v-if=\"footer\">\n        <div class=\"card-header rounded-bottom rounded-4 d-flex justify-content-between\">\n            <h3 class=\"py-2\">Footer actuelle</h3>\n            <div class=\"a\">\n                <button class=\"btn m-2\" @click=\"editFooter\"><i class=\"bi bi-pen-fill\"></i></button>\n                \\<button class=\"btn\" @click=\"deleteFooter\"><i class=\"bi bi-file-earmark-x-fill\"></i></button>\n            </div>\n        </div>\n        <div class=\"card-body\">\n            <blockquote class=\"blockquote mb-0\">\n                <p>Footer details : \n                    <span v-if=\"!editMode\">{{ footer.texte }}</span>\n                    <input v-else v-model=\"updatedFooter.texte\" />\n                </p>\n                <p>Version: \n                    <span v-if=\"!editMode\">{{ footer.version }}</span>\n                    <input v-else v-model=\"updatedFooter.version\" />\n                </p>\n                <button v-if=\"editMode\" @click=\"updateFooter\">Enregistrer</button>\n            </blockquote>\n        </div>\n    </div>\n    <p v-else>Chargement...</p>\n</template>\n\n<script>\nimport { fetchData, putData, deleteData } from '@/service/apiService';\n\nexport default {\n    name: 'Footer_vue',\n    data() {\n        return {\n            footer: null,\n            editMode: false,\n            updatedFooter: {\n                texte: '',\n                version: ''\n            }\n        };\n    },\n    mounted() {\n        this.loadFooter();\n    },\n    methods: {\n        async loadFooter() {\n            try {\n                this.footer = await fetchData('/configuration/getFooter');\n                if (this.footer) {\n                    // Initialisez les valeurs à éditer\n                    this.updatedFooter = { ...this.footer };\n                }\n            } catch (error) {\n                console.error('Erreur lors de la récupération du footer :', error);\n            }\n        },\n        editFooter() {\n            this.editMode = !this.editMode; // Alternez entre mode édition et affichage\n        },\n        async updateFooter() {\n            try {\n                await putData(`/configuration/update_footer/${encodeURIComponent(this.footer.texte)}`, this.updatedFooter);\n                this.footer = { ...this.updatedFooter };\n                this.editMode = false;\n            } catch (error) {\n                console.error('Erreur lors de la mise à jour du footer :', error);\n            }\n        },\n        async deleteFooter() {\n            try {\n                await deleteData(`/configuration/delete_footer/${encodeURIComponent(this.footer.texte)}`);\n                this.footer = null; // Efface les données après suppression\n            } catch (error) {\n                console.error('Erreur lors de la suppression du footer :', error);\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.card {\n    border-radius: 15px;\n}\n.card-header {\n    background-color: #022D7E;\n    color: white;\n}\nbutton {\n    background-color: #28aabb;\n    color: white;\n}\ninput {\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    padding: 5px;\n}\n</style>\n"],"mappings":";;EAAAA,GAAA;EACSC,KAAK,EAAC;;;EACFA,KAAK,EAAC;AAAqE;;EAEvEA,KAAK,EAAC;AAAG;;EAKbA,KAAK,EAAC;AAAW;;EACNA,KAAK,EAAC;AAAiB;;EAV/CD,GAAA;AAAA;;EAAAA,GAAA;AAAA;;EAAAA,GAAA;AAAA;;SAC4BE,KAAA,CAAAC,MAAM,I,cAA9BC,mBAAA,CAqBM,OArBNC,UAqBM,GApBFC,mBAAA,CAMM,OANNC,UAMM,G,0BALFD,mBAAA,CAAqC;IAAjCL,KAAK,EAAC;EAAM,GAAC,iBAAe,sBAChCK,mBAAA,CAGM,OAHNE,UAGM,GAFFF,mBAAA,CAAmF;IAA3EL,KAAK,EAAC,SAAS;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;gCAAEL,mBAAA,CAA8B;IAA3BL,KAAK,EAAC;EAAgB,2B,8BALrFa,gBAAA,CAKmG,KAClF,IAAAR,mBAAA,CAA4F;IAApFL,KAAK,EAAC,KAAK;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAG,YAAA,IAAAH,QAAA,CAAAG,YAAA,IAAAJ,IAAA,CAAY;gCAAEL,mBAAA,CAAyC;IAAtCL,KAAK,EAAC;EAA2B,2B,QAGvFK,mBAAA,CAYM,OAZNU,UAYM,GAXFV,mBAAA,CAUa,cAVbW,UAUa,GATTX,mBAAA,CAGI,Y,0BAdpBQ,gBAAA,CAWmB,mBACC,I,CAAaZ,KAAA,CAAAgB,QAAQ,I,cAArBd,mBAAA,CAAgD,QAZpEe,UAAA,EAAAC,gBAAA,CAY8ClB,KAAA,CAAAC,MAAM,CAACkB,KAAK,oB,+BACtCjB,mBAAA,CAA8C;IAblEJ,GAAA;IAAA,uBAAAU,MAAA,QAAAA,MAAA,MAAAY,MAAA,IAa2CpB,KAAA,CAAAqB,aAAa,CAACF,KAAK,GAAAC,MAAA;kDAAnBpB,KAAA,CAAAqB,aAAa,CAACF,KAAK,E,KAE9Cf,mBAAA,CAGI,Y,4BAlBpBQ,gBAAA,CAemB,WACC,I,CAAaZ,KAAA,CAAAgB,QAAQ,I,cAArBd,mBAAA,CAAkD,QAhBtEoB,UAAA,EAAAJ,gBAAA,CAgB8ClB,KAAA,CAAAC,MAAM,CAACsB,OAAO,oB,+BACxCrB,mBAAA,CAAgD;IAjBpEJ,GAAA;IAAA,uBAAAU,MAAA,QAAAA,MAAA,MAAAY,MAAA,IAiB2CpB,KAAA,CAAAqB,aAAa,CAACE,OAAO,GAAAH,MAAA;kDAArBpB,KAAA,CAAAqB,aAAa,CAACE,OAAO,E,KAElCvB,KAAA,CAAAgB,QAAQ,I,cAAtBd,mBAAA,CAAkE;IAnBlFJ,GAAA;IAmByCS,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAc,YAAA,IAAAd,QAAA,CAAAc,YAAA,IAAAf,IAAA,CAAY;KAAE,aAAW,KAnBzEgB,mBAAA,e,wBAuBIvB,mBAAA,CAA2B,KAvB/BwB,UAAA,EAuBc,eAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}