{"ast":null,"code":"import { fetchData, putData, deleteData } from '@/service/apiService';\nexport default {\n  name: 'Footer_vue',\n  data() {\n    return {\n      footer: null,\n      editMode: false,\n      updatedFooter: {\n        texte: '',\n        version: ''\n      }\n    };\n  },\n  mounted() {\n    this.loadFooter();\n  },\n  methods: {\n    async loadFooter() {\n      try {\n        this.footer = await fetchData('/configuration/getFooter');\n        if (this.footer) {\n          // Initialisez les valeurs à éditer\n          this.updatedFooter = {\n            ...this.footer\n          };\n        }\n      } catch (error) {\n        console.error('Erreur lors de la récupération du footer :', error);\n      }\n    },\n    editFooter() {\n      this.editMode = !this.editMode; // Alternez entre mode édition et affichage\n    },\n    async updateFooter() {\n      try {\n        await putData(`/configuration/updateF\n                _footer/${encodeURIComponent(this.footer.texte)}`, this.updatedFooter);\n        this.footer = {\n          ...this.updatedFooter\n        };\n        this.editMode = false;\n      } catch (error) {\n        console.error('Erreur lors de la mise à jour du footer :', error);\n      }\n    },\n    async deleteFooter() {\n      try {\n        await deleteData(`/configuration/deleteFooter/${encodeURIComponent(this.footer.texte)}`);\n        this.footer = null; // Efface les données après suppression\n      } catch (error) {\n        console.error('Erreur lors de la suppression du footer :', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["fetchData","putData","deleteData","name","data","footer","editMode","updatedFooter","texte","version","mounted","loadFooter","methods","error","console","editFooter","updateFooter","encodeURIComponent","deleteFooter"],"sources":["/Users/stagiaire_mobilosoft/Documents/Clean_Code_Mobilo/src/components/configuration_reponse/Footer_vue.vue"],"sourcesContent":["<template>\n    <div class=\"card\" v-if=\"footer\">\n        <div class=\"card-header rounded-bottom rounded-4 d-flex justify-content-between\">\n            <h3 class=\"py-2\">Footer actuelle</h3>\n            <div class=\"a\">\n                <button class=\"btn m-2\" @click=\"editFooter\"><i class=\"bi bi-pen-fill\"></i></button>\n                <button class=\"btn\" @click=\"deleteFooter\"><i class=\"bi bi-file-earmark-x-fill\"></i></button>\n            </div>\n        </div>\n        <div class=\"card-body\">\n            <blockquote class=\"blockquote mb-0\">\n                <p>Footer details : \n                    <span v-if=\"!editMode\">{{ footer.texte }}</span>\n                    <input v-else v-model=\"updatedFooter.texte\" />\n                </p>\n                <p>Version: \n                    <span v-if=\"!editMode\">{{ footer.version }}</span>\n                    <input v-else v-model=\"updatedFooter.version\" />\n                </p>\n                <button v-if=\"editMode\" @click=\"updateFooter\">Enregistrer</button>\n            </blockquote>\n        </div>\n    </div>\n    <p v-else>Chargement...</p>\n</template>\n\n<script>\nimport { fetchData, putData, deleteData } from '@/service/apiService';\n\nexport default {\n    name: 'Footer_vue',\n    data() {\n        return {\n            footer: null,\n            editMode: false,\n            updatedFooter: {\n                texte: '',\n                version: ''\n            }\n        };\n    },\n    mounted() {\n        this.loadFooter();\n    },\n    methods: {\n        async loadFooter() {\n            try {\n                this.footer = await fetchData('/configuration/getFooter');\n                if (this.footer) {\n                    // Initialisez les valeurs à éditer\n                    this.updatedFooter = { ...this.footer };\n                }\n            } catch (error) {\n                console.error('Erreur lors de la récupération du footer :', error);\n            }\n        },\n        editFooter() {\n            this.editMode = !this.editMode; // Alternez entre mode édition et affichage\n        },\n        async updateFooter() {\n            try {\n                await putData(`/configuration/updateF\n                _footer/${encodeURIComponent(this.footer.texte)}`, this.updatedFooter);\n                this.footer = { ...this.updatedFooter };\n                this.editMode = false;\n            } catch (error) {\n                console.error('Erreur lors de la mise à jour du footer :', error);\n            }\n        },\n        async deleteFooter() {\n            try {\n                await deleteData(`/configuration/deleteFooter/${encodeURIComponent(this.footer.texte)}`);\n                this.footer = null; // Efface les données après suppression\n            } catch (error) {\n                console.error('Erreur lors de la suppression du footer :', error);\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.card {\n    border-radius: 15px;\n}\n.card-header {\n    background-color: #022D7E;\n    color: white;\n}\nbutton {\n    background-color: #28aabb;\n    color: white;\n}\ninput {\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    padding: 5px;\n}\n</style>\n"],"mappings":"AA2BA,SAASA,SAAS,EAAEC,OAAO,EAAEC,UAAS,QAAS,sBAAsB;AAErE,eAAe;EACXC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,KAAK;MACfC,aAAa,EAAE;QACXC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE;MACb;IACJ,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,UAAU,CAAC,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACL,MAAMD,UAAUA,CAAA,EAAG;MACf,IAAI;QACA,IAAI,CAACN,MAAK,GAAI,MAAML,SAAS,CAAC,0BAA0B,CAAC;QACzD,IAAI,IAAI,CAACK,MAAM,EAAE;UACb;UACA,IAAI,CAACE,aAAY,GAAI;YAAE,GAAG,IAAI,CAACF;UAAO,CAAC;QAC3C;MACJ,EAAE,OAAOQ,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MACtE;IACJ,CAAC;IACDE,UAAUA,CAAA,EAAG;MACT,IAAI,CAACT,QAAO,GAAI,CAAC,IAAI,CAACA,QAAQ,EAAE;IACpC,CAAC;IACD,MAAMU,YAAYA,CAAA,EAAG;MACjB,IAAI;QACA,MAAMf,OAAO,CAAC;0BACJgB,kBAAkB,CAAC,IAAI,CAACZ,MAAM,CAACG,KAAK,CAAC,EAAE,EAAE,IAAI,CAACD,aAAa,CAAC;QACtE,IAAI,CAACF,MAAK,GAAI;UAAE,GAAG,IAAI,CAACE;QAAc,CAAC;QACvC,IAAI,CAACD,QAAO,GAAI,KAAK;MACzB,EAAE,OAAOO,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACrE;IACJ,CAAC;IACD,MAAMK,YAAYA,CAAA,EAAG;MACjB,IAAI;QACA,MAAMhB,UAAU,CAAC,+BAA+Be,kBAAkB,CAAC,IAAI,CAACZ,MAAM,CAACG,KAAK,CAAC,EAAE,CAAC;QACxF,IAAI,CAACH,MAAK,GAAI,IAAI,EAAE;MACxB,EAAE,OAAOQ,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;MACrE;IACJ;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}