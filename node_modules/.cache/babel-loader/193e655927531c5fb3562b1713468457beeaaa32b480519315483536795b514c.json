{"ast":null,"code":"var _defineProperty = require(\"/Users/stagiaire_mobilosoft/Documents/mobilosoft_back_office/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.array-buffer.detached.js\");\nrequire(\"core-js/modules/es.array-buffer.transfer.js\");\nrequire(\"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\");\n/*! For license information please see quill.js.LICENSE.txt */\n!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.Quill = e() : t.Quill = e();\n}(self, function () {\n  return function () {\n    var t = {\n        9698: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            Ay: function () {\n              return c;\n            },\n            Ji: function () {\n              return d;\n            },\n            mG: function () {\n              return h;\n            },\n            zo: function () {\n              return u;\n            }\n          });\n          var r = n(6003),\n            i = n(5232),\n            s = n.n(i),\n            o = n(3036),\n            l = n(4850),\n            a = n(5508);\n          class c extends r.BlockBlot {\n            constructor(...args) {\n              super(...args);\n              _defineProperty(this, \"cache\", {});\n            }\n            delta() {\n              return null == this.cache.delta && (this.cache.delta = h(this)), this.cache.delta;\n            }\n            deleteAt(t, e) {\n              super.deleteAt(t, e), this.cache = {};\n            }\n            formatAt(t, e, n, i) {\n              e <= 0 || (this.scroll.query(n, r.Scope.BLOCK) ? t + e === this.length() && this.format(n, i) : super.formatAt(t, Math.min(e, this.length() - t - 1), n, i), this.cache = {});\n            }\n            insertAt(t, e, n) {\n              if (null != n) return super.insertAt(t, e, n), void (this.cache = {});\n              if (0 === e.length) return;\n              const r = e.split(\"\\n\"),\n                i = r.shift();\n              i.length > 0 && (t < this.length() - 1 || null == this.children.tail ? super.insertAt(Math.min(t, this.length() - 1), i) : this.children.tail.insertAt(this.children.tail.length(), i), this.cache = {});\n              let s = this;\n              r.reduce((t, e) => (s = s.split(t, !0), s.insertAt(0, e), e.length), t + i.length);\n            }\n            insertBefore(t, e) {\n              const {\n                head: n\n              } = this.children;\n              super.insertBefore(t, e), n instanceof o.A && n.remove(), this.cache = {};\n            }\n            length() {\n              return null == this.cache.length && (this.cache.length = super.length() + 1), this.cache.length;\n            }\n            moveChildren(t, e) {\n              super.moveChildren(t, e), this.cache = {};\n            }\n            optimize(t) {\n              super.optimize(t), this.cache = {};\n            }\n            path(t) {\n              return super.path(t, !0);\n            }\n            removeChild(t) {\n              super.removeChild(t), this.cache = {};\n            }\n            split(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n              if (e && (0 === t || t >= this.length() - 1)) {\n                const e = this.clone();\n                return 0 === t ? (this.parent.insertBefore(e, this), this) : (this.parent.insertBefore(e, this.next), e);\n              }\n              const n = super.split(t, e);\n              return this.cache = {}, n;\n            }\n          }\n          c.blotName = \"block\", c.tagName = \"P\", c.defaultChild = o.A, c.allowedChildren = [o.A, l.A, r.EmbedBlot, a.A];\n          class u extends r.EmbedBlot {\n            attach() {\n              super.attach(), this.attributes = new r.AttributorStore(this.domNode);\n            }\n            delta() {\n              return new (s())().insert(this.value(), {\n                ...this.formats(),\n                ...this.attributes.values()\n              });\n            }\n            format(t, e) {\n              const n = this.scroll.query(t, r.Scope.BLOCK_ATTRIBUTE);\n              null != n && this.attributes.attribute(n, e);\n            }\n            formatAt(t, e, n, r) {\n              this.format(n, r);\n            }\n            insertAt(t, e, n) {\n              if (null != n) return void super.insertAt(t, e, n);\n              const r = e.split(\"\\n\"),\n                i = r.pop(),\n                s = r.map(t => {\n                  const e = this.scroll.create(c.blotName);\n                  return e.insertAt(0, t), e;\n                }),\n                o = this.split(t);\n              s.forEach(t => {\n                this.parent.insertBefore(t, o);\n              }), i && this.parent.insertBefore(this.scroll.create(\"text\", i), o);\n            }\n          }\n          function h(t) {\n            let e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n            return t.descendants(r.LeafBlot).reduce((t, n) => 0 === n.length() ? t : t.insert(n.value(), d(n, {}, e)), new (s())()).insert(\"\\n\", d(t));\n          }\n          function d(t) {\n            let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n              n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];\n            return null == t ? e : (\"formats\" in t && \"function\" == typeof t.formats && (e = {\n              ...e,\n              ...t.formats()\n            }, n && delete e[\"code-token\"]), null == t.parent || \"scroll\" === t.parent.statics.blotName || t.parent.statics.scope !== t.statics.scope ? e : d(t.parent, e, n));\n          }\n          u.scope = r.Scope.BLOCK_BLOT;\n        },\n        3036: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(6003);\n          class i extends r.EmbedBlot {\n            static value() {}\n            optimize() {\n              (this.prev || this.next) && this.remove();\n            }\n            length() {\n              return 0;\n            }\n            value() {\n              return \"\";\n            }\n          }\n          i.blotName = \"break\", i.tagName = \"BR\", e.A = i;\n        },\n        580: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(6003);\n          class i extends r.ContainerBlot {}\n          e.A = i;\n        },\n        4541: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(6003),\n            i = n(5508);\n          class s extends r.EmbedBlot {\n            static value() {}\n            constructor(t, e, n) {\n              super(t, e), this.selection = n, this.textNode = document.createTextNode(s.CONTENTS), this.domNode.appendChild(this.textNode), this.savedLength = 0;\n            }\n            detach() {\n              null != this.parent && this.parent.removeChild(this);\n            }\n            format(t, e) {\n              if (0 !== this.savedLength) return void super.format(t, e);\n              let n = this,\n                i = 0;\n              for (; null != n && n.statics.scope !== r.Scope.BLOCK_BLOT;) i += n.offset(n.parent), n = n.parent;\n              null != n && (this.savedLength = s.CONTENTS.length, n.optimize(), n.formatAt(i, s.CONTENTS.length, t, e), this.savedLength = 0);\n            }\n            index(t, e) {\n              return t === this.textNode ? 0 : super.index(t, e);\n            }\n            length() {\n              return this.savedLength;\n            }\n            position() {\n              return [this.textNode, this.textNode.data.length];\n            }\n            remove() {\n              super.remove(), this.parent = null;\n            }\n            restore() {\n              if (this.selection.composing || null == this.parent) return null;\n              const t = this.selection.getNativeRange();\n              for (; null != this.domNode.lastChild && this.domNode.lastChild !== this.textNode;) this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n              const e = this.prev instanceof i.A ? this.prev : null,\n                n = e ? e.length() : 0,\n                r = this.next instanceof i.A ? this.next : null,\n                o = r ? r.text : \"\",\n                {\n                  textNode: l\n                } = this,\n                a = l.data.split(s.CONTENTS).join(\"\");\n              let c;\n              if (l.data = s.CONTENTS, e) c = e, (a || r) && (e.insertAt(e.length(), a + o), r && r.remove());else if (r) c = r, r.insertAt(0, a);else {\n                const t = document.createTextNode(a);\n                c = this.scroll.create(t), this.parent.insertBefore(c, this);\n              }\n              if (this.remove(), t) {\n                const i = (t, i) => e && t === e.domNode ? i : t === l ? n + i - 1 : r && t === r.domNode ? n + a.length + i : null,\n                  s = i(t.start.node, t.start.offset),\n                  o = i(t.end.node, t.end.offset);\n                if (null !== s && null !== o) return {\n                  startNode: c.domNode,\n                  startOffset: s,\n                  endNode: c.domNode,\n                  endOffset: o\n                };\n              }\n              return null;\n            }\n            update(t, e) {\n              if (t.some(t => \"characterData\" === t.type && t.target === this.textNode)) {\n                const t = this.restore();\n                t && (e.range = t);\n              }\n            }\n            optimize(t) {\n              super.optimize(t);\n              let {\n                parent: e\n              } = this;\n              for (; e;) {\n                if (\"A\" === e.domNode.tagName) {\n                  this.savedLength = s.CONTENTS.length, e.isolate(this.offset(e), this.length()).unwrap(), this.savedLength = 0;\n                  break;\n                }\n                e = e.parent;\n              }\n            }\n            value() {\n              return \"\";\n            }\n          }\n          _defineProperty(s, \"blotName\", \"cursor\");\n          _defineProperty(s, \"className\", \"ql-cursor\");\n          _defineProperty(s, \"tagName\", \"span\");\n          _defineProperty(s, \"CONTENTS\", \"\\ufeff\");\n          e.A = s;\n        },\n        746: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(6003),\n            i = n(5508);\n          const s = \"\\ufeff\";\n          class o extends r.EmbedBlot {\n            constructor(t, e) {\n              super(t, e), this.contentNode = document.createElement(\"span\"), this.contentNode.setAttribute(\"contenteditable\", \"false\"), Array.from(this.domNode.childNodes).forEach(t => {\n                this.contentNode.appendChild(t);\n              }), this.leftGuard = document.createTextNode(s), this.rightGuard = document.createTextNode(s), this.domNode.appendChild(this.leftGuard), this.domNode.appendChild(this.contentNode), this.domNode.appendChild(this.rightGuard);\n            }\n            index(t, e) {\n              return t === this.leftGuard ? 0 : t === this.rightGuard ? 1 : super.index(t, e);\n            }\n            restore(t) {\n              let e,\n                n = null;\n              const r = t.data.split(s).join(\"\");\n              if (t === this.leftGuard) {\n                if (this.prev instanceof i.A) {\n                  const t = this.prev.length();\n                  this.prev.insertAt(t, r), n = {\n                    startNode: this.prev.domNode,\n                    startOffset: t + r.length\n                  };\n                } else e = document.createTextNode(r), this.parent.insertBefore(this.scroll.create(e), this), n = {\n                  startNode: e,\n                  startOffset: r.length\n                };\n              } else t === this.rightGuard && (this.next instanceof i.A ? (this.next.insertAt(0, r), n = {\n                startNode: this.next.domNode,\n                startOffset: r.length\n              }) : (e = document.createTextNode(r), this.parent.insertBefore(this.scroll.create(e), this.next), n = {\n                startNode: e,\n                startOffset: r.length\n              }));\n              return t.data = s, n;\n            }\n            update(t, e) {\n              t.forEach(t => {\n                if (\"characterData\" === t.type && (t.target === this.leftGuard || t.target === this.rightGuard)) {\n                  const n = this.restore(t.target);\n                  n && (e.range = n);\n                }\n              });\n            }\n          }\n          e.A = o;\n        },\n        4850: function (t, e, n) {\n          \"use strict\";\n\n          var _o;\n          var r = n(6003),\n            i = n(3036),\n            s = n(5508);\n          class o extends r.InlineBlot {\n            static compare(t, e) {\n              const n = o.order.indexOf(t),\n                r = o.order.indexOf(e);\n              return n >= 0 || r >= 0 ? n - r : t === e ? 0 : t < e ? -1 : 1;\n            }\n            formatAt(t, e, n, i) {\n              if (o.compare(this.statics.blotName, n) < 0 && this.scroll.query(n, r.Scope.BLOT)) {\n                const r = this.isolate(t, e);\n                i && r.wrap(n, i);\n              } else super.formatAt(t, e, n, i);\n            }\n            optimize(t) {\n              if (super.optimize(t), this.parent instanceof o && o.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n                const t = this.parent.isolate(this.offset(), this.length());\n                this.moveChildren(t), t.wrap(this);\n              }\n            }\n          }\n          _o = o;\n          _defineProperty(o, \"allowedChildren\", [_o, i.A, r.EmbedBlot, s.A]);\n          _defineProperty(o, \"order\", [\"cursor\", \"inline\", \"link\", \"underline\", \"strike\", \"italic\", \"bold\", \"script\", \"code\"]);\n          e.A = o;\n        },\n        5508: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return i;\n            },\n            X: function () {\n              return s;\n            }\n          });\n          var r = n(6003);\n          class i extends r.TextBlot {}\n          function s(t) {\n            return t.replace(/[&<>\"']/g, t => ({\n              \"&\": \"&amp;\",\n              \"<\": \"&lt;\",\n              \">\": \"&gt;\",\n              '\"': \"&quot;\",\n              \"'\": \"&#39;\"\n            })[t]);\n          }\n        },\n        3729: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            default: function () {\n              return R;\n            }\n          });\n          var r = n(6142),\n            i = n(9698),\n            s = n(3036),\n            o = n(580),\n            l = n(4541),\n            a = n(746),\n            c = n(4850),\n            u = n(6003),\n            h = n(5232),\n            d = n.n(h),\n            f = n(5374);\n          function p(t) {\n            return t instanceof i.Ay || t instanceof i.zo;\n          }\n          function g(t) {\n            return \"function\" == typeof t.updateContent;\n          }\n          class m extends u.ScrollBlot {\n            constructor(t, e, n) {\n              let {\n                emitter: r\n              } = n;\n              super(t, e), this.emitter = r, this.batch = !1, this.optimize(), this.enable(), this.domNode.addEventListener(\"dragstart\", t => this.handleDragStart(t));\n            }\n            batchStart() {\n              Array.isArray(this.batch) || (this.batch = []);\n            }\n            batchEnd() {\n              if (!this.batch) return;\n              const t = this.batch;\n              this.batch = !1, this.update(t);\n            }\n            emitMount(t) {\n              this.emitter.emit(f.A.events.SCROLL_BLOT_MOUNT, t);\n            }\n            emitUnmount(t) {\n              this.emitter.emit(f.A.events.SCROLL_BLOT_UNMOUNT, t);\n            }\n            emitEmbedUpdate(t, e) {\n              this.emitter.emit(f.A.events.SCROLL_EMBED_UPDATE, t, e);\n            }\n            deleteAt(t, e) {\n              const [n, r] = this.line(t),\n                [o] = this.line(t + e);\n              if (super.deleteAt(t, e), null != o && n !== o && r > 0) {\n                if (n instanceof i.zo || o instanceof i.zo) return void this.optimize();\n                const t = o.children.head instanceof s.A ? null : o.children.head;\n                n.moveChildren(o, t), n.remove();\n              }\n              this.optimize();\n            }\n            enable() {\n              let t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];\n              this.domNode.setAttribute(\"contenteditable\", t ? \"true\" : \"false\");\n            }\n            formatAt(t, e, n, r) {\n              super.formatAt(t, e, n, r), this.optimize();\n            }\n            insertAt(t, e, n) {\n              if (t >= this.length()) {\n                if (null == n || null == this.scroll.query(e, u.Scope.BLOCK)) {\n                  const t = this.scroll.create(this.statics.defaultChild.blotName);\n                  this.appendChild(t), null == n && e.endsWith(\"\\n\") ? t.insertAt(0, e.slice(0, -1), n) : t.insertAt(0, e, n);\n                } else {\n                  const t = this.scroll.create(e, n);\n                  this.appendChild(t);\n                }\n              } else super.insertAt(t, e, n);\n              this.optimize();\n            }\n            insertBefore(t, e) {\n              if (t.statics.scope === u.Scope.INLINE_BLOT) {\n                const n = this.scroll.create(this.statics.defaultChild.blotName);\n                n.appendChild(t), super.insertBefore(n, e);\n              } else super.insertBefore(t, e);\n            }\n            insertContents(t, e) {\n              const n = this.deltaToRenderBlocks(e.concat(new (d())().insert(\"\\n\"))),\n                r = n.pop();\n              if (null == r) return;\n              this.batchStart();\n              const s = n.shift();\n              if (s) {\n                const e = \"block\" === s.type && (0 === s.delta.length() || !this.descendant(i.zo, t)[0] && t < this.length()),\n                  n = \"block\" === s.type ? s.delta : new (d())().insert({\n                    [s.key]: s.value\n                  });\n                b(this, t, n);\n                const r = \"block\" === s.type ? 1 : 0,\n                  o = t + n.length() + r;\n                e && this.insertAt(o - 1, \"\\n\");\n                const l = (0, i.Ji)(this.line(t)[0]),\n                  a = h.AttributeMap.diff(l, s.attributes) || {};\n                Object.keys(a).forEach(t => {\n                  this.formatAt(o - 1, 1, t, a[t]);\n                }), t = o;\n              }\n              let [o, l] = this.children.find(t);\n              n.length && (o && (o = o.split(l), l = 0), n.forEach(t => {\n                if (\"block\" === t.type) b(this.createBlock(t.attributes, o || void 0), 0, t.delta);else {\n                  const e = this.create(t.key, t.value);\n                  this.insertBefore(e, o || void 0), Object.keys(t.attributes).forEach(n => {\n                    e.format(n, t.attributes[n]);\n                  });\n                }\n              })), \"block\" === r.type && r.delta.length() && b(this, o ? o.offset(o.scroll) + l : this.length(), r.delta), this.batchEnd(), this.optimize();\n            }\n            isEnabled() {\n              return \"true\" === this.domNode.getAttribute(\"contenteditable\");\n            }\n            leaf(t) {\n              const e = this.path(t).pop();\n              if (!e) return [null, -1];\n              const [n, r] = e;\n              return n instanceof u.LeafBlot ? [n, r] : [null, -1];\n            }\n            line(t) {\n              return t === this.length() ? this.line(t - 1) : this.descendant(p, t);\n            }\n            lines() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,\n                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Number.MAX_VALUE;\n              const n = (t, e, r) => {\n                let i = [],\n                  s = r;\n                return t.children.forEachAt(e, r, (t, e, r) => {\n                  p(t) ? i.push(t) : t instanceof u.ContainerBlot && (i = i.concat(n(t, e, s))), s -= r;\n                }), i;\n              };\n              return n(this, t, e);\n            }\n            optimize() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n              this.batch || (super.optimize(t, e), t.length > 0 && this.emitter.emit(f.A.events.SCROLL_OPTIMIZE, t, e));\n            }\n            path(t) {\n              return super.path(t).slice(1);\n            }\n            remove() {}\n            update(t) {\n              if (this.batch) return void (Array.isArray(t) && (this.batch = this.batch.concat(t)));\n              let e = f.A.sources.USER;\n              \"string\" == typeof t && (e = t), Array.isArray(t) || (t = this.observer.takeRecords()), (t = t.filter(t => {\n                let {\n                  target: e\n                } = t;\n                const n = this.find(e, !0);\n                return n && !g(n);\n              })).length > 0 && this.emitter.emit(f.A.events.SCROLL_BEFORE_UPDATE, e, t), super.update(t.concat([])), t.length > 0 && this.emitter.emit(f.A.events.SCROLL_UPDATE, e, t);\n            }\n            updateEmbedAt(t, e, n) {\n              const [r] = this.descendant(t => t instanceof i.zo, t);\n              r && r.statics.blotName === e && g(r) && r.updateContent(n);\n            }\n            handleDragStart(t) {\n              t.preventDefault();\n            }\n            deltaToRenderBlocks(t) {\n              const e = [];\n              let n = new (d())();\n              return t.forEach(t => {\n                const r = t?.insert;\n                if (r) if (\"string\" == typeof r) {\n                  const i = r.split(\"\\n\");\n                  i.slice(0, -1).forEach(r => {\n                    n.insert(r, t.attributes), e.push({\n                      type: \"block\",\n                      delta: n,\n                      attributes: t.attributes ?? {}\n                    }), n = new (d())();\n                  });\n                  const s = i[i.length - 1];\n                  s && n.insert(s, t.attributes);\n                } else {\n                  const i = Object.keys(r)[0];\n                  if (!i) return;\n                  this.query(i, u.Scope.INLINE) ? n.push(t) : (n.length() && e.push({\n                    type: \"block\",\n                    delta: n,\n                    attributes: {}\n                  }), n = new (d())(), e.push({\n                    type: \"blockEmbed\",\n                    key: i,\n                    value: r[i],\n                    attributes: t.attributes ?? {}\n                  }));\n                }\n              }), n.length() && e.push({\n                type: \"block\",\n                delta: n,\n                attributes: {}\n              }), e;\n            }\n            createBlock(t, e) {\n              let n;\n              const r = {};\n              Object.entries(t).forEach(t => {\n                let [e, i] = t;\n                null != this.query(e, u.Scope.BLOCK & u.Scope.BLOT) ? n = e : r[e] = i;\n              });\n              const i = this.create(n || this.statics.defaultChild.blotName, n ? t[n] : void 0);\n              this.insertBefore(i, e || void 0);\n              const s = i.length();\n              return Object.entries(r).forEach(t => {\n                let [e, n] = t;\n                i.formatAt(0, s, e, n);\n              }), i;\n            }\n          }\n          _defineProperty(m, \"blotName\", \"scroll\");\n          _defineProperty(m, \"className\", \"ql-editor\");\n          _defineProperty(m, \"tagName\", \"DIV\");\n          _defineProperty(m, \"defaultChild\", i.Ay);\n          _defineProperty(m, \"allowedChildren\", [i.Ay, i.zo, o.A]);\n          function b(t, e, n) {\n            n.reduce((e, n) => {\n              const r = h.Op.length(n);\n              let s = n.attributes || {};\n              if (null != n.insert) if (\"string\" == typeof n.insert) {\n                const r = n.insert;\n                t.insertAt(e, r);\n                const [o] = t.descendant(u.LeafBlot, e),\n                  l = (0, i.Ji)(o);\n                s = h.AttributeMap.diff(l, s) || {};\n              } else if (\"object\" == typeof n.insert) {\n                const r = Object.keys(n.insert)[0];\n                if (null == r) return e;\n                if (t.insertAt(e, r, n.insert[r]), null != t.scroll.query(r, u.Scope.INLINE)) {\n                  const [n] = t.descendant(u.LeafBlot, e),\n                    r = (0, i.Ji)(n);\n                  s = h.AttributeMap.diff(r, s) || {};\n                }\n              }\n              return Object.keys(s).forEach(n => {\n                t.formatAt(e, r, n, s[n]);\n              }), e + r;\n            }, e);\n          }\n          var y = m,\n            v = n(5508),\n            A = n(584),\n            x = n(4266);\n          class N extends x.A {\n            constructor(t, e) {\n              super(t, e), _defineProperty(this, \"lastRecorded\", 0), _defineProperty(this, \"ignoreChange\", !1), _defineProperty(this, \"stack\", {\n                undo: [],\n                redo: []\n              }), _defineProperty(this, \"currentRange\", null), this.quill.on(r.Ay.events.EDITOR_CHANGE, (t, e, n, i) => {\n                t === r.Ay.events.SELECTION_CHANGE ? e && i !== r.Ay.sources.SILENT && (this.currentRange = e) : t === r.Ay.events.TEXT_CHANGE && (this.ignoreChange || (this.options.userOnly && i !== r.Ay.sources.USER ? this.transform(e) : this.record(e, n)), this.currentRange = w(this.currentRange, e));\n              }), this.quill.keyboard.addBinding({\n                key: \"z\",\n                shortKey: !0\n              }, this.undo.bind(this)), this.quill.keyboard.addBinding({\n                key: [\"z\", \"Z\"],\n                shortKey: !0,\n                shiftKey: !0\n              }, this.redo.bind(this)), /Win/i.test(navigator.platform) && this.quill.keyboard.addBinding({\n                key: \"y\",\n                shortKey: !0\n              }, this.redo.bind(this)), this.quill.root.addEventListener(\"beforeinput\", t => {\n                \"historyUndo\" === t.inputType ? (this.undo(), t.preventDefault()) : \"historyRedo\" === t.inputType && (this.redo(), t.preventDefault());\n              });\n            }\n            change(t, e) {\n              if (0 === this.stack[t].length) return;\n              const n = this.stack[t].pop();\n              if (!n) return;\n              const i = this.quill.getContents(),\n                s = n.delta.invert(i);\n              this.stack[e].push({\n                delta: s,\n                range: w(n.range, s)\n              }), this.lastRecorded = 0, this.ignoreChange = !0, this.quill.updateContents(n.delta, r.Ay.sources.USER), this.ignoreChange = !1, this.restoreSelection(n);\n            }\n            clear() {\n              this.stack = {\n                undo: [],\n                redo: []\n              };\n            }\n            cutoff() {\n              this.lastRecorded = 0;\n            }\n            record(t, e) {\n              if (0 === t.ops.length) return;\n              this.stack.redo = [];\n              let n = t.invert(e),\n                r = this.currentRange;\n              const i = Date.now();\n              if (this.lastRecorded + this.options.delay > i && this.stack.undo.length > 0) {\n                const t = this.stack.undo.pop();\n                t && (n = n.compose(t.delta), r = t.range);\n              } else this.lastRecorded = i;\n              0 !== n.length() && (this.stack.undo.push({\n                delta: n,\n                range: r\n              }), this.stack.undo.length > this.options.maxStack && this.stack.undo.shift());\n            }\n            redo() {\n              this.change(\"redo\", \"undo\");\n            }\n            transform(t) {\n              E(this.stack.undo, t), E(this.stack.redo, t);\n            }\n            undo() {\n              this.change(\"undo\", \"redo\");\n            }\n            restoreSelection(t) {\n              if (t.range) this.quill.setSelection(t.range, r.Ay.sources.USER);else {\n                const e = function (t, e) {\n                  const n = e.reduce((t, e) => t + (e.delete || 0), 0);\n                  let r = e.length() - n;\n                  return function (t, e) {\n                    const n = e.ops[e.ops.length - 1];\n                    return null != n && (null != n.insert ? \"string\" == typeof n.insert && n.insert.endsWith(\"\\n\") : null != n.attributes && Object.keys(n.attributes).some(e => null != t.query(e, u.Scope.BLOCK)));\n                  }(t, e) && (r -= 1), r;\n                }(this.quill.scroll, t.delta);\n                this.quill.setSelection(e, r.Ay.sources.USER);\n              }\n            }\n          }\n          _defineProperty(N, \"DEFAULTS\", {\n            delay: 1e3,\n            maxStack: 100,\n            userOnly: !1\n          });\n          function E(t, e) {\n            let n = e;\n            for (let e = t.length - 1; e >= 0; e -= 1) {\n              const r = t[e];\n              t[e] = {\n                delta: n.transform(r.delta, !0),\n                range: r.range && w(r.range, n)\n              }, n = r.delta.transform(n), 0 === t[e].delta.length() && t.splice(e, 1);\n            }\n          }\n          function w(t, e) {\n            if (!t) return t;\n            const n = e.transformPosition(t.index);\n            return {\n              index: n,\n              length: e.transformPosition(t.index + t.length) - n\n            };\n          }\n          var q = n(8123);\n          class k extends x.A {\n            constructor(t, e) {\n              super(t, e), t.root.addEventListener(\"drop\", e => {\n                e.preventDefault();\n                let n = null;\n                if (document.caretRangeFromPoint) n = document.caretRangeFromPoint(e.clientX, e.clientY);else if (document.caretPositionFromPoint) {\n                  const t = document.caretPositionFromPoint(e.clientX, e.clientY);\n                  n = document.createRange(), n.setStart(t.offsetNode, t.offset), n.setEnd(t.offsetNode, t.offset);\n                }\n                const r = n && t.selection.normalizeNative(n);\n                if (r) {\n                  const n = t.selection.normalizedToRange(r);\n                  e.dataTransfer?.files && this.upload(n, e.dataTransfer.files);\n                }\n              });\n            }\n            upload(t, e) {\n              const n = [];\n              Array.from(e).forEach(t => {\n                t && this.options.mimetypes?.includes(t.type) && n.push(t);\n              }), n.length > 0 && this.options.handler.call(this, t, n);\n            }\n          }\n          k.DEFAULTS = {\n            mimetypes: [\"image/png\", \"image/jpeg\"],\n            handler(t, e) {\n              if (!this.quill.scroll.query(\"image\")) return;\n              const n = e.map(t => new Promise(e => {\n                const n = new FileReader();\n                n.onload = () => {\n                  e(n.result);\n                }, n.readAsDataURL(t);\n              }));\n              Promise.all(n).then(e => {\n                const n = e.reduce((t, e) => t.insert({\n                  image: e\n                }), new (d())().retain(t.index).delete(t.length));\n                this.quill.updateContents(n, f.A.sources.USER), this.quill.setSelection(t.index + e.length, f.A.sources.SILENT);\n              });\n            }\n          };\n          var _ = k;\n          const L = [\"insertText\", \"insertReplacementText\"];\n          class S extends x.A {\n            constructor(t, e) {\n              super(t, e), t.root.addEventListener(\"beforeinput\", t => {\n                this.handleBeforeInput(t);\n              }), /Android/i.test(navigator.userAgent) || t.on(r.Ay.events.COMPOSITION_BEFORE_START, () => {\n                this.handleCompositionStart();\n              });\n            }\n            deleteRange(t) {\n              (0, q.Xo)({\n                range: t,\n                quill: this.quill\n              });\n            }\n            replaceText(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\n              if (0 === t.length) return !1;\n              if (e) {\n                const n = this.quill.getFormat(t.index, 1);\n                this.deleteRange(t), this.quill.updateContents(new (d())().retain(t.index).insert(e, n), r.Ay.sources.USER);\n              } else this.deleteRange(t);\n              return this.quill.setSelection(t.index + e.length, 0, r.Ay.sources.SILENT), !0;\n            }\n            handleBeforeInput(t) {\n              if (this.quill.composition.isComposing || t.defaultPrevented || !L.includes(t.inputType)) return;\n              const e = t.getTargetRanges ? t.getTargetRanges()[0] : null;\n              if (!e || !0 === e.collapsed) return;\n              const n = function (t) {\n                return \"string\" == typeof t.data ? t.data : t.dataTransfer?.types.includes(\"text/plain\") ? t.dataTransfer.getData(\"text/plain\") : null;\n              }(t);\n              if (null == n) return;\n              const r = this.quill.selection.normalizeNative(e),\n                i = r ? this.quill.selection.normalizedToRange(r) : null;\n              i && this.replaceText(i, n) && t.preventDefault();\n            }\n            handleCompositionStart() {\n              const t = this.quill.getSelection();\n              t && this.replaceText(t);\n            }\n          }\n          var O = S;\n          const T = /Mac/i.test(navigator.platform);\n          class j extends x.A {\n            constructor(t, e) {\n              super(t, e), _defineProperty(this, \"isListening\", !1), _defineProperty(this, \"selectionChangeDeadline\", 0), this.handleArrowKeys(), this.handleNavigationShortcuts();\n            }\n            handleArrowKeys() {\n              this.quill.keyboard.addBinding({\n                key: [\"ArrowLeft\", \"ArrowRight\"],\n                offset: 0,\n                shiftKey: null,\n                handler(t, e) {\n                  let {\n                    line: n,\n                    event: i\n                  } = e;\n                  if (!(n instanceof u.ParentBlot && n.uiNode)) return !0;\n                  const s = \"rtl\" === getComputedStyle(n.domNode).direction;\n                  return !!(s && \"ArrowRight\" !== i.key || !s && \"ArrowLeft\" !== i.key) || (this.quill.setSelection(t.index - 1, t.length + (i.shiftKey ? 1 : 0), r.Ay.sources.USER), !1);\n                }\n              });\n            }\n            handleNavigationShortcuts() {\n              this.quill.root.addEventListener(\"keydown\", t => {\n                !t.defaultPrevented && (t => \"ArrowLeft\" === t.key || \"ArrowRight\" === t.key || \"ArrowUp\" === t.key || \"ArrowDown\" === t.key || \"Home\" === t.key || !(!T || \"a\" !== t.key || !0 !== t.ctrlKey))(t) && this.ensureListeningToSelectionChange();\n              });\n            }\n            ensureListeningToSelectionChange() {\n              this.selectionChangeDeadline = Date.now() + 100, this.isListening || (this.isListening = !0, document.addEventListener(\"selectionchange\", () => {\n                this.isListening = !1, Date.now() <= this.selectionChangeDeadline && this.handleSelectionChange();\n              }, {\n                once: !0\n              }));\n            }\n            handleSelectionChange() {\n              const t = document.getSelection();\n              if (!t) return;\n              const e = t.getRangeAt(0);\n              if (!0 !== e.collapsed || 0 !== e.startOffset) return;\n              const n = this.quill.scroll.find(e.startContainer);\n              if (!(n instanceof u.ParentBlot && n.uiNode)) return;\n              const r = document.createRange();\n              r.setStartAfter(n.uiNode), r.setEndAfter(n.uiNode), t.removeAllRanges(), t.addRange(r);\n            }\n          }\n          var C = j;\n          r.Ay.register({\n            \"blots/block\": i.Ay,\n            \"blots/block/embed\": i.zo,\n            \"blots/break\": s.A,\n            \"blots/container\": o.A,\n            \"blots/cursor\": l.A,\n            \"blots/embed\": a.A,\n            \"blots/inline\": c.A,\n            \"blots/scroll\": y,\n            \"blots/text\": v.A,\n            \"modules/clipboard\": A.Ay,\n            \"modules/history\": N,\n            \"modules/keyboard\": q.Ay,\n            \"modules/uploader\": _,\n            \"modules/input\": O,\n            \"modules/uiNode\": C\n          });\n          var R = r.Ay;\n        },\n        5374: function (t, e, n) {\n          \"use strict\";\n\n          var _Class;\n          n.d(e, {\n            A: function () {\n              return o;\n            }\n          });\n          var r = n(8920),\n            i = n(7356);\n          const s = (0, n(6078).A)(\"quill:events\");\n          [\"selectionchange\", \"mousedown\", \"mouseup\", \"click\"].forEach(t => {\n            document.addEventListener(t, function () {\n              for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];\n              Array.from(document.querySelectorAll(\".ql-container\")).forEach(t => {\n                const n = i.A.get(t);\n                n && n.emitter && n.emitter.handleDOM(...e);\n              });\n            });\n          });\n          var o = (_Class = class o extends r {\n            constructor() {\n              super(), this.domListeners = {}, this.on(\"error\", s.error);\n            }\n            emit() {\n              for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];\n              return s.log.call(s, ...e), super.emit(...e);\n            }\n            handleDOM(t) {\n              for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++) n[r - 1] = arguments[r];\n              (this.domListeners[t.type] || []).forEach(e => {\n                let {\n                  node: r,\n                  handler: i\n                } = e;\n                (t.target === r || r.contains(t.target)) && i(t, ...n);\n              });\n            }\n            listenDOM(t, e, n) {\n              this.domListeners[t] || (this.domListeners[t] = []), this.domListeners[t].push({\n                node: e,\n                handler: n\n              });\n            }\n          }, _defineProperty(_Class, \"events\", {\n            EDITOR_CHANGE: \"editor-change\",\n            SCROLL_BEFORE_UPDATE: \"scroll-before-update\",\n            SCROLL_BLOT_MOUNT: \"scroll-blot-mount\",\n            SCROLL_BLOT_UNMOUNT: \"scroll-blot-unmount\",\n            SCROLL_OPTIMIZE: \"scroll-optimize\",\n            SCROLL_UPDATE: \"scroll-update\",\n            SCROLL_EMBED_UPDATE: \"scroll-embed-update\",\n            SELECTION_CHANGE: \"selection-change\",\n            TEXT_CHANGE: \"text-change\",\n            COMPOSITION_BEFORE_START: \"composition-before-start\",\n            COMPOSITION_START: \"composition-start\",\n            COMPOSITION_BEFORE_END: \"composition-before-end\",\n            COMPOSITION_END: \"composition-end\"\n          }), _defineProperty(_Class, \"sources\", {\n            API: \"api\",\n            SILENT: \"silent\",\n            USER: \"user\"\n          }), _Class);\n        },\n        7356: function (t, e) {\n          \"use strict\";\n\n          e.A = new WeakMap();\n        },\n        6078: function (t, e) {\n          \"use strict\";\n\n          const n = [\"error\", \"warn\", \"log\", \"info\"];\n          let r = \"warn\";\n          function i(t) {\n            if (r && n.indexOf(t) <= n.indexOf(r)) {\n              for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), s = 1; s < e; s++) i[s - 1] = arguments[s];\n              console[t](...i);\n            }\n          }\n          function s(t) {\n            return n.reduce((e, n) => (e[n] = i.bind(console, n, t), e), {});\n          }\n          s.level = t => {\n            r = t;\n          }, i.level = s.level, e.A = s;\n        },\n        4266: function (t, e) {\n          \"use strict\";\n\n          var _Class2;\n          e.A = (_Class2 = class {\n            constructor(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n              this.quill = t, this.options = e;\n            }\n          }, _defineProperty(_Class2, \"DEFAULTS\", {}), _Class2);\n        },\n        6142: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            Ay: function () {\n              return I;\n            }\n          });\n          var r = n(8347),\n            i = n(6003),\n            s = n(5232),\n            o = n.n(s),\n            l = n(3707),\n            a = n(5123),\n            c = n(9698),\n            u = n(3036),\n            h = n(4541),\n            d = n(5508),\n            f = n(8298);\n          const p = /^[ -~]*$/;\n          function g(t, e, n) {\n            if (0 === t.length) {\n              const [t] = y(n.pop());\n              return e <= 0 ? `</li></${t}>` : `</li></${t}>${g([], e - 1, n)}`;\n            }\n            const [{\n                child: r,\n                offset: i,\n                length: s,\n                indent: o,\n                type: l\n              }, ...a] = t,\n              [c, u] = y(l);\n            if (o > e) return n.push(l), o === e + 1 ? `<${c}><li${u}>${m(r, i, s)}${g(a, o, n)}` : `<${c}><li>${g(t, e + 1, n)}`;\n            const h = n[n.length - 1];\n            if (o === e && l === h) return `</li><li${u}>${m(r, i, s)}${g(a, o, n)}`;\n            const [d] = y(n.pop());\n            return `</li></${d}>${g(t, e - 1, n)}`;\n          }\n          function m(t, e, n) {\n            let r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];\n            if (\"html\" in t && \"function\" == typeof t.html) return t.html(e, n);\n            if (t instanceof d.A) return (0, d.X)(t.value().slice(e, e + n));\n            if (t instanceof i.ParentBlot) {\n              if (\"list-container\" === t.statics.blotName) {\n                const r = [];\n                return t.children.forEachAt(e, n, (t, e, n) => {\n                  const i = \"formats\" in t && \"function\" == typeof t.formats ? t.formats() : {};\n                  r.push({\n                    child: t,\n                    offset: e,\n                    length: n,\n                    indent: i.indent || 0,\n                    type: i.list\n                  });\n                }), g(r, -1, []);\n              }\n              const i = [];\n              if (t.children.forEachAt(e, n, (t, e, n) => {\n                i.push(m(t, e, n));\n              }), r || \"list\" === t.statics.blotName) return i.join(\"\");\n              const {\n                  outerHTML: s,\n                  innerHTML: o\n                } = t.domNode,\n                [l, a] = s.split(`>${o}<`);\n              return \"<table\" === l ? `<table style=\"border: 1px solid #000;\">${i.join(\"\")}<${a}` : `${l}>${i.join(\"\")}<${a}`;\n            }\n            return t.domNode instanceof Element ? t.domNode.outerHTML : \"\";\n          }\n          function b(t, e) {\n            return Object.keys(e).reduce((n, r) => {\n              if (null == t[r]) return n;\n              const i = e[r];\n              return i === t[r] ? n[r] = i : Array.isArray(i) ? i.indexOf(t[r]) < 0 ? n[r] = i.concat([t[r]]) : n[r] = i : n[r] = [i, t[r]], n;\n            }, {});\n          }\n          function y(t) {\n            const e = \"ordered\" === t ? \"ol\" : \"ul\";\n            switch (t) {\n              case \"checked\":\n                return [e, ' data-list=\"checked\"'];\n              case \"unchecked\":\n                return [e, ' data-list=\"unchecked\"'];\n              default:\n                return [e, \"\"];\n            }\n          }\n          function v(t) {\n            return t.reduce((t, e) => {\n              if (\"string\" == typeof e.insert) {\n                const n = e.insert.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\n                return t.insert(n, e.attributes);\n              }\n              return t.push(e);\n            }, new (o())());\n          }\n          function A(t, e) {\n            let {\n              index: n,\n              length: r\n            } = t;\n            return new f.Q(n + e, r);\n          }\n          var x = class {\n              constructor(t) {\n                this.scroll = t, this.delta = this.getDelta();\n              }\n              applyDelta(t) {\n                this.scroll.update();\n                let e = this.scroll.length();\n                this.scroll.batchStart();\n                const n = v(t),\n                  l = new (o())();\n                return function (t) {\n                  const e = [];\n                  return t.forEach(t => {\n                    \"string\" == typeof t.insert ? t.insert.split(\"\\n\").forEach((n, r) => {\n                      r && e.push({\n                        insert: \"\\n\",\n                        attributes: t.attributes\n                      }), n && e.push({\n                        insert: n,\n                        attributes: t.attributes\n                      });\n                    }) : e.push(t);\n                  }), e;\n                }(n.ops.slice()).reduce((t, n) => {\n                  const o = s.Op.length(n);\n                  let a = n.attributes || {},\n                    u = !1,\n                    h = !1;\n                  if (null != n.insert) {\n                    if (l.retain(o), \"string\" == typeof n.insert) {\n                      const o = n.insert;\n                      h = !o.endsWith(\"\\n\") && (e <= t || !!this.scroll.descendant(c.zo, t)[0]), this.scroll.insertAt(t, o);\n                      const [l, u] = this.scroll.line(t);\n                      let d = (0, r.A)({}, (0, c.Ji)(l));\n                      if (l instanceof c.Ay) {\n                        const [t] = l.descendant(i.LeafBlot, u);\n                        t && (d = (0, r.A)(d, (0, c.Ji)(t)));\n                      }\n                      a = s.AttributeMap.diff(d, a) || {};\n                    } else if (\"object\" == typeof n.insert) {\n                      const o = Object.keys(n.insert)[0];\n                      if (null == o) return t;\n                      const l = null != this.scroll.query(o, i.Scope.INLINE);\n                      if (l) (e <= t || this.scroll.descendant(c.zo, t)[0]) && (h = !0);else if (t > 0) {\n                        const [e, n] = this.scroll.descendant(i.LeafBlot, t - 1);\n                        e instanceof d.A ? \"\\n\" !== e.value()[n] && (u = !0) : e instanceof i.EmbedBlot && e.statics.scope === i.Scope.INLINE_BLOT && (u = !0);\n                      }\n                      if (this.scroll.insertAt(t, o, n.insert[o]), l) {\n                        const [e] = this.scroll.descendant(i.LeafBlot, t);\n                        if (e) {\n                          const t = (0, r.A)({}, (0, c.Ji)(e));\n                          a = s.AttributeMap.diff(t, a) || {};\n                        }\n                      }\n                    }\n                    e += o;\n                  } else if (l.push(n), null !== n.retain && \"object\" == typeof n.retain) {\n                    const e = Object.keys(n.retain)[0];\n                    if (null == e) return t;\n                    this.scroll.updateEmbedAt(t, e, n.retain[e]);\n                  }\n                  Object.keys(a).forEach(e => {\n                    this.scroll.formatAt(t, o, e, a[e]);\n                  });\n                  const f = u ? 1 : 0,\n                    p = h ? 1 : 0;\n                  return e += f + p, l.retain(f), l.delete(p), t + o + f + p;\n                }, 0), l.reduce((t, e) => \"number\" == typeof e.delete ? (this.scroll.deleteAt(t, e.delete), t) : t + s.Op.length(e), 0), this.scroll.batchEnd(), this.scroll.optimize(), this.update(n);\n              }\n              deleteText(t, e) {\n                return this.scroll.deleteAt(t, e), this.update(new (o())().retain(t).delete(e));\n              }\n              formatLine(t, e) {\n                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n                this.scroll.update(), Object.keys(n).forEach(r => {\n                  this.scroll.lines(t, Math.max(e, 1)).forEach(t => {\n                    t.format(r, n[r]);\n                  });\n                }), this.scroll.optimize();\n                const r = new (o())().retain(t).retain(e, (0, l.A)(n));\n                return this.update(r);\n              }\n              formatText(t, e) {\n                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n                Object.keys(n).forEach(r => {\n                  this.scroll.formatAt(t, e, r, n[r]);\n                });\n                const r = new (o())().retain(t).retain(e, (0, l.A)(n));\n                return this.update(r);\n              }\n              getContents(t, e) {\n                return this.delta.slice(t, t + e);\n              }\n              getDelta() {\n                return this.scroll.lines().reduce((t, e) => t.concat(e.delta()), new (o())());\n              }\n              getFormat(t) {\n                let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,\n                  n = [],\n                  r = [];\n                0 === e ? this.scroll.path(t).forEach(t => {\n                  const [e] = t;\n                  e instanceof c.Ay ? n.push(e) : e instanceof i.LeafBlot && r.push(e);\n                }) : (n = this.scroll.lines(t, e), r = this.scroll.descendants(i.LeafBlot, t, e));\n                const [s, o] = [n, r].map(t => {\n                  const e = t.shift();\n                  if (null == e) return {};\n                  let n = (0, c.Ji)(e);\n                  for (; Object.keys(n).length > 0;) {\n                    const e = t.shift();\n                    if (null == e) return n;\n                    n = b((0, c.Ji)(e), n);\n                  }\n                  return n;\n                });\n                return {\n                  ...s,\n                  ...o\n                };\n              }\n              getHTML(t, e) {\n                const [n, r] = this.scroll.line(t);\n                if (n) {\n                  const i = n.length();\n                  return n.length() >= r + e && (0 !== r || e !== i) ? m(n, r, e, !0) : m(this.scroll, t, e, !0);\n                }\n                return \"\";\n              }\n              getText(t, e) {\n                return this.getContents(t, e).filter(t => \"string\" == typeof t.insert).map(t => t.insert).join(\"\");\n              }\n              insertContents(t, e) {\n                const n = v(e),\n                  r = new (o())().retain(t).concat(n);\n                return this.scroll.insertContents(t, n), this.update(r);\n              }\n              insertEmbed(t, e, n) {\n                return this.scroll.insertAt(t, e, n), this.update(new (o())().retain(t).insert({\n                  [e]: n\n                }));\n              }\n              insertText(t, e) {\n                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n                return e = e.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\"), this.scroll.insertAt(t, e), Object.keys(n).forEach(r => {\n                  this.scroll.formatAt(t, e.length, r, n[r]);\n                }), this.update(new (o())().retain(t).insert(e, (0, l.A)(n)));\n              }\n              isBlank() {\n                if (0 === this.scroll.children.length) return !0;\n                if (this.scroll.children.length > 1) return !1;\n                const t = this.scroll.children.head;\n                if (t?.statics.blotName !== c.Ay.blotName) return !1;\n                const e = t;\n                return !(e.children.length > 1) && e.children.head instanceof u.A;\n              }\n              removeFormat(t, e) {\n                const n = this.getText(t, e),\n                  [r, i] = this.scroll.line(t + e);\n                let s = 0,\n                  l = new (o())();\n                null != r && (s = r.length() - i, l = r.delta().slice(i, i + s - 1).insert(\"\\n\"));\n                const a = this.getContents(t, e + s).diff(new (o())().insert(n).concat(l)),\n                  c = new (o())().retain(t).concat(a);\n                return this.applyDelta(c);\n              }\n              update(t) {\n                let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],\n                  n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;\n                const r = this.delta;\n                if (1 === e.length && \"characterData\" === e[0].type && e[0].target.data.match(p) && this.scroll.find(e[0].target)) {\n                  const i = this.scroll.find(e[0].target),\n                    s = (0, c.Ji)(i),\n                    l = i.offset(this.scroll),\n                    a = e[0].oldValue.replace(h.A.CONTENTS, \"\"),\n                    u = new (o())().insert(a),\n                    d = new (o())().insert(i.value()),\n                    f = n && {\n                      oldRange: A(n.oldRange, -l),\n                      newRange: A(n.newRange, -l)\n                    };\n                  t = new (o())().retain(l).concat(u.diff(d, f)).reduce((t, e) => e.insert ? t.insert(e.insert, s) : t.push(e), new (o())()), this.delta = r.compose(t);\n                } else this.delta = this.getDelta(), t && (0, a.A)(r.compose(t), this.delta) || (t = r.diff(this.delta, n));\n                return t;\n              }\n            },\n            N = n(5374),\n            E = n(7356),\n            w = n(6078),\n            q = n(4266),\n            k = n(746),\n            _ = class _ {\n              constructor(t, e) {\n                _defineProperty(this, \"isComposing\", !1);\n                this.scroll = t, this.emitter = e, this.setupListeners();\n              }\n              setupListeners() {\n                this.scroll.domNode.addEventListener(\"compositionstart\", t => {\n                  this.isComposing || this.handleCompositionStart(t);\n                }), this.scroll.domNode.addEventListener(\"compositionend\", t => {\n                  this.isComposing && queueMicrotask(() => {\n                    this.handleCompositionEnd(t);\n                  });\n                });\n              }\n              handleCompositionStart(t) {\n                const e = t.target instanceof Node ? this.scroll.find(t.target, !0) : null;\n                !e || e instanceof k.A || (this.emitter.emit(N.A.events.COMPOSITION_BEFORE_START, t), this.scroll.batchStart(), this.emitter.emit(N.A.events.COMPOSITION_START, t), this.isComposing = !0);\n              }\n              handleCompositionEnd(t) {\n                this.emitter.emit(N.A.events.COMPOSITION_BEFORE_END, t), this.scroll.batchEnd(), this.emitter.emit(N.A.events.COMPOSITION_END, t), this.isComposing = !1;\n              }\n            },\n            L = n(9609);\n          const S = t => {\n              const e = t.getBoundingClientRect(),\n                n = \"offsetWidth\" in t && Math.abs(e.width) / t.offsetWidth || 1,\n                r = \"offsetHeight\" in t && Math.abs(e.height) / t.offsetHeight || 1;\n              return {\n                top: e.top,\n                right: e.left + t.clientWidth * n,\n                bottom: e.top + t.clientHeight * r,\n                left: e.left\n              };\n            },\n            O = t => {\n              const e = parseInt(t, 10);\n              return Number.isNaN(e) ? 0 : e;\n            },\n            T = (t, e, n, r, i, s) => t < n && e > r ? 0 : t < n ? -(n - t + i) : e > r ? e - t > r - n ? t + i - n : e - r + s : 0;\n          const j = [\"block\", \"break\", \"cursor\", \"inline\", \"scroll\", \"text\"];\n          const C = (0, w.A)(\"quill\"),\n            R = new i.Registry();\n          i.ParentBlot.uiClass = \"ql-ui\";\n          class I {\n            static debug(t) {\n              !0 === t && (t = \"log\"), w.A.level(t);\n            }\n            static find(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n              return E.A.get(t) || R.find(t, e);\n            }\n            static import(t) {\n              return null == this.imports[t] && C.error(`Cannot import ${t}. Are you sure it was registered?`), this.imports[t];\n            }\n            static register() {\n              if (\"string\" != typeof (arguments.length <= 0 ? void 0 : arguments[0])) {\n                const t = arguments.length <= 0 ? void 0 : arguments[0],\n                  e = !!(arguments.length <= 1 ? void 0 : arguments[1]),\n                  n = \"attrName\" in t ? t.attrName : t.blotName;\n                \"string\" == typeof n ? this.register(`formats/${n}`, t, e) : Object.keys(t).forEach(n => {\n                  this.register(n, t[n], e);\n                });\n              } else {\n                const t = arguments.length <= 0 ? void 0 : arguments[0],\n                  e = arguments.length <= 1 ? void 0 : arguments[1],\n                  n = !!(arguments.length <= 2 ? void 0 : arguments[2]);\n                null == this.imports[t] || n || C.warn(`Overwriting ${t} with`, e), this.imports[t] = e, (t.startsWith(\"blots/\") || t.startsWith(\"formats/\")) && e && \"boolean\" != typeof e && \"abstract\" !== e.blotName && R.register(e), \"function\" == typeof e.register && e.register(R);\n              }\n            }\n            constructor(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n              if (this.options = function (t, e) {\n                const n = B(t);\n                if (!n) throw new Error(\"Invalid Quill container\");\n                const s = !e.theme || e.theme === I.DEFAULTS.theme ? L.A : I.import(`themes/${e.theme}`);\n                if (!s) throw new Error(`Invalid theme ${e.theme}. Did you register it?`);\n                const {\n                    modules: o,\n                    ...l\n                  } = I.DEFAULTS,\n                  {\n                    modules: a,\n                    ...c\n                  } = s.DEFAULTS;\n                let u = M(e.modules);\n                null != u && u.toolbar && u.toolbar.constructor !== Object && (u = {\n                  ...u,\n                  toolbar: {\n                    container: u.toolbar\n                  }\n                });\n                const h = (0, r.A)({}, M(o), M(a), u),\n                  d = {\n                    ...l,\n                    ...U(c),\n                    ...U(e)\n                  };\n                let f = e.registry;\n                return f ? e.formats && C.warn('Ignoring \"formats\" option because \"registry\" is specified') : f = e.formats ? ((t, e, n) => {\n                  const r = new i.Registry();\n                  return j.forEach(t => {\n                    const n = e.query(t);\n                    n && r.register(n);\n                  }), t.forEach(t => {\n                    let i = e.query(t);\n                    i || n.error(`Cannot register \"${t}\" specified in \"formats\" config. Are you sure it was registered?`);\n                    let s = 0;\n                    for (; i;) if (r.register(i), i = \"blotName\" in i ? i.requiredContainer ?? null : null, s += 1, s > 100) {\n                      n.error(`Cycle detected in registering blot requiredContainer: \"${t}\"`);\n                      break;\n                    }\n                  }), r;\n                })(e.formats, d.registry, C) : d.registry, {\n                  ...d,\n                  registry: f,\n                  container: n,\n                  theme: s,\n                  modules: Object.entries(h).reduce((t, e) => {\n                    let [n, i] = e;\n                    if (!i) return t;\n                    const s = I.import(`modules/${n}`);\n                    return null == s ? (C.error(`Cannot load ${n} module. Are you sure you registered it?`), t) : {\n                      ...t,\n                      [n]: (0, r.A)({}, s.DEFAULTS || {}, i)\n                    };\n                  }, {}),\n                  bounds: B(d.bounds)\n                };\n              }(t, e), this.container = this.options.container, null == this.container) return void C.error(\"Invalid Quill container\", t);\n              this.options.debug && I.debug(this.options.debug);\n              const n = this.container.innerHTML.trim();\n              this.container.classList.add(\"ql-container\"), this.container.innerHTML = \"\", E.A.set(this.container, this), this.root = this.addContainer(\"ql-editor\"), this.root.classList.add(\"ql-blank\"), this.emitter = new N.A();\n              const s = i.ScrollBlot.blotName,\n                l = this.options.registry.query(s);\n              if (!l || !(\"blotName\" in l)) throw new Error(`Cannot initialize Quill without \"${s}\" blot`);\n              if (this.scroll = new l(this.options.registry, this.root, {\n                emitter: this.emitter\n              }), this.editor = new x(this.scroll), this.selection = new f.A(this.scroll, this.emitter), this.composition = new _(this.scroll, this.emitter), this.theme = new this.options.theme(this, this.options), this.keyboard = this.theme.addModule(\"keyboard\"), this.clipboard = this.theme.addModule(\"clipboard\"), this.history = this.theme.addModule(\"history\"), this.uploader = this.theme.addModule(\"uploader\"), this.theme.addModule(\"input\"), this.theme.addModule(\"uiNode\"), this.theme.init(), this.emitter.on(N.A.events.EDITOR_CHANGE, t => {\n                t === N.A.events.TEXT_CHANGE && this.root.classList.toggle(\"ql-blank\", this.editor.isBlank());\n              }), this.emitter.on(N.A.events.SCROLL_UPDATE, (t, e) => {\n                const n = this.selection.lastRange,\n                  [r] = this.selection.getRange(),\n                  i = n && r ? {\n                    oldRange: n,\n                    newRange: r\n                  } : void 0;\n                D.call(this, () => this.editor.update(null, e, i), t);\n              }), this.emitter.on(N.A.events.SCROLL_EMBED_UPDATE, (t, e) => {\n                const n = this.selection.lastRange,\n                  [r] = this.selection.getRange(),\n                  i = n && r ? {\n                    oldRange: n,\n                    newRange: r\n                  } : void 0;\n                D.call(this, () => {\n                  const n = new (o())().retain(t.offset(this)).retain({\n                    [t.statics.blotName]: e\n                  });\n                  return this.editor.update(n, [], i);\n                }, I.sources.USER);\n              }), n) {\n                const t = this.clipboard.convert({\n                  html: `${n}<p><br></p>`,\n                  text: \"\\n\"\n                });\n                this.setContents(t);\n              }\n              this.history.clear(), this.options.placeholder && this.root.setAttribute(\"data-placeholder\", this.options.placeholder), this.options.readOnly && this.disable(), this.allowReadOnlyEdits = !1;\n            }\n            addContainer(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;\n              if (\"string\" == typeof t) {\n                const e = t;\n                (t = document.createElement(\"div\")).classList.add(e);\n              }\n              return this.container.insertBefore(t, e), t;\n            }\n            blur() {\n              this.selection.setRange(null);\n            }\n            deleteText(t, e, n) {\n              return [t, e,, n] = P(t, e, n), D.call(this, () => this.editor.deleteText(t, e), n, t, -1 * e);\n            }\n            disable() {\n              this.enable(!1);\n            }\n            editReadOnly(t) {\n              this.allowReadOnlyEdits = !0;\n              const e = t();\n              return this.allowReadOnlyEdits = !1, e;\n            }\n            enable() {\n              let t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];\n              this.scroll.enable(t), this.container.classList.toggle(\"ql-disabled\", !t);\n            }\n            focus() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n              this.selection.focus(), t.preventScroll || this.scrollSelectionIntoView();\n            }\n            format(t, e) {\n              let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : N.A.sources.API;\n              return D.call(this, () => {\n                const n = this.getSelection(!0);\n                let r = new (o())();\n                if (null == n) return r;\n                if (this.scroll.query(t, i.Scope.BLOCK)) r = this.editor.formatLine(n.index, n.length, {\n                  [t]: e\n                });else {\n                  if (0 === n.length) return this.selection.format(t, e), r;\n                  r = this.editor.formatText(n.index, n.length, {\n                    [t]: e\n                  });\n                }\n                return this.setSelection(n, N.A.sources.SILENT), r;\n              }, n);\n            }\n            formatLine(t, e, n, r, i) {\n              let s;\n              return [t, e, s, i] = P(t, e, n, r, i), D.call(this, () => this.editor.formatLine(t, e, s), i, t, 0);\n            }\n            formatText(t, e, n, r, i) {\n              let s;\n              return [t, e, s, i] = P(t, e, n, r, i), D.call(this, () => this.editor.formatText(t, e, s), i, t, 0);\n            }\n            getBounds(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,\n                n = null;\n              if (n = \"number\" == typeof t ? this.selection.getBounds(t, e) : this.selection.getBounds(t.index, t.length), !n) return null;\n              const r = this.container.getBoundingClientRect();\n              return {\n                bottom: n.bottom - r.top,\n                height: n.height,\n                left: n.left - r.left,\n                right: n.right - r.left,\n                top: n.top - r.top,\n                width: n.width\n              };\n            }\n            getContents() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,\n                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.getLength() - t;\n              return [t, e] = P(t, e), this.editor.getContents(t, e);\n            }\n            getFormat() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.getSelection(!0),\n                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n              return \"number\" == typeof t ? this.editor.getFormat(t, e) : this.editor.getFormat(t.index, t.length);\n            }\n            getIndex(t) {\n              return t.offset(this.scroll);\n            }\n            getLength() {\n              return this.scroll.length();\n            }\n            getLeaf(t) {\n              return this.scroll.leaf(t);\n            }\n            getLine(t) {\n              return this.scroll.line(t);\n            }\n            getLines() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,\n                e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Number.MAX_VALUE;\n              return \"number\" != typeof t ? this.scroll.lines(t.index, t.length) : this.scroll.lines(t, e);\n            }\n            getModule(t) {\n              return this.theme.modules[t];\n            }\n            getSelection() {\n              return arguments.length > 0 && void 0 !== arguments[0] && arguments[0] && this.focus(), this.update(), this.selection.getRange()[0];\n            }\n            getSemanticHTML() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,\n                e = arguments.length > 1 ? arguments[1] : void 0;\n              return \"number\" == typeof t && (e = e ?? this.getLength() - t), [t, e] = P(t, e), this.editor.getHTML(t, e);\n            }\n            getText() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,\n                e = arguments.length > 1 ? arguments[1] : void 0;\n              return \"number\" == typeof t && (e = e ?? this.getLength() - t), [t, e] = P(t, e), this.editor.getText(t, e);\n            }\n            hasFocus() {\n              return this.selection.hasFocus();\n            }\n            insertEmbed(t, e, n) {\n              let r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : I.sources.API;\n              return D.call(this, () => this.editor.insertEmbed(t, e, n), r, t);\n            }\n            insertText(t, e, n, r, i) {\n              let s;\n              return [t,, s, i] = P(t, 0, n, r, i), D.call(this, () => this.editor.insertText(t, e, s), i, t, e.length);\n            }\n            isEnabled() {\n              return this.scroll.isEnabled();\n            }\n            off() {\n              return this.emitter.off(...arguments);\n            }\n            on() {\n              return this.emitter.on(...arguments);\n            }\n            once() {\n              return this.emitter.once(...arguments);\n            }\n            removeFormat(t, e, n) {\n              return [t, e,, n] = P(t, e, n), D.call(this, () => this.editor.removeFormat(t, e), n, t);\n            }\n            scrollRectIntoView(t) {\n              ((t, e) => {\n                const n = t.ownerDocument;\n                let r = e,\n                  i = t;\n                for (; i;) {\n                  const t = i === n.body,\n                    e = t ? {\n                      top: 0,\n                      right: window.visualViewport?.width ?? n.documentElement.clientWidth,\n                      bottom: window.visualViewport?.height ?? n.documentElement.clientHeight,\n                      left: 0\n                    } : S(i),\n                    o = getComputedStyle(i),\n                    l = T(r.left, r.right, e.left, e.right, O(o.scrollPaddingLeft), O(o.scrollPaddingRight)),\n                    a = T(r.top, r.bottom, e.top, e.bottom, O(o.scrollPaddingTop), O(o.scrollPaddingBottom));\n                  if (l || a) if (t) n.defaultView?.scrollBy(l, a);else {\n                    const {\n                      scrollLeft: t,\n                      scrollTop: e\n                    } = i;\n                    a && (i.scrollTop += a), l && (i.scrollLeft += l);\n                    const n = i.scrollLeft - t,\n                      s = i.scrollTop - e;\n                    r = {\n                      left: r.left - n,\n                      top: r.top - s,\n                      right: r.right - n,\n                      bottom: r.bottom - s\n                    };\n                  }\n                  i = t || \"fixed\" === o.position ? null : (s = i).parentElement || s.getRootNode().host || null;\n                }\n                var s;\n              })(this.root, t);\n            }\n            scrollIntoView() {\n              console.warn(\"Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead.\"), this.scrollSelectionIntoView();\n            }\n            scrollSelectionIntoView() {\n              const t = this.selection.lastRange,\n                e = t && this.selection.getBounds(t.index, t.length);\n              e && this.scrollRectIntoView(e);\n            }\n            setContents(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : N.A.sources.API;\n              return D.call(this, () => {\n                t = new (o())(t);\n                const e = this.getLength(),\n                  n = this.editor.deleteText(0, e),\n                  r = this.editor.insertContents(0, t),\n                  i = this.editor.deleteText(this.getLength() - 1, 1);\n                return n.compose(r).compose(i);\n              }, e);\n            }\n            setSelection(t, e, n) {\n              null == t ? this.selection.setRange(null, e || I.sources.API) : ([t, e,, n] = P(t, e, n), this.selection.setRange(new f.Q(Math.max(0, t), e), n), n !== N.A.sources.SILENT && this.scrollSelectionIntoView());\n            }\n            setText(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : N.A.sources.API;\n              const n = new (o())().insert(t);\n              return this.setContents(n, e);\n            }\n            update() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : N.A.sources.USER;\n              const e = this.scroll.update(t);\n              return this.selection.update(t), e;\n            }\n            updateContents(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : N.A.sources.API;\n              return D.call(this, () => (t = new (o())(t), this.editor.applyDelta(t)), e, !0);\n            }\n          }\n          _defineProperty(I, \"DEFAULTS\", {\n            bounds: null,\n            modules: {\n              clipboard: !0,\n              keyboard: !0,\n              history: !0,\n              uploader: !0\n            },\n            placeholder: \"\",\n            readOnly: !1,\n            registry: R,\n            theme: \"default\"\n          });\n          _defineProperty(I, \"events\", N.A.events);\n          _defineProperty(I, \"sources\", N.A.sources);\n          _defineProperty(I, \"version\", \"2.0.2\");\n          _defineProperty(I, \"imports\", {\n            delta: o(),\n            parchment: i,\n            \"core/module\": q.A,\n            \"core/theme\": L.A\n          });\n          function B(t) {\n            return \"string\" == typeof t ? document.querySelector(t) : t;\n          }\n          function M(t) {\n            return Object.entries(t ?? {}).reduce((t, e) => {\n              let [n, r] = e;\n              return {\n                ...t,\n                [n]: !0 === r ? {} : r\n              };\n            }, {});\n          }\n          function U(t) {\n            return Object.fromEntries(Object.entries(t).filter(t => void 0 !== t[1]));\n          }\n          function D(t, e, n, r) {\n            if (!this.isEnabled() && e === N.A.sources.USER && !this.allowReadOnlyEdits) return new (o())();\n            let i = null == n ? null : this.getSelection();\n            const s = this.editor.delta,\n              l = t();\n            if (null != i && (!0 === n && (n = i.index), null == r ? i = z(i, l, e) : 0 !== r && (i = z(i, n, r, e)), this.setSelection(i, N.A.sources.SILENT)), l.length() > 0) {\n              const t = [N.A.events.TEXT_CHANGE, l, s, e];\n              this.emitter.emit(N.A.events.EDITOR_CHANGE, ...t), e !== N.A.sources.SILENT && this.emitter.emit(...t);\n            }\n            return l;\n          }\n          function P(t, e, n, r, i) {\n            let s = {};\n            return \"number\" == typeof t.index && \"number\" == typeof t.length ? \"number\" != typeof e ? (i = r, r = n, n = e, e = t.length, t = t.index) : (e = t.length, t = t.index) : \"number\" != typeof e && (i = r, r = n, n = e, e = 0), \"object\" == typeof n ? (s = n, i = r) : \"string\" == typeof n && (null != r ? s[n] = r : i = n), [t, e, s, i = i || N.A.sources.API];\n          }\n          function z(t, e, n, r) {\n            const i = \"number\" == typeof n ? n : 0;\n            if (null == t) return null;\n            let s, o;\n            return e && \"function\" == typeof e.transformPosition ? [s, o] = [t.index, t.index + t.length].map(t => e.transformPosition(t, r !== N.A.sources.USER)) : [s, o] = [t.index, t.index + t.length].map(t => t < e || t === e && r === N.A.sources.USER ? t : i >= 0 ? t + i : Math.max(e, t + i)), new f.Q(s, o - s);\n          }\n        },\n        8298: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            Q: function () {\n              return a;\n            }\n          });\n          var r = n(6003),\n            i = n(5123),\n            s = n(3707),\n            o = n(5374);\n          const l = (0, n(6078).A)(\"quill:selection\");\n          class a {\n            constructor(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n              this.index = t, this.length = e;\n            }\n          }\n          function c(t, e) {\n            try {\n              e.parentNode;\n            } catch (t) {\n              return !1;\n            }\n            return t.contains(e);\n          }\n          e.A = class {\n            constructor(t, e) {\n              this.emitter = e, this.scroll = t, this.composing = !1, this.mouseDown = !1, this.root = this.scroll.domNode, this.cursor = this.scroll.create(\"cursor\", this), this.savedRange = new a(0, 0), this.lastRange = this.savedRange, this.lastNative = null, this.handleComposition(), this.handleDragging(), this.emitter.listenDOM(\"selectionchange\", document, () => {\n                this.mouseDown || this.composing || setTimeout(this.update.bind(this, o.A.sources.USER), 1);\n              }), this.emitter.on(o.A.events.SCROLL_BEFORE_UPDATE, () => {\n                if (!this.hasFocus()) return;\n                const t = this.getNativeRange();\n                null != t && t.start.node !== this.cursor.textNode && this.emitter.once(o.A.events.SCROLL_UPDATE, (e, n) => {\n                  try {\n                    this.root.contains(t.start.node) && this.root.contains(t.end.node) && this.setNativeRange(t.start.node, t.start.offset, t.end.node, t.end.offset);\n                    const r = n.some(t => \"characterData\" === t.type || \"childList\" === t.type || \"attributes\" === t.type && t.target === this.root);\n                    this.update(r ? o.A.sources.SILENT : e);\n                  } catch (t) {}\n                });\n              }), this.emitter.on(o.A.events.SCROLL_OPTIMIZE, (t, e) => {\n                if (e.range) {\n                  const {\n                    startNode: t,\n                    startOffset: n,\n                    endNode: r,\n                    endOffset: i\n                  } = e.range;\n                  this.setNativeRange(t, n, r, i), this.update(o.A.sources.SILENT);\n                }\n              }), this.update(o.A.sources.SILENT);\n            }\n            handleComposition() {\n              this.emitter.on(o.A.events.COMPOSITION_BEFORE_START, () => {\n                this.composing = !0;\n              }), this.emitter.on(o.A.events.COMPOSITION_END, () => {\n                if (this.composing = !1, this.cursor.parent) {\n                  const t = this.cursor.restore();\n                  if (!t) return;\n                  setTimeout(() => {\n                    this.setNativeRange(t.startNode, t.startOffset, t.endNode, t.endOffset);\n                  }, 1);\n                }\n              });\n            }\n            handleDragging() {\n              this.emitter.listenDOM(\"mousedown\", document.body, () => {\n                this.mouseDown = !0;\n              }), this.emitter.listenDOM(\"mouseup\", document.body, () => {\n                this.mouseDown = !1, this.update(o.A.sources.USER);\n              });\n            }\n            focus() {\n              this.hasFocus() || (this.root.focus({\n                preventScroll: !0\n              }), this.setRange(this.savedRange));\n            }\n            format(t, e) {\n              this.scroll.update();\n              const n = this.getNativeRange();\n              if (null != n && n.native.collapsed && !this.scroll.query(t, r.Scope.BLOCK)) {\n                if (n.start.node !== this.cursor.textNode) {\n                  const t = this.scroll.find(n.start.node, !1);\n                  if (null == t) return;\n                  if (t instanceof r.LeafBlot) {\n                    const e = t.split(n.start.offset);\n                    t.parent.insertBefore(this.cursor, e);\n                  } else t.insertBefore(this.cursor, n.start.node);\n                  this.cursor.attach();\n                }\n                this.cursor.format(t, e), this.scroll.optimize(), this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length), this.update();\n              }\n            }\n            getBounds(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n              const n = this.scroll.length();\n              let r;\n              t = Math.min(t, n - 1), e = Math.min(t + e, n - 1) - t;\n              let [i, s] = this.scroll.leaf(t);\n              if (null == i) return null;\n              if (e > 0 && s === i.length()) {\n                const [e] = this.scroll.leaf(t + 1);\n                if (e) {\n                  const [n] = this.scroll.line(t),\n                    [r] = this.scroll.line(t + 1);\n                  n === r && (i = e, s = 0);\n                }\n              }\n              [r, s] = i.position(s, !0);\n              const o = document.createRange();\n              if (e > 0) return o.setStart(r, s), [i, s] = this.scroll.leaf(t + e), null == i ? null : ([r, s] = i.position(s, !0), o.setEnd(r, s), o.getBoundingClientRect());\n              let l,\n                a = \"left\";\n              if (r instanceof Text) {\n                if (!r.data.length) return null;\n                s < r.data.length ? (o.setStart(r, s), o.setEnd(r, s + 1)) : (o.setStart(r, s - 1), o.setEnd(r, s), a = \"right\"), l = o.getBoundingClientRect();\n              } else {\n                if (!(i.domNode instanceof Element)) return null;\n                l = i.domNode.getBoundingClientRect(), s > 0 && (a = \"right\");\n              }\n              return {\n                bottom: l.top + l.height,\n                height: l.height,\n                left: l[a],\n                right: l[a],\n                top: l.top,\n                width: 0\n              };\n            }\n            getNativeRange() {\n              const t = document.getSelection();\n              if (null == t || t.rangeCount <= 0) return null;\n              const e = t.getRangeAt(0);\n              if (null == e) return null;\n              const n = this.normalizeNative(e);\n              return l.info(\"getNativeRange\", n), n;\n            }\n            getRange() {\n              const t = this.scroll.domNode;\n              if (\"isConnected\" in t && !t.isConnected) return [null, null];\n              const e = this.getNativeRange();\n              return null == e ? [null, null] : [this.normalizedToRange(e), e];\n            }\n            hasFocus() {\n              return document.activeElement === this.root || null != document.activeElement && c(this.root, document.activeElement);\n            }\n            normalizedToRange(t) {\n              const e = [[t.start.node, t.start.offset]];\n              t.native.collapsed || e.push([t.end.node, t.end.offset]);\n              const n = e.map(t => {\n                  const [e, n] = t,\n                    i = this.scroll.find(e, !0),\n                    s = i.offset(this.scroll);\n                  return 0 === n ? s : i instanceof r.LeafBlot ? s + i.index(e, n) : s + i.length();\n                }),\n                i = Math.min(Math.max(...n), this.scroll.length() - 1),\n                s = Math.min(i, ...n);\n              return new a(s, i - s);\n            }\n            normalizeNative(t) {\n              if (!c(this.root, t.startContainer) || !t.collapsed && !c(this.root, t.endContainer)) return null;\n              const e = {\n                start: {\n                  node: t.startContainer,\n                  offset: t.startOffset\n                },\n                end: {\n                  node: t.endContainer,\n                  offset: t.endOffset\n                },\n                native: t\n              };\n              return [e.start, e.end].forEach(t => {\n                let {\n                  node: e,\n                  offset: n\n                } = t;\n                for (; !(e instanceof Text) && e.childNodes.length > 0;) if (e.childNodes.length > n) e = e.childNodes[n], n = 0;else {\n                  if (e.childNodes.length !== n) break;\n                  e = e.lastChild, n = e instanceof Text ? e.data.length : e.childNodes.length > 0 ? e.childNodes.length : e.childNodes.length + 1;\n                }\n                t.node = e, t.offset = n;\n              }), e;\n            }\n            rangeToNative(t) {\n              const e = this.scroll.length(),\n                n = (t, n) => {\n                  t = Math.min(e - 1, t);\n                  const [r, i] = this.scroll.leaf(t);\n                  return r ? r.position(i, n) : [null, -1];\n                };\n              return [...n(t.index, !1), ...n(t.index + t.length, !0)];\n            }\n            setNativeRange(t, e) {\n              let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t,\n                r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : e,\n                i = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];\n              if (l.info(\"setNativeRange\", t, e, n, r), null != t && (null == this.root.parentNode || null == t.parentNode || null == n.parentNode)) return;\n              const s = document.getSelection();\n              if (null != s) if (null != t) {\n                this.hasFocus() || this.root.focus({\n                  preventScroll: !0\n                });\n                const {\n                  native: o\n                } = this.getNativeRange() || {};\n                if (null == o || i || t !== o.startContainer || e !== o.startOffset || n !== o.endContainer || r !== o.endOffset) {\n                  t instanceof Element && \"BR\" === t.tagName && (e = Array.from(t.parentNode.childNodes).indexOf(t), t = t.parentNode), n instanceof Element && \"BR\" === n.tagName && (r = Array.from(n.parentNode.childNodes).indexOf(n), n = n.parentNode);\n                  const i = document.createRange();\n                  i.setStart(t, e), i.setEnd(n, r), s.removeAllRanges(), s.addRange(i);\n                }\n              } else s.removeAllRanges(), this.root.blur();\n            }\n            setRange(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],\n                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : o.A.sources.API;\n              if (\"string\" == typeof e && (n = e, e = !1), l.info(\"setRange\", t), null != t) {\n                const n = this.rangeToNative(t);\n                this.setNativeRange(...n, e);\n              } else this.setNativeRange(null);\n              this.update(n);\n            }\n            update() {\n              let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : o.A.sources.USER;\n              const e = this.lastRange,\n                [n, r] = this.getRange();\n              if (this.lastRange = n, this.lastNative = r, null != this.lastRange && (this.savedRange = this.lastRange), !(0, i.A)(e, this.lastRange)) {\n                if (!this.composing && null != r && r.native.collapsed && r.start.node !== this.cursor.textNode) {\n                  const t = this.cursor.restore();\n                  t && this.setNativeRange(t.startNode, t.startOffset, t.endNode, t.endOffset);\n                }\n                const n = [o.A.events.SELECTION_CHANGE, (0, s.A)(this.lastRange), (0, s.A)(e), t];\n                this.emitter.emit(o.A.events.EDITOR_CHANGE, ...n), t !== o.A.sources.SILENT && this.emitter.emit(...n);\n              }\n            }\n          };\n        },\n        9609: function (t, e) {\n          \"use strict\";\n\n          var _n;\n          class n {\n            constructor(t, e) {\n              _defineProperty(this, \"modules\", {});\n              this.quill = t, this.options = e;\n            }\n            init() {\n              Object.keys(this.options.modules).forEach(t => {\n                null == this.modules[t] && this.addModule(t);\n              });\n            }\n            addModule(t) {\n              const e = this.quill.constructor.import(`modules/${t}`);\n              return this.modules[t] = new e(this.quill, this.options.modules[t] || {}), this.modules[t];\n            }\n          }\n          _n = n;\n          _defineProperty(n, \"DEFAULTS\", {\n            modules: {}\n          });\n          _defineProperty(n, \"themes\", {\n            default: _n\n          });\n          e.A = n;\n        },\n        8276: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            Hu: function () {\n              return l;\n            },\n            gS: function () {\n              return s;\n            },\n            qh: function () {\n              return o;\n            }\n          });\n          var r = n(6003);\n          const i = {\n              scope: r.Scope.BLOCK,\n              whitelist: [\"right\", \"center\", \"justify\"]\n            },\n            s = new r.Attributor(\"align\", \"align\", i),\n            o = new r.ClassAttributor(\"align\", \"ql-align\", i),\n            l = new r.StyleAttributor(\"align\", \"text-align\", i);\n        },\n        9541: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            l: function () {\n              return s;\n            },\n            s: function () {\n              return o;\n            }\n          });\n          var r = n(6003),\n            i = n(8638);\n          const s = new r.ClassAttributor(\"background\", \"ql-bg\", {\n              scope: r.Scope.INLINE\n            }),\n            o = new i.a2(\"background\", \"background-color\", {\n              scope: r.Scope.INLINE\n            });\n        },\n        9404: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            Ay: function () {\n              return h;\n            },\n            Cy: function () {\n              return d;\n            },\n            EJ: function () {\n              return u;\n            }\n          });\n          var r = n(9698),\n            i = n(3036),\n            s = n(4541),\n            o = n(4850),\n            l = n(5508),\n            a = n(580),\n            c = n(6142);\n          class u extends a.A {\n            static create(t) {\n              const e = super.create(t);\n              return e.setAttribute(\"spellcheck\", \"false\"), e;\n            }\n            code(t, e) {\n              return this.children.map(t => t.length() <= 1 ? \"\" : t.domNode.innerText).join(\"\\n\").slice(t, t + e);\n            }\n            html(t, e) {\n              return `<pre>\\n${(0, l.X)(this.code(t, e))}\\n</pre>`;\n            }\n          }\n          class h extends r.Ay {\n            static register() {\n              c.Ay.register(u);\n            }\n          }\n          _defineProperty(h, \"TAB\", \"  \");\n          class d extends o.A {}\n          d.blotName = \"code\", d.tagName = \"CODE\", h.blotName = \"code-block\", h.className = \"ql-code-block\", h.tagName = \"DIV\", u.blotName = \"code-block-container\", u.className = \"ql-code-block-container\", u.tagName = \"DIV\", u.allowedChildren = [h], h.allowedChildren = [l.A, i.A, s.A], h.requiredContainer = u;\n        },\n        8638: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            JM: function () {\n              return o;\n            },\n            a2: function () {\n              return i;\n            },\n            g3: function () {\n              return s;\n            }\n          });\n          var r = n(6003);\n          class i extends r.StyleAttributor {\n            value(t) {\n              let e = super.value(t);\n              return e.startsWith(\"rgb(\") ? (e = e.replace(/^[^\\d]+/, \"\").replace(/[^\\d]+$/, \"\"), `#${e.split(\",\").map(t => `00${parseInt(t, 10).toString(16)}`.slice(-2)).join(\"\")}`) : e;\n            }\n          }\n          const s = new r.ClassAttributor(\"color\", \"ql-color\", {\n              scope: r.Scope.INLINE\n            }),\n            o = new i(\"color\", \"color\", {\n              scope: r.Scope.INLINE\n            });\n        },\n        7912: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            Mc: function () {\n              return s;\n            },\n            VL: function () {\n              return l;\n            },\n            sY: function () {\n              return o;\n            }\n          });\n          var r = n(6003);\n          const i = {\n              scope: r.Scope.BLOCK,\n              whitelist: [\"rtl\"]\n            },\n            s = new r.Attributor(\"direction\", \"dir\", i),\n            o = new r.ClassAttributor(\"direction\", \"ql-direction\", i),\n            l = new r.StyleAttributor(\"direction\", \"direction\", i);\n        },\n        6772: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            q: function () {\n              return s;\n            },\n            z: function () {\n              return l;\n            }\n          });\n          var r = n(6003);\n          const i = {\n              scope: r.Scope.INLINE,\n              whitelist: [\"serif\", \"monospace\"]\n            },\n            s = new r.ClassAttributor(\"font\", \"ql-font\", i);\n          class o extends r.StyleAttributor {\n            value(t) {\n              return super.value(t).replace(/[\"']/g, \"\");\n            }\n          }\n          const l = new o(\"font\", \"font-family\", i);\n        },\n        664: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            U: function () {\n              return i;\n            },\n            r: function () {\n              return s;\n            }\n          });\n          var r = n(6003);\n          const i = new r.ClassAttributor(\"size\", \"ql-size\", {\n              scope: r.Scope.INLINE,\n              whitelist: [\"small\", \"large\", \"huge\"]\n            }),\n            s = new r.StyleAttributor(\"size\", \"font-size\", {\n              scope: r.Scope.INLINE,\n              whitelist: [\"10px\", \"18px\", \"32px\"]\n            });\n        },\n        584: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            Ay: function () {\n              return S;\n            },\n            hV: function () {\n              return I;\n            }\n          });\n          var r = n(6003),\n            i = n(5232),\n            s = n.n(i),\n            o = n(9698),\n            l = n(6078),\n            a = n(4266),\n            c = n(6142),\n            u = n(8276),\n            h = n(9541),\n            d = n(9404),\n            f = n(8638),\n            p = n(7912),\n            g = n(6772),\n            m = n(664),\n            b = n(8123);\n          const y = /font-weight:\\s*normal/,\n            v = [\"P\", \"OL\", \"UL\"],\n            A = t => t && v.includes(t.tagName),\n            x = /\\bmso-list:[^;]*ignore/i,\n            N = /\\bmso-list:[^;]*\\bl(\\d+)/i,\n            E = /\\bmso-list:[^;]*\\blevel(\\d+)/i,\n            w = [function (t) {\n              \"urn:schemas-microsoft-com:office:word\" === t.documentElement.getAttribute(\"xmlns:w\") && (t => {\n                const e = Array.from(t.querySelectorAll(\"[style*=mso-list]\")),\n                  n = [],\n                  r = [];\n                e.forEach(t => {\n                  (t.getAttribute(\"style\") || \"\").match(x) ? n.push(t) : r.push(t);\n                }), n.forEach(t => t.parentNode?.removeChild(t));\n                const i = t.documentElement.innerHTML,\n                  s = r.map(t => ((t, e) => {\n                    const n = t.getAttribute(\"style\"),\n                      r = n?.match(N);\n                    if (!r) return null;\n                    const i = Number(r[1]),\n                      s = n?.match(E),\n                      o = s ? Number(s[1]) : 1,\n                      l = new RegExp(`@list l${i}:level${o}\\\\s*\\\\{[^\\\\}]*mso-level-number-format:\\\\s*([\\\\w-]+)`, \"i\"),\n                      a = e.match(l);\n                    return {\n                      id: i,\n                      indent: o,\n                      type: a && \"bullet\" === a[1] ? \"bullet\" : \"ordered\",\n                      element: t\n                    };\n                  })(t, i)).filter(t => t);\n                for (; s.length;) {\n                  const t = [];\n                  let e = s.shift();\n                  for (; e;) t.push(e), e = s.length && s[0]?.element === e.element.nextElementSibling && s[0].id === e.id ? s.shift() : null;\n                  const n = document.createElement(\"ul\");\n                  t.forEach(t => {\n                    const e = document.createElement(\"li\");\n                    e.setAttribute(\"data-list\", t.type), t.indent > 1 && e.setAttribute(\"class\", \"ql-indent-\" + (t.indent - 1)), e.innerHTML = t.element.innerHTML, n.appendChild(e);\n                  });\n                  const r = t[0]?.element,\n                    {\n                      parentNode: i\n                    } = r ?? {};\n                  r && i?.replaceChild(n, r), t.slice(1).forEach(t => {\n                    let {\n                      element: e\n                    } = t;\n                    i?.removeChild(e);\n                  });\n                }\n              })(t);\n            }, function (t) {\n              t.querySelector('[id^=\"docs-internal-guid-\"]') && ((t => {\n                Array.from(t.querySelectorAll('b[style*=\"font-weight\"]')).filter(t => t.getAttribute(\"style\")?.match(y)).forEach(e => {\n                  const n = t.createDocumentFragment();\n                  n.append(...e.childNodes), e.parentNode?.replaceChild(n, e);\n                });\n              })(t), (t => {\n                Array.from(t.querySelectorAll(\"br\")).filter(t => A(t.previousElementSibling) && A(t.nextElementSibling)).forEach(t => {\n                  t.parentNode?.removeChild(t);\n                });\n              })(t));\n            }];\n          const q = (0, l.A)(\"quill:clipboard\"),\n            k = [[Node.TEXT_NODE, function (t, e, n) {\n              let r = t.data;\n              if (\"O:P\" === t.parentElement?.tagName) return e.insert(r.trim());\n              if (!R(t)) {\n                if (0 === r.trim().length && r.includes(\"\\n\") && !function (t, e) {\n                  return t.previousElementSibling && t.nextElementSibling && !j(t.previousElementSibling, e) && !j(t.nextElementSibling, e);\n                }(t, n)) return e;\n                const i = (t, e) => {\n                  const n = e.replace(/[^\\u00a0]/g, \"\");\n                  return n.length < 1 && t ? \" \" : n;\n                };\n                r = r.replace(/\\r\\n/g, \" \").replace(/\\n/g, \" \"), r = r.replace(/\\s\\s+/g, i.bind(i, !0)), (null == t.previousSibling && null != t.parentElement && j(t.parentElement, n) || t.previousSibling instanceof Element && j(t.previousSibling, n)) && (r = r.replace(/^\\s+/, i.bind(i, !1))), (null == t.nextSibling && null != t.parentElement && j(t.parentElement, n) || t.nextSibling instanceof Element && j(t.nextSibling, n)) && (r = r.replace(/\\s+$/, i.bind(i, !1)));\n              }\n              return e.insert(r);\n            }], [Node.TEXT_NODE, M], [\"br\", function (t, e) {\n              return T(e, \"\\n\") || e.insert(\"\\n\"), e;\n            }], [Node.ELEMENT_NODE, M], [Node.ELEMENT_NODE, function (t, e, n) {\n              const i = n.query(t);\n              if (null == i) return e;\n              if (i.prototype instanceof r.EmbedBlot) {\n                const e = {},\n                  r = i.value(t);\n                if (null != r) return e[i.blotName] = r, new (s())().insert(e, i.formats(t, n));\n              } else if (i.prototype instanceof r.BlockBlot && !T(e, \"\\n\") && e.insert(\"\\n\"), \"blotName\" in i && \"formats\" in i && \"function\" == typeof i.formats) return O(e, i.blotName, i.formats(t, n), n);\n              return e;\n            }], [Node.ELEMENT_NODE, function (t, e, n) {\n              const i = r.Attributor.keys(t),\n                s = r.ClassAttributor.keys(t),\n                o = r.StyleAttributor.keys(t),\n                l = {};\n              return i.concat(s).concat(o).forEach(e => {\n                let i = n.query(e, r.Scope.ATTRIBUTE);\n                null != i && (l[i.attrName] = i.value(t), l[i.attrName]) || (i = _[e], null == i || i.attrName !== e && i.keyName !== e || (l[i.attrName] = i.value(t) || void 0), i = L[e], null == i || i.attrName !== e && i.keyName !== e || (i = L[e], l[i.attrName] = i.value(t) || void 0));\n              }), Object.entries(l).reduce((t, e) => {\n                let [r, i] = e;\n                return O(t, r, i, n);\n              }, e);\n            }], [Node.ELEMENT_NODE, function (t, e, n) {\n              const r = {},\n                i = t.style || {};\n              return \"italic\" === i.fontStyle && (r.italic = !0), \"underline\" === i.textDecoration && (r.underline = !0), \"line-through\" === i.textDecoration && (r.strike = !0), (i.fontWeight?.startsWith(\"bold\") || parseInt(i.fontWeight, 10) >= 700) && (r.bold = !0), e = Object.entries(r).reduce((t, e) => {\n                let [r, i] = e;\n                return O(t, r, i, n);\n              }, e), parseFloat(i.textIndent || 0) > 0 ? new (s())().insert(\"\\t\").concat(e) : e;\n            }], [\"li\", function (t, e, n) {\n              const r = n.query(t);\n              if (null == r || \"list\" !== r.blotName || !T(e, \"\\n\")) return e;\n              let i = -1,\n                o = t.parentNode;\n              for (; null != o;) [\"OL\", \"UL\"].includes(o.tagName) && (i += 1), o = o.parentNode;\n              return i <= 0 ? e : e.reduce((t, e) => e.insert ? e.attributes && \"number\" == typeof e.attributes.indent ? t.push(e) : t.insert(e.insert, {\n                indent: i,\n                ...(e.attributes || {})\n              }) : t, new (s())());\n            }], [\"ol, ul\", function (t, e, n) {\n              const r = t;\n              let i = \"OL\" === r.tagName ? \"ordered\" : \"bullet\";\n              const s = r.getAttribute(\"data-checked\");\n              return s && (i = \"true\" === s ? \"checked\" : \"unchecked\"), O(e, \"list\", i, n);\n            }], [\"pre\", function (t, e, n) {\n              const r = n.query(\"code-block\");\n              return O(e, \"code-block\", !r || !(\"formats\" in r) || \"function\" != typeof r.formats || r.formats(t, n), n);\n            }], [\"tr\", function (t, e, n) {\n              const r = \"TABLE\" === t.parentElement?.tagName ? t.parentElement : t.parentElement?.parentElement;\n              return null != r ? O(e, \"table\", Array.from(r.querySelectorAll(\"tr\")).indexOf(t) + 1, n) : e;\n            }], [\"b\", B(\"bold\")], [\"i\", B(\"italic\")], [\"strike\", B(\"strike\")], [\"style\", function () {\n              return new (s())();\n            }]],\n            _ = [u.gS, p.Mc].reduce((t, e) => (t[e.keyName] = e, t), {}),\n            L = [u.Hu, h.s, f.JM, p.VL, g.z, m.r].reduce((t, e) => (t[e.keyName] = e, t), {});\n          class S extends a.A {\n            constructor(t, e) {\n              super(t, e), this.quill.root.addEventListener(\"copy\", t => this.onCaptureCopy(t, !1)), this.quill.root.addEventListener(\"cut\", t => this.onCaptureCopy(t, !0)), this.quill.root.addEventListener(\"paste\", this.onCapturePaste.bind(this)), this.matchers = [], k.concat(this.options.matchers ?? []).forEach(t => {\n                let [e, n] = t;\n                this.addMatcher(e, n);\n              });\n            }\n            addMatcher(t, e) {\n              this.matchers.push([t, e]);\n            }\n            convert(t) {\n              let {\n                  html: e,\n                  text: n\n                } = t,\n                r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n              if (r[d.Ay.blotName]) return new (s())().insert(n || \"\", {\n                [d.Ay.blotName]: r[d.Ay.blotName]\n              });\n              if (!e) return new (s())().insert(n || \"\", r);\n              const i = this.convertHTML(e);\n              return T(i, \"\\n\") && (null == i.ops[i.ops.length - 1].attributes || r.table) ? i.compose(new (s())().retain(i.length() - 1).delete(1)) : i;\n            }\n            normalizeHTML(t) {\n              (t => {\n                t.documentElement && w.forEach(e => {\n                  e(t);\n                });\n              })(t);\n            }\n            convertHTML(t) {\n              const e = new DOMParser().parseFromString(t, \"text/html\");\n              this.normalizeHTML(e);\n              const n = e.body,\n                r = new WeakMap(),\n                [i, s] = this.prepareMatching(n, r);\n              return I(this.quill.scroll, n, i, s, r);\n            }\n            dangerouslyPasteHTML(t, e) {\n              let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : c.Ay.sources.API;\n              if (\"string\" == typeof t) {\n                const n = this.convert({\n                  html: t,\n                  text: \"\"\n                });\n                this.quill.setContents(n, e), this.quill.setSelection(0, c.Ay.sources.SILENT);\n              } else {\n                const r = this.convert({\n                  html: e,\n                  text: \"\"\n                });\n                this.quill.updateContents(new (s())().retain(t).concat(r), n), this.quill.setSelection(t + r.length(), c.Ay.sources.SILENT);\n              }\n            }\n            onCaptureCopy(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n              if (t.defaultPrevented) return;\n              t.preventDefault();\n              const [n] = this.quill.selection.getRange();\n              if (null == n) return;\n              const {\n                html: r,\n                text: i\n              } = this.onCopy(n, e);\n              t.clipboardData?.setData(\"text/plain\", i), t.clipboardData?.setData(\"text/html\", r), e && (0, b.Xo)({\n                range: n,\n                quill: this.quill\n              });\n            }\n            normalizeURIList(t) {\n              return t.split(/\\r?\\n/).filter(t => \"#\" !== t[0]).join(\"\\n\");\n            }\n            onCapturePaste(t) {\n              if (t.defaultPrevented || !this.quill.isEnabled()) return;\n              t.preventDefault();\n              const e = this.quill.getSelection(!0);\n              if (null == e) return;\n              const n = t.clipboardData?.getData(\"text/html\");\n              let r = t.clipboardData?.getData(\"text/plain\");\n              if (!n && !r) {\n                const e = t.clipboardData?.getData(\"text/uri-list\");\n                e && (r = this.normalizeURIList(e));\n              }\n              const i = Array.from(t.clipboardData?.files || []);\n              if (!n && i.length > 0) this.quill.uploader.upload(e, i);else {\n                if (n && i.length > 0) {\n                  const t = new DOMParser().parseFromString(n, \"text/html\");\n                  if (1 === t.body.childElementCount && \"IMG\" === t.body.firstElementChild?.tagName) return void this.quill.uploader.upload(e, i);\n                }\n                this.onPaste(e, {\n                  html: n,\n                  text: r\n                });\n              }\n            }\n            onCopy(t) {\n              const e = this.quill.getText(t);\n              return {\n                html: this.quill.getSemanticHTML(t),\n                text: e\n              };\n            }\n            onPaste(t, e) {\n              let {\n                text: n,\n                html: r\n              } = e;\n              const i = this.quill.getFormat(t.index),\n                o = this.convert({\n                  text: n,\n                  html: r\n                }, i);\n              q.log(\"onPaste\", o, {\n                text: n,\n                html: r\n              });\n              const l = new (s())().retain(t.index).delete(t.length).concat(o);\n              this.quill.updateContents(l, c.Ay.sources.USER), this.quill.setSelection(l.length() - t.length, c.Ay.sources.SILENT), this.quill.scrollSelectionIntoView();\n            }\n            prepareMatching(t, e) {\n              const n = [],\n                r = [];\n              return this.matchers.forEach(i => {\n                const [s, o] = i;\n                switch (s) {\n                  case Node.TEXT_NODE:\n                    r.push(o);\n                    break;\n                  case Node.ELEMENT_NODE:\n                    n.push(o);\n                    break;\n                  default:\n                    Array.from(t.querySelectorAll(s)).forEach(t => {\n                      if (e.has(t)) {\n                        const n = e.get(t);\n                        n?.push(o);\n                      } else e.set(t, [o]);\n                    });\n                }\n              }), [n, r];\n            }\n          }\n          _defineProperty(S, \"DEFAULTS\", {\n            matchers: []\n          });\n          function O(t, e, n, r) {\n            return r.query(e) ? t.reduce((t, r) => {\n              if (!r.insert) return t;\n              if (r.attributes && r.attributes[e]) return t.push(r);\n              const i = n ? {\n                [e]: n\n              } : {};\n              return t.insert(r.insert, {\n                ...i,\n                ...r.attributes\n              });\n            }, new (s())()) : t;\n          }\n          function T(t, e) {\n            let n = \"\";\n            for (let r = t.ops.length - 1; r >= 0 && n.length < e.length; --r) {\n              const e = t.ops[r];\n              if (\"string\" != typeof e.insert) break;\n              n = e.insert + n;\n            }\n            return n.slice(-1 * e.length) === e;\n          }\n          function j(t, e) {\n            if (!(t instanceof Element)) return !1;\n            const n = e.query(t);\n            return !(n && n.prototype instanceof r.EmbedBlot) && [\"address\", \"article\", \"blockquote\", \"canvas\", \"dd\", \"div\", \"dl\", \"dt\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"header\", \"iframe\", \"li\", \"main\", \"nav\", \"ol\", \"output\", \"p\", \"pre\", \"section\", \"table\", \"td\", \"tr\", \"ul\", \"video\"].includes(t.tagName.toLowerCase());\n          }\n          const C = new WeakMap();\n          function R(t) {\n            return null != t && (C.has(t) || (\"PRE\" === t.tagName ? C.set(t, !0) : C.set(t, R(t.parentNode))), C.get(t));\n          }\n          function I(t, e, n, r, i) {\n            return e.nodeType === e.TEXT_NODE ? r.reduce((n, r) => r(e, n, t), new (s())()) : e.nodeType === e.ELEMENT_NODE ? Array.from(e.childNodes || []).reduce((s, o) => {\n              let l = I(t, o, n, r, i);\n              return o.nodeType === e.ELEMENT_NODE && (l = n.reduce((e, n) => n(o, e, t), l), l = (i.get(o) || []).reduce((e, n) => n(o, e, t), l)), s.concat(l);\n            }, new (s())()) : new (s())();\n          }\n          function B(t) {\n            return (e, n, r) => O(n, t, !0, r);\n          }\n          function M(t, e, n) {\n            if (!T(e, \"\\n\")) {\n              if (j(t, n) && (t.childNodes.length > 0 || t instanceof HTMLParagraphElement)) return e.insert(\"\\n\");\n              if (e.length() > 0 && t.nextSibling) {\n                let r = t.nextSibling;\n                for (; null != r;) {\n                  if (j(r, n)) return e.insert(\"\\n\");\n                  const t = n.query(r);\n                  if (t && t.prototype instanceof o.zo) return e.insert(\"\\n\");\n                  r = r.firstChild;\n                }\n              }\n            }\n            return e;\n          }\n        },\n        8123: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            Ay: function () {\n              return f;\n            },\n            Xo: function () {\n              return v;\n            }\n          });\n          var r = n(5123),\n            i = n(3707),\n            s = n(5232),\n            o = n.n(s),\n            l = n(6003),\n            a = n(6142),\n            c = n(6078),\n            u = n(4266);\n          const h = (0, c.A)(\"quill:keyboard\"),\n            d = /Mac/i.test(navigator.platform) ? \"metaKey\" : \"ctrlKey\";\n          class f extends u.A {\n            static match(t, e) {\n              return ![\"altKey\", \"ctrlKey\", \"metaKey\", \"shiftKey\"].some(n => !!e[n] !== t[n] && null !== e[n]) && (e.key === t.key || e.key === t.which);\n            }\n            constructor(t, e) {\n              super(t, e), this.bindings = {}, Object.keys(this.options.bindings).forEach(t => {\n                this.options.bindings[t] && this.addBinding(this.options.bindings[t]);\n              }), this.addBinding({\n                key: \"Enter\",\n                shiftKey: null\n              }, this.handleEnter), this.addBinding({\n                key: \"Enter\",\n                metaKey: null,\n                ctrlKey: null,\n                altKey: null\n              }, () => {}), /Firefox/i.test(navigator.userAgent) ? (this.addBinding({\n                key: \"Backspace\"\n              }, {\n                collapsed: !0\n              }, this.handleBackspace), this.addBinding({\n                key: \"Delete\"\n              }, {\n                collapsed: !0\n              }, this.handleDelete)) : (this.addBinding({\n                key: \"Backspace\"\n              }, {\n                collapsed: !0,\n                prefix: /^.?$/\n              }, this.handleBackspace), this.addBinding({\n                key: \"Delete\"\n              }, {\n                collapsed: !0,\n                suffix: /^.?$/\n              }, this.handleDelete)), this.addBinding({\n                key: \"Backspace\"\n              }, {\n                collapsed: !1\n              }, this.handleDeleteRange), this.addBinding({\n                key: \"Delete\"\n              }, {\n                collapsed: !1\n              }, this.handleDeleteRange), this.addBinding({\n                key: \"Backspace\",\n                altKey: null,\n                ctrlKey: null,\n                metaKey: null,\n                shiftKey: null\n              }, {\n                collapsed: !0,\n                offset: 0\n              }, this.handleBackspace), this.listen();\n            }\n            addBinding(t) {\n              let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n              const r = function (t) {\n                if (\"string\" == typeof t || \"number\" == typeof t) t = {\n                  key: t\n                };else {\n                  if (\"object\" != typeof t) return null;\n                  t = (0, i.A)(t);\n                }\n                return t.shortKey && (t[d] = t.shortKey, delete t.shortKey), t;\n              }(t);\n              null != r ? (\"function\" == typeof e && (e = {\n                handler: e\n              }), \"function\" == typeof n && (n = {\n                handler: n\n              }), (Array.isArray(r.key) ? r.key : [r.key]).forEach(t => {\n                const i = {\n                  ...r,\n                  key: t,\n                  ...e,\n                  ...n\n                };\n                this.bindings[i.key] = this.bindings[i.key] || [], this.bindings[i.key].push(i);\n              })) : h.warn(\"Attempted to add invalid keyboard binding\", r);\n            }\n            listen() {\n              this.quill.root.addEventListener(\"keydown\", t => {\n                if (t.defaultPrevented || t.isComposing) return;\n                if (229 === t.keyCode && (\"Enter\" === t.key || \"Backspace\" === t.key)) return;\n                const e = (this.bindings[t.key] || []).concat(this.bindings[t.which] || []).filter(e => f.match(t, e));\n                if (0 === e.length) return;\n                const n = a.Ay.find(t.target, !0);\n                if (n && n.scroll !== this.quill.scroll) return;\n                const i = this.quill.getSelection();\n                if (null == i || !this.quill.hasFocus()) return;\n                const [s, o] = this.quill.getLine(i.index),\n                  [c, u] = this.quill.getLeaf(i.index),\n                  [h, d] = 0 === i.length ? [c, u] : this.quill.getLeaf(i.index + i.length),\n                  p = c instanceof l.TextBlot ? c.value().slice(0, u) : \"\",\n                  g = h instanceof l.TextBlot ? h.value().slice(d) : \"\",\n                  m = {\n                    collapsed: 0 === i.length,\n                    empty: 0 === i.length && s.length() <= 1,\n                    format: this.quill.getFormat(i),\n                    line: s,\n                    offset: o,\n                    prefix: p,\n                    suffix: g,\n                    event: t\n                  };\n                e.some(t => {\n                  if (null != t.collapsed && t.collapsed !== m.collapsed) return !1;\n                  if (null != t.empty && t.empty !== m.empty) return !1;\n                  if (null != t.offset && t.offset !== m.offset) return !1;\n                  if (Array.isArray(t.format)) {\n                    if (t.format.every(t => null == m.format[t])) return !1;\n                  } else if (\"object\" == typeof t.format && !Object.keys(t.format).every(e => !0 === t.format[e] ? null != m.format[e] : !1 === t.format[e] ? null == m.format[e] : (0, r.A)(t.format[e], m.format[e]))) return !1;\n                  return !(null != t.prefix && !t.prefix.test(m.prefix) || null != t.suffix && !t.suffix.test(m.suffix) || !0 === t.handler.call(this, i, m, t));\n                }) && t.preventDefault();\n              });\n            }\n            handleBackspace(t, e) {\n              const n = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(e.prefix) ? 2 : 1;\n              if (0 === t.index || this.quill.getLength() <= 1) return;\n              let r = {};\n              const [i] = this.quill.getLine(t.index);\n              let l = new (o())().retain(t.index - n).delete(n);\n              if (0 === e.offset) {\n                const [e] = this.quill.getLine(t.index - 1);\n                if (e && !(\"block\" === e.statics.blotName && e.length() <= 1)) {\n                  const e = i.formats(),\n                    n = this.quill.getFormat(t.index - 1, 1);\n                  if (r = s.AttributeMap.diff(e, n) || {}, Object.keys(r).length > 0) {\n                    const e = new (o())().retain(t.index + i.length() - 2).retain(1, r);\n                    l = l.compose(e);\n                  }\n                }\n              }\n              this.quill.updateContents(l, a.Ay.sources.USER), this.quill.focus();\n            }\n            handleDelete(t, e) {\n              const n = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(e.suffix) ? 2 : 1;\n              if (t.index >= this.quill.getLength() - n) return;\n              let r = {};\n              const [i] = this.quill.getLine(t.index);\n              let l = new (o())().retain(t.index).delete(n);\n              if (e.offset >= i.length() - 1) {\n                const [e] = this.quill.getLine(t.index + 1);\n                if (e) {\n                  const n = i.formats(),\n                    o = this.quill.getFormat(t.index, 1);\n                  r = s.AttributeMap.diff(n, o) || {}, Object.keys(r).length > 0 && (l = l.retain(e.length() - 1).retain(1, r));\n                }\n              }\n              this.quill.updateContents(l, a.Ay.sources.USER), this.quill.focus();\n            }\n            handleDeleteRange(t) {\n              v({\n                range: t,\n                quill: this.quill\n              }), this.quill.focus();\n            }\n            handleEnter(t, e) {\n              const n = Object.keys(e.format).reduce((t, n) => (this.quill.scroll.query(n, l.Scope.BLOCK) && !Array.isArray(e.format[n]) && (t[n] = e.format[n]), t), {}),\n                r = new (o())().retain(t.index).delete(t.length).insert(\"\\n\", n);\n              this.quill.updateContents(r, a.Ay.sources.USER), this.quill.setSelection(t.index + 1, a.Ay.sources.SILENT), this.quill.focus();\n            }\n          }\n          const p = {\n            bindings: {\n              bold: b(\"bold\"),\n              italic: b(\"italic\"),\n              underline: b(\"underline\"),\n              indent: {\n                key: \"Tab\",\n                format: [\"blockquote\", \"indent\", \"list\"],\n                handler(t, e) {\n                  return !(!e.collapsed || 0 === e.offset) || (this.quill.format(\"indent\", \"+1\", a.Ay.sources.USER), !1);\n                }\n              },\n              outdent: {\n                key: \"Tab\",\n                shiftKey: !0,\n                format: [\"blockquote\", \"indent\", \"list\"],\n                handler(t, e) {\n                  return !(!e.collapsed || 0 === e.offset) || (this.quill.format(\"indent\", \"-1\", a.Ay.sources.USER), !1);\n                }\n              },\n              \"outdent backspace\": {\n                key: \"Backspace\",\n                collapsed: !0,\n                shiftKey: null,\n                metaKey: null,\n                ctrlKey: null,\n                altKey: null,\n                format: [\"indent\", \"list\"],\n                offset: 0,\n                handler(t, e) {\n                  null != e.format.indent ? this.quill.format(\"indent\", \"-1\", a.Ay.sources.USER) : null != e.format.list && this.quill.format(\"list\", !1, a.Ay.sources.USER);\n                }\n              },\n              \"indent code-block\": g(!0),\n              \"outdent code-block\": g(!1),\n              \"remove tab\": {\n                key: \"Tab\",\n                shiftKey: !0,\n                collapsed: !0,\n                prefix: /\\t$/,\n                handler(t) {\n                  this.quill.deleteText(t.index - 1, 1, a.Ay.sources.USER);\n                }\n              },\n              tab: {\n                key: \"Tab\",\n                handler(t, e) {\n                  if (e.format.table) return !0;\n                  this.quill.history.cutoff();\n                  const n = new (o())().retain(t.index).delete(t.length).insert(\"\\t\");\n                  return this.quill.updateContents(n, a.Ay.sources.USER), this.quill.history.cutoff(), this.quill.setSelection(t.index + 1, a.Ay.sources.SILENT), !1;\n                }\n              },\n              \"blockquote empty enter\": {\n                key: \"Enter\",\n                collapsed: !0,\n                format: [\"blockquote\"],\n                empty: !0,\n                handler() {\n                  this.quill.format(\"blockquote\", !1, a.Ay.sources.USER);\n                }\n              },\n              \"list empty enter\": {\n                key: \"Enter\",\n                collapsed: !0,\n                format: [\"list\"],\n                empty: !0,\n                handler(t, e) {\n                  const n = {\n                    list: !1\n                  };\n                  e.format.indent && (n.indent = !1), this.quill.formatLine(t.index, t.length, n, a.Ay.sources.USER);\n                }\n              },\n              \"checklist enter\": {\n                key: \"Enter\",\n                collapsed: !0,\n                format: {\n                  list: \"checked\"\n                },\n                handler(t) {\n                  const [e, n] = this.quill.getLine(t.index),\n                    r = {\n                      ...e.formats(),\n                      list: \"checked\"\n                    },\n                    i = new (o())().retain(t.index).insert(\"\\n\", r).retain(e.length() - n - 1).retain(1, {\n                      list: \"unchecked\"\n                    });\n                  this.quill.updateContents(i, a.Ay.sources.USER), this.quill.setSelection(t.index + 1, a.Ay.sources.SILENT), this.quill.scrollSelectionIntoView();\n                }\n              },\n              \"header enter\": {\n                key: \"Enter\",\n                collapsed: !0,\n                format: [\"header\"],\n                suffix: /^$/,\n                handler(t, e) {\n                  const [n, r] = this.quill.getLine(t.index),\n                    i = new (o())().retain(t.index).insert(\"\\n\", e.format).retain(n.length() - r - 1).retain(1, {\n                      header: null\n                    });\n                  this.quill.updateContents(i, a.Ay.sources.USER), this.quill.setSelection(t.index + 1, a.Ay.sources.SILENT), this.quill.scrollSelectionIntoView();\n                }\n              },\n              \"table backspace\": {\n                key: \"Backspace\",\n                format: [\"table\"],\n                collapsed: !0,\n                offset: 0,\n                handler() {}\n              },\n              \"table delete\": {\n                key: \"Delete\",\n                format: [\"table\"],\n                collapsed: !0,\n                suffix: /^$/,\n                handler() {}\n              },\n              \"table enter\": {\n                key: \"Enter\",\n                shiftKey: null,\n                format: [\"table\"],\n                handler(t) {\n                  const e = this.quill.getModule(\"table\");\n                  if (e) {\n                    const [n, r, i, s] = e.getTable(t),\n                      l = function (t, e, n, r) {\n                        return null == e.prev && null == e.next ? null == n.prev && null == n.next ? 0 === r ? -1 : 1 : null == n.prev ? -1 : 1 : null == e.prev ? -1 : null == e.next ? 1 : null;\n                      }(0, r, i, s);\n                    if (null == l) return;\n                    let c = n.offset();\n                    if (l < 0) {\n                      const e = new (o())().retain(c).insert(\"\\n\");\n                      this.quill.updateContents(e, a.Ay.sources.USER), this.quill.setSelection(t.index + 1, t.length, a.Ay.sources.SILENT);\n                    } else if (l > 0) {\n                      c += n.length();\n                      const t = new (o())().retain(c).insert(\"\\n\");\n                      this.quill.updateContents(t, a.Ay.sources.USER), this.quill.setSelection(c, a.Ay.sources.USER);\n                    }\n                  }\n                }\n              },\n              \"table tab\": {\n                key: \"Tab\",\n                shiftKey: null,\n                format: [\"table\"],\n                handler(t, e) {\n                  const {\n                      event: n,\n                      line: r\n                    } = e,\n                    i = r.offset(this.quill.scroll);\n                  n.shiftKey ? this.quill.setSelection(i - 1, a.Ay.sources.USER) : this.quill.setSelection(i + r.length(), a.Ay.sources.USER);\n                }\n              },\n              \"list autofill\": {\n                key: \" \",\n                shiftKey: null,\n                collapsed: !0,\n                format: {\n                  \"code-block\": !1,\n                  blockquote: !1,\n                  table: !1\n                },\n                prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n                handler(t, e) {\n                  if (null == this.quill.scroll.query(\"list\")) return !0;\n                  const {\n                      length: n\n                    } = e.prefix,\n                    [r, i] = this.quill.getLine(t.index);\n                  if (i > n) return !0;\n                  let s;\n                  switch (e.prefix.trim()) {\n                    case \"[]\":\n                    case \"[ ]\":\n                      s = \"unchecked\";\n                      break;\n                    case \"[x]\":\n                      s = \"checked\";\n                      break;\n                    case \"-\":\n                    case \"*\":\n                      s = \"bullet\";\n                      break;\n                    default:\n                      s = \"ordered\";\n                  }\n                  this.quill.insertText(t.index, \" \", a.Ay.sources.USER), this.quill.history.cutoff();\n                  const l = new (o())().retain(t.index - i).delete(n + 1).retain(r.length() - 2 - i).retain(1, {\n                    list: s\n                  });\n                  return this.quill.updateContents(l, a.Ay.sources.USER), this.quill.history.cutoff(), this.quill.setSelection(t.index - n, a.Ay.sources.SILENT), !1;\n                }\n              },\n              \"code exit\": {\n                key: \"Enter\",\n                collapsed: !0,\n                format: [\"code-block\"],\n                prefix: /^$/,\n                suffix: /^\\s*$/,\n                handler(t) {\n                  const [e, n] = this.quill.getLine(t.index);\n                  let r = 2,\n                    i = e;\n                  for (; null != i && i.length() <= 1 && i.formats()[\"code-block\"];) if (i = i.prev, r -= 1, r <= 0) {\n                    const r = new (o())().retain(t.index + e.length() - n - 2).retain(1, {\n                      \"code-block\": null\n                    }).delete(1);\n                    return this.quill.updateContents(r, a.Ay.sources.USER), this.quill.setSelection(t.index - 1, a.Ay.sources.SILENT), !1;\n                  }\n                  return !0;\n                }\n              },\n              \"embed left\": m(\"ArrowLeft\", !1),\n              \"embed left shift\": m(\"ArrowLeft\", !0),\n              \"embed right\": m(\"ArrowRight\", !1),\n              \"embed right shift\": m(\"ArrowRight\", !0),\n              \"table down\": y(!1),\n              \"table up\": y(!0)\n            }\n          };\n          function g(t) {\n            return {\n              key: \"Tab\",\n              shiftKey: !t,\n              format: {\n                \"code-block\": !0\n              },\n              handler(e, n) {\n                let {\n                  event: r\n                } = n;\n                const i = this.quill.scroll.query(\"code-block\"),\n                  {\n                    TAB: s\n                  } = i;\n                if (0 === e.length && !r.shiftKey) return this.quill.insertText(e.index, s, a.Ay.sources.USER), void this.quill.setSelection(e.index + s.length, a.Ay.sources.SILENT);\n                const o = 0 === e.length ? this.quill.getLines(e.index, 1) : this.quill.getLines(e);\n                let {\n                  index: l,\n                  length: c\n                } = e;\n                o.forEach((e, n) => {\n                  t ? (e.insertAt(0, s), 0 === n ? l += s.length : c += s.length) : e.domNode.textContent.startsWith(s) && (e.deleteAt(0, s.length), 0 === n ? l -= s.length : c -= s.length);\n                }), this.quill.update(a.Ay.sources.USER), this.quill.setSelection(l, c, a.Ay.sources.SILENT);\n              }\n            };\n          }\n          function m(t, e) {\n            return {\n              key: t,\n              shiftKey: e,\n              altKey: null,\n              [\"ArrowLeft\" === t ? \"prefix\" : \"suffix\"]: /^$/,\n              handler(n) {\n                let {\n                  index: r\n                } = n;\n                \"ArrowRight\" === t && (r += n.length + 1);\n                const [i] = this.quill.getLeaf(r);\n                return !(i instanceof l.EmbedBlot && (\"ArrowLeft\" === t ? e ? this.quill.setSelection(n.index - 1, n.length + 1, a.Ay.sources.USER) : this.quill.setSelection(n.index - 1, a.Ay.sources.USER) : e ? this.quill.setSelection(n.index, n.length + 1, a.Ay.sources.USER) : this.quill.setSelection(n.index + n.length + 1, a.Ay.sources.USER), 1));\n              }\n            };\n          }\n          function b(t) {\n            return {\n              key: t[0],\n              shortKey: !0,\n              handler(e, n) {\n                this.quill.format(t, !n.format[t], a.Ay.sources.USER);\n              }\n            };\n          }\n          function y(t) {\n            return {\n              key: t ? \"ArrowUp\" : \"ArrowDown\",\n              collapsed: !0,\n              format: [\"table\"],\n              handler(e, n) {\n                const r = t ? \"prev\" : \"next\",\n                  i = n.line,\n                  s = i.parent[r];\n                if (null != s) {\n                  if (\"table-row\" === s.statics.blotName) {\n                    let t = s.children.head,\n                      e = i;\n                    for (; null != e.prev;) e = e.prev, t = t.next;\n                    const r = t.offset(this.quill.scroll) + Math.min(n.offset, t.length() - 1);\n                    this.quill.setSelection(r, 0, a.Ay.sources.USER);\n                  }\n                } else {\n                  const e = i.table()[r];\n                  null != e && (t ? this.quill.setSelection(e.offset(this.quill.scroll) + e.length() - 1, 0, a.Ay.sources.USER) : this.quill.setSelection(e.offset(this.quill.scroll), 0, a.Ay.sources.USER));\n                }\n                return !1;\n              }\n            };\n          }\n          function v(t) {\n            let {\n              quill: e,\n              range: n\n            } = t;\n            const r = e.getLines(n);\n            let i = {};\n            if (r.length > 1) {\n              const t = r[0].formats(),\n                e = r[r.length - 1].formats();\n              i = s.AttributeMap.diff(e, t) || {};\n            }\n            e.deleteText(n, a.Ay.sources.USER), Object.keys(i).length > 0 && e.formatLine(n.index, 1, i, a.Ay.sources.USER), e.setSelection(n.index, a.Ay.sources.SILENT);\n          }\n          f.DEFAULTS = p;\n        },\n        8920: function (t) {\n          \"use strict\";\n\n          var e = Object.prototype.hasOwnProperty,\n            n = \"~\";\n          function r() {}\n          function i(t, e, n) {\n            this.fn = t, this.context = e, this.once = n || !1;\n          }\n          function s(t, e, r, s, o) {\n            if (\"function\" != typeof r) throw new TypeError(\"The listener must be a function\");\n            var l = new i(r, s || t, o),\n              a = n ? n + e : e;\n            return t._events[a] ? t._events[a].fn ? t._events[a] = [t._events[a], l] : t._events[a].push(l) : (t._events[a] = l, t._eventsCount++), t;\n          }\n          function o(t, e) {\n            0 == --t._eventsCount ? t._events = new r() : delete t._events[e];\n          }\n          function l() {\n            this._events = new r(), this._eventsCount = 0;\n          }\n          Object.create && (r.prototype = Object.create(null), new r().__proto__ || (n = !1)), l.prototype.eventNames = function () {\n            var t,\n              r,\n              i = [];\n            if (0 === this._eventsCount) return i;\n            for (r in t = this._events) e.call(t, r) && i.push(n ? r.slice(1) : r);\n            return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i;\n          }, l.prototype.listeners = function (t) {\n            var e = n ? n + t : t,\n              r = this._events[e];\n            if (!r) return [];\n            if (r.fn) return [r.fn];\n            for (var i = 0, s = r.length, o = new Array(s); i < s; i++) o[i] = r[i].fn;\n            return o;\n          }, l.prototype.listenerCount = function (t) {\n            var e = n ? n + t : t,\n              r = this._events[e];\n            return r ? r.fn ? 1 : r.length : 0;\n          }, l.prototype.emit = function (t, e, r, i, s, o) {\n            var l = n ? n + t : t;\n            if (!this._events[l]) return !1;\n            var a,\n              c,\n              u = this._events[l],\n              h = arguments.length;\n            if (u.fn) {\n              switch (u.once && this.removeListener(t, u.fn, void 0, !0), h) {\n                case 1:\n                  return u.fn.call(u.context), !0;\n                case 2:\n                  return u.fn.call(u.context, e), !0;\n                case 3:\n                  return u.fn.call(u.context, e, r), !0;\n                case 4:\n                  return u.fn.call(u.context, e, r, i), !0;\n                case 5:\n                  return u.fn.call(u.context, e, r, i, s), !0;\n                case 6:\n                  return u.fn.call(u.context, e, r, i, s, o), !0;\n              }\n              for (c = 1, a = new Array(h - 1); c < h; c++) a[c - 1] = arguments[c];\n              u.fn.apply(u.context, a);\n            } else {\n              var d,\n                f = u.length;\n              for (c = 0; c < f; c++) switch (u[c].once && this.removeListener(t, u[c].fn, void 0, !0), h) {\n                case 1:\n                  u[c].fn.call(u[c].context);\n                  break;\n                case 2:\n                  u[c].fn.call(u[c].context, e);\n                  break;\n                case 3:\n                  u[c].fn.call(u[c].context, e, r);\n                  break;\n                case 4:\n                  u[c].fn.call(u[c].context, e, r, i);\n                  break;\n                default:\n                  if (!a) for (d = 1, a = new Array(h - 1); d < h; d++) a[d - 1] = arguments[d];\n                  u[c].fn.apply(u[c].context, a);\n              }\n            }\n            return !0;\n          }, l.prototype.on = function (t, e, n) {\n            return s(this, t, e, n, !1);\n          }, l.prototype.once = function (t, e, n) {\n            return s(this, t, e, n, !0);\n          }, l.prototype.removeListener = function (t, e, r, i) {\n            var s = n ? n + t : t;\n            if (!this._events[s]) return this;\n            if (!e) return o(this, s), this;\n            var l = this._events[s];\n            if (l.fn) l.fn !== e || i && !l.once || r && l.context !== r || o(this, s);else {\n              for (var a = 0, c = [], u = l.length; a < u; a++) (l[a].fn !== e || i && !l[a].once || r && l[a].context !== r) && c.push(l[a]);\n              c.length ? this._events[s] = 1 === c.length ? c[0] : c : o(this, s);\n            }\n            return this;\n          }, l.prototype.removeAllListeners = function (t) {\n            var e;\n            return t ? (e = n ? n + t : t, this._events[e] && o(this, e)) : (this._events = new r(), this._eventsCount = 0), this;\n          }, l.prototype.off = l.prototype.removeListener, l.prototype.addListener = l.prototype.on, l.prefixed = n, l.EventEmitter = l, t.exports = l;\n        },\n        5090: function (t) {\n          var e = -1,\n            n = 1,\n            r = 0;\n          function i(t, g, m, b, y) {\n            if (t === g) return t ? [[r, t]] : [];\n            if (null != m) {\n              var A = function (t, e, n) {\n                var r = \"number\" == typeof n ? {\n                    index: n,\n                    length: 0\n                  } : n.oldRange,\n                  i = \"number\" == typeof n ? null : n.newRange,\n                  s = t.length,\n                  o = e.length;\n                if (0 === r.length && (null === i || 0 === i.length)) {\n                  var l = r.index,\n                    a = t.slice(0, l),\n                    c = t.slice(l),\n                    u = i ? i.index : null,\n                    h = l + o - s;\n                  if ((null === u || u === h) && !(h < 0 || h > o)) {\n                    var d = e.slice(0, h);\n                    if ((g = e.slice(h)) === c) {\n                      var f = Math.min(l, h);\n                      if ((b = a.slice(0, f)) === (A = d.slice(0, f))) return v(b, a.slice(f), d.slice(f), c);\n                    }\n                  }\n                  if (null === u || u === l) {\n                    var p = l,\n                      g = (d = e.slice(0, p), e.slice(p));\n                    if (d === a) {\n                      var m = Math.min(s - p, o - p);\n                      if ((y = c.slice(c.length - m)) === (x = g.slice(g.length - m))) return v(a, c.slice(0, c.length - m), g.slice(0, g.length - m), y);\n                    }\n                  }\n                }\n                if (r.length > 0 && i && 0 === i.length) {\n                  var b = t.slice(0, r.index),\n                    y = t.slice(r.index + r.length);\n                  if (!(o < (f = b.length) + (m = y.length))) {\n                    var A = e.slice(0, f),\n                      x = e.slice(o - m);\n                    if (b === A && y === x) return v(b, t.slice(f, s - m), e.slice(f, o - m), y);\n                  }\n                }\n                return null;\n              }(t, g, m);\n              if (A) return A;\n            }\n            var x = o(t, g),\n              N = t.substring(0, x);\n            x = a(t = t.substring(x), g = g.substring(x));\n            var E = t.substring(t.length - x),\n              w = function (t, l) {\n                var c;\n                if (!t) return [[n, l]];\n                if (!l) return [[e, t]];\n                var u = t.length > l.length ? t : l,\n                  h = t.length > l.length ? l : t,\n                  d = u.indexOf(h);\n                if (-1 !== d) return c = [[n, u.substring(0, d)], [r, h], [n, u.substring(d + h.length)]], t.length > l.length && (c[0][0] = c[2][0] = e), c;\n                if (1 === h.length) return [[e, t], [n, l]];\n                var f = function (t, e) {\n                  var n = t.length > e.length ? t : e,\n                    r = t.length > e.length ? e : t;\n                  if (n.length < 4 || 2 * r.length < n.length) return null;\n                  function i(t, e, n) {\n                    for (var r, i, s, l, c = t.substring(n, n + Math.floor(t.length / 4)), u = -1, h = \"\"; -1 !== (u = e.indexOf(c, u + 1));) {\n                      var d = o(t.substring(n), e.substring(u)),\n                        f = a(t.substring(0, n), e.substring(0, u));\n                      h.length < f + d && (h = e.substring(u - f, u) + e.substring(u, u + d), r = t.substring(0, n - f), i = t.substring(n + d), s = e.substring(0, u - f), l = e.substring(u + d));\n                    }\n                    return 2 * h.length >= t.length ? [r, i, s, l, h] : null;\n                  }\n                  var s,\n                    l,\n                    c,\n                    u,\n                    h,\n                    d = i(n, r, Math.ceil(n.length / 4)),\n                    f = i(n, r, Math.ceil(n.length / 2));\n                  return d || f ? (s = f ? d && d[4].length > f[4].length ? d : f : d, t.length > e.length ? (l = s[0], c = s[1], u = s[2], h = s[3]) : (u = s[0], h = s[1], l = s[2], c = s[3]), [l, c, u, h, s[4]]) : null;\n                }(t, l);\n                if (f) {\n                  var p = f[0],\n                    g = f[1],\n                    m = f[2],\n                    b = f[3],\n                    y = f[4],\n                    v = i(p, m),\n                    A = i(g, b);\n                  return v.concat([[r, y]], A);\n                }\n                return function (t, r) {\n                  for (var i = t.length, o = r.length, l = Math.ceil((i + o) / 2), a = l, c = 2 * l, u = new Array(c), h = new Array(c), d = 0; d < c; d++) u[d] = -1, h[d] = -1;\n                  u[a + 1] = 0, h[a + 1] = 0;\n                  for (var f = i - o, p = f % 2 != 0, g = 0, m = 0, b = 0, y = 0, v = 0; v < l; v++) {\n                    for (var A = -v + g; A <= v - m; A += 2) {\n                      for (var x = a + A, N = (_ = A === -v || A !== v && u[x - 1] < u[x + 1] ? u[x + 1] : u[x - 1] + 1) - A; _ < i && N < o && t.charAt(_) === r.charAt(N);) _++, N++;\n                      if (u[x] = _, _ > i) m += 2;else if (N > o) g += 2;else if (p && (q = a + f - A) >= 0 && q < c && -1 !== h[q] && _ >= (w = i - h[q])) return s(t, r, _, N);\n                    }\n                    for (var E = -v + b; E <= v - y; E += 2) {\n                      for (var w, q = a + E, k = (w = E === -v || E !== v && h[q - 1] < h[q + 1] ? h[q + 1] : h[q - 1] + 1) - E; w < i && k < o && t.charAt(i - w - 1) === r.charAt(o - k - 1);) w++, k++;\n                      if (h[q] = w, w > i) y += 2;else if (k > o) b += 2;else if (!p) {\n                        var _;\n                        if ((x = a + f - E) >= 0 && x < c && -1 !== u[x]) if (N = a + (_ = u[x]) - x, _ >= (w = i - w)) return s(t, r, _, N);\n                      }\n                    }\n                  }\n                  return [[e, t], [n, r]];\n                }(t, l);\n              }(t = t.substring(0, t.length - x), g = g.substring(0, g.length - x));\n            return N && w.unshift([r, N]), E && w.push([r, E]), p(w, y), b && function (t) {\n              for (var i = !1, s = [], o = 0, g = null, m = 0, b = 0, y = 0, v = 0, A = 0; m < t.length;) t[m][0] == r ? (s[o++] = m, b = v, y = A, v = 0, A = 0, g = t[m][1]) : (t[m][0] == n ? v += t[m][1].length : A += t[m][1].length, g && g.length <= Math.max(b, y) && g.length <= Math.max(v, A) && (t.splice(s[o - 1], 0, [e, g]), t[s[o - 1] + 1][0] = n, o--, m = --o > 0 ? s[o - 1] : -1, b = 0, y = 0, v = 0, A = 0, g = null, i = !0)), m++;\n              for (i && p(t), function (t) {\n                function e(t, e) {\n                  if (!t || !e) return 6;\n                  var n = t.charAt(t.length - 1),\n                    r = e.charAt(0),\n                    i = n.match(c),\n                    s = r.match(c),\n                    o = i && n.match(u),\n                    l = s && r.match(u),\n                    a = o && n.match(h),\n                    p = l && r.match(h),\n                    g = a && t.match(d),\n                    m = p && e.match(f);\n                  return g || m ? 5 : a || p ? 4 : i && !o && l ? 3 : o || l ? 2 : i || s ? 1 : 0;\n                }\n                for (var n = 1; n < t.length - 1;) {\n                  if (t[n - 1][0] == r && t[n + 1][0] == r) {\n                    var i = t[n - 1][1],\n                      s = t[n][1],\n                      o = t[n + 1][1],\n                      l = a(i, s);\n                    if (l) {\n                      var p = s.substring(s.length - l);\n                      i = i.substring(0, i.length - l), s = p + s.substring(0, s.length - l), o = p + o;\n                    }\n                    for (var g = i, m = s, b = o, y = e(i, s) + e(s, o); s.charAt(0) === o.charAt(0);) {\n                      i += s.charAt(0), s = s.substring(1) + o.charAt(0), o = o.substring(1);\n                      var v = e(i, s) + e(s, o);\n                      v >= y && (y = v, g = i, m = s, b = o);\n                    }\n                    t[n - 1][1] != g && (g ? t[n - 1][1] = g : (t.splice(n - 1, 1), n--), t[n][1] = m, b ? t[n + 1][1] = b : (t.splice(n + 1, 1), n--));\n                  }\n                  n++;\n                }\n              }(t), m = 1; m < t.length;) {\n                if (t[m - 1][0] == e && t[m][0] == n) {\n                  var x = t[m - 1][1],\n                    N = t[m][1],\n                    E = l(x, N),\n                    w = l(N, x);\n                  E >= w ? (E >= x.length / 2 || E >= N.length / 2) && (t.splice(m, 0, [r, N.substring(0, E)]), t[m - 1][1] = x.substring(0, x.length - E), t[m + 1][1] = N.substring(E), m++) : (w >= x.length / 2 || w >= N.length / 2) && (t.splice(m, 0, [r, x.substring(0, w)]), t[m - 1][0] = n, t[m - 1][1] = N.substring(0, N.length - w), t[m + 1][0] = e, t[m + 1][1] = x.substring(w), m++), m++;\n                }\n                m++;\n              }\n            }(w), w;\n          }\n          function s(t, e, n, r) {\n            var s = t.substring(0, n),\n              o = e.substring(0, r),\n              l = t.substring(n),\n              a = e.substring(r),\n              c = i(s, o),\n              u = i(l, a);\n            return c.concat(u);\n          }\n          function o(t, e) {\n            if (!t || !e || t.charAt(0) !== e.charAt(0)) return 0;\n            for (var n = 0, r = Math.min(t.length, e.length), i = r, s = 0; n < i;) t.substring(s, i) == e.substring(s, i) ? s = n = i : r = i, i = Math.floor((r - n) / 2 + n);\n            return g(t.charCodeAt(i - 1)) && i--, i;\n          }\n          function l(t, e) {\n            var n = t.length,\n              r = e.length;\n            if (0 == n || 0 == r) return 0;\n            n > r ? t = t.substring(n - r) : n < r && (e = e.substring(0, n));\n            var i = Math.min(n, r);\n            if (t == e) return i;\n            for (var s = 0, o = 1;;) {\n              var l = t.substring(i - o),\n                a = e.indexOf(l);\n              if (-1 == a) return s;\n              o += a, 0 != a && t.substring(i - o) != e.substring(0, o) || (s = o, o++);\n            }\n          }\n          function a(t, e) {\n            if (!t || !e || t.slice(-1) !== e.slice(-1)) return 0;\n            for (var n = 0, r = Math.min(t.length, e.length), i = r, s = 0; n < i;) t.substring(t.length - i, t.length - s) == e.substring(e.length - i, e.length - s) ? s = n = i : r = i, i = Math.floor((r - n) / 2 + n);\n            return m(t.charCodeAt(t.length - i)) && i--, i;\n          }\n          var c = /[^a-zA-Z0-9]/,\n            u = /\\s/,\n            h = /[\\r\\n]/,\n            d = /\\n\\r?\\n$/,\n            f = /^\\r?\\n\\r?\\n/;\n          function p(t, i) {\n            t.push([r, \"\"]);\n            for (var s, l = 0, c = 0, u = 0, h = \"\", d = \"\"; l < t.length;) if (l < t.length - 1 && !t[l][1]) t.splice(l, 1);else switch (t[l][0]) {\n              case n:\n                u++, d += t[l][1], l++;\n                break;\n              case e:\n                c++, h += t[l][1], l++;\n                break;\n              case r:\n                var f = l - u - c - 1;\n                if (i) {\n                  if (f >= 0 && y(t[f][1])) {\n                    var g = t[f][1].slice(-1);\n                    if (t[f][1] = t[f][1].slice(0, -1), h = g + h, d = g + d, !t[f][1]) {\n                      t.splice(f, 1), l--;\n                      var m = f - 1;\n                      t[m] && t[m][0] === n && (u++, d = t[m][1] + d, m--), t[m] && t[m][0] === e && (c++, h = t[m][1] + h, m--), f = m;\n                    }\n                  }\n                  b(t[l][1]) && (g = t[l][1].charAt(0), t[l][1] = t[l][1].slice(1), h += g, d += g);\n                }\n                if (l < t.length - 1 && !t[l][1]) {\n                  t.splice(l, 1);\n                  break;\n                }\n                if (h.length > 0 || d.length > 0) {\n                  h.length > 0 && d.length > 0 && (0 !== (s = o(d, h)) && (f >= 0 ? t[f][1] += d.substring(0, s) : (t.splice(0, 0, [r, d.substring(0, s)]), l++), d = d.substring(s), h = h.substring(s)), 0 !== (s = a(d, h)) && (t[l][1] = d.substring(d.length - s) + t[l][1], d = d.substring(0, d.length - s), h = h.substring(0, h.length - s)));\n                  var v = u + c;\n                  0 === h.length && 0 === d.length ? (t.splice(l - v, v), l -= v) : 0 === h.length ? (t.splice(l - v, v, [n, d]), l = l - v + 1) : 0 === d.length ? (t.splice(l - v, v, [e, h]), l = l - v + 1) : (t.splice(l - v, v, [e, h], [n, d]), l = l - v + 2);\n                }\n                0 !== l && t[l - 1][0] === r ? (t[l - 1][1] += t[l][1], t.splice(l, 1)) : l++, u = 0, c = 0, h = \"\", d = \"\";\n            }\n            \"\" === t[t.length - 1][1] && t.pop();\n            var A = !1;\n            for (l = 1; l < t.length - 1;) t[l - 1][0] === r && t[l + 1][0] === r && (t[l][1].substring(t[l][1].length - t[l - 1][1].length) === t[l - 1][1] ? (t[l][1] = t[l - 1][1] + t[l][1].substring(0, t[l][1].length - t[l - 1][1].length), t[l + 1][1] = t[l - 1][1] + t[l + 1][1], t.splice(l - 1, 1), A = !0) : t[l][1].substring(0, t[l + 1][1].length) == t[l + 1][1] && (t[l - 1][1] += t[l + 1][1], t[l][1] = t[l][1].substring(t[l + 1][1].length) + t[l + 1][1], t.splice(l + 1, 1), A = !0)), l++;\n            A && p(t, i);\n          }\n          function g(t) {\n            return t >= 55296 && t <= 56319;\n          }\n          function m(t) {\n            return t >= 56320 && t <= 57343;\n          }\n          function b(t) {\n            return m(t.charCodeAt(0));\n          }\n          function y(t) {\n            return g(t.charCodeAt(t.length - 1));\n          }\n          function v(t, i, s, o) {\n            return y(t) || b(o) ? null : function (t) {\n              for (var e = [], n = 0; n < t.length; n++) t[n][1].length > 0 && e.push(t[n]);\n              return e;\n            }([[r, t], [e, i], [n, s], [r, o]]);\n          }\n          function A(t, e, n, r) {\n            return i(t, e, n, r, !0);\n          }\n          A.INSERT = n, A.DELETE = e, A.EQUAL = r, t.exports = A;\n        },\n        9629: function (t, e, n) {\n          t = n.nmd(t);\n          var r = \"__lodash_hash_undefined__\",\n            i = 9007199254740991,\n            s = \"[object Arguments]\",\n            o = \"[object Boolean]\",\n            l = \"[object Date]\",\n            a = \"[object Function]\",\n            c = \"[object GeneratorFunction]\",\n            u = \"[object Map]\",\n            h = \"[object Number]\",\n            d = \"[object Object]\",\n            f = \"[object Promise]\",\n            p = \"[object RegExp]\",\n            g = \"[object Set]\",\n            m = \"[object String]\",\n            b = \"[object Symbol]\",\n            y = \"[object WeakMap]\",\n            v = \"[object ArrayBuffer]\",\n            A = \"[object DataView]\",\n            x = \"[object Float32Array]\",\n            N = \"[object Float64Array]\",\n            E = \"[object Int8Array]\",\n            w = \"[object Int16Array]\",\n            q = \"[object Int32Array]\",\n            k = \"[object Uint8Array]\",\n            _ = \"[object Uint8ClampedArray]\",\n            L = \"[object Uint16Array]\",\n            S = \"[object Uint32Array]\",\n            O = /\\w*$/,\n            T = /^\\[object .+?Constructor\\]$/,\n            j = /^(?:0|[1-9]\\d*)$/,\n            C = {};\n          C[s] = C[\"[object Array]\"] = C[v] = C[A] = C[o] = C[l] = C[x] = C[N] = C[E] = C[w] = C[q] = C[u] = C[h] = C[d] = C[p] = C[g] = C[m] = C[b] = C[k] = C[_] = C[L] = C[S] = !0, C[\"[object Error]\"] = C[a] = C[y] = !1;\n          var R = \"object\" == typeof n.g && n.g && n.g.Object === Object && n.g,\n            I = \"object\" == typeof self && self && self.Object === Object && self,\n            B = R || I || Function(\"return this\")(),\n            M = e && !e.nodeType && e,\n            U = M && t && !t.nodeType && t,\n            D = U && U.exports === M;\n          function P(t, e) {\n            return t.set(e[0], e[1]), t;\n          }\n          function z(t, e) {\n            return t.add(e), t;\n          }\n          function F(t, e, n, r) {\n            var i = -1,\n              s = t ? t.length : 0;\n            for (r && s && (n = t[++i]); ++i < s;) n = e(n, t[i], i, t);\n            return n;\n          }\n          function H(t) {\n            var e = !1;\n            if (null != t && \"function\" != typeof t.toString) try {\n              e = !!(t + \"\");\n            } catch (t) {}\n            return e;\n          }\n          function $(t) {\n            var e = -1,\n              n = Array(t.size);\n            return t.forEach(function (t, r) {\n              n[++e] = [r, t];\n            }), n;\n          }\n          function V(t, e) {\n            return function (n) {\n              return t(e(n));\n            };\n          }\n          function K(t) {\n            var e = -1,\n              n = Array(t.size);\n            return t.forEach(function (t) {\n              n[++e] = t;\n            }), n;\n          }\n          var W,\n            Z = Array.prototype,\n            G = Function.prototype,\n            X = Object.prototype,\n            Q = B[\"__core-js_shared__\"],\n            J = (W = /[^.]+$/.exec(Q && Q.keys && Q.keys.IE_PROTO || \"\")) ? \"Symbol(src)_1.\" + W : \"\",\n            Y = G.toString,\n            tt = X.hasOwnProperty,\n            et = X.toString,\n            nt = RegExp(\"^\" + Y.call(tt).replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"),\n            rt = D ? B.Buffer : void 0,\n            it = B.Symbol,\n            st = B.Uint8Array,\n            ot = V(Object.getPrototypeOf, Object),\n            lt = Object.create,\n            at = X.propertyIsEnumerable,\n            ct = Z.splice,\n            ut = Object.getOwnPropertySymbols,\n            ht = rt ? rt.isBuffer : void 0,\n            dt = V(Object.keys, Object),\n            ft = Bt(B, \"DataView\"),\n            pt = Bt(B, \"Map\"),\n            gt = Bt(B, \"Promise\"),\n            mt = Bt(B, \"Set\"),\n            bt = Bt(B, \"WeakMap\"),\n            yt = Bt(Object, \"create\"),\n            vt = zt(ft),\n            At = zt(pt),\n            xt = zt(gt),\n            Nt = zt(mt),\n            Et = zt(bt),\n            wt = it ? it.prototype : void 0,\n            qt = wt ? wt.valueOf : void 0;\n          function kt(t) {\n            var e = -1,\n              n = t ? t.length : 0;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          function _t(t) {\n            var e = -1,\n              n = t ? t.length : 0;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          function Lt(t) {\n            var e = -1,\n              n = t ? t.length : 0;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          function St(t) {\n            this.__data__ = new _t(t);\n          }\n          function Ot(t, e, n) {\n            var r = t[e];\n            tt.call(t, e) && Ft(r, n) && (void 0 !== n || e in t) || (t[e] = n);\n          }\n          function Tt(t, e) {\n            for (var n = t.length; n--;) if (Ft(t[n][0], e)) return n;\n            return -1;\n          }\n          function jt(t, e, n, r, i, f, y) {\n            var T;\n            if (r && (T = f ? r(t, i, f, y) : r(t)), void 0 !== T) return T;\n            if (!Wt(t)) return t;\n            var j = Ht(t);\n            if (j) {\n              if (T = function (t) {\n                var e = t.length,\n                  n = t.constructor(e);\n                return e && \"string\" == typeof t[0] && tt.call(t, \"index\") && (n.index = t.index, n.input = t.input), n;\n              }(t), !e) return function (t, e) {\n                var n = -1,\n                  r = t.length;\n                for (e || (e = Array(r)); ++n < r;) e[n] = t[n];\n                return e;\n              }(t, T);\n            } else {\n              var R = Ut(t),\n                I = R == a || R == c;\n              if (Vt(t)) return function (t, e) {\n                if (e) return t.slice();\n                var n = new t.constructor(t.length);\n                return t.copy(n), n;\n              }(t, e);\n              if (R == d || R == s || I && !f) {\n                if (H(t)) return f ? t : {};\n                if (T = function (t) {\n                  return \"function\" != typeof t.constructor || Pt(t) ? {} : Wt(e = ot(t)) ? lt(e) : {};\n                  var e;\n                }(I ? {} : t), !e) return function (t, e) {\n                  return Rt(t, Mt(t), e);\n                }(t, function (t, e) {\n                  return t && Rt(e, Zt(e), t);\n                }(T, t));\n              } else {\n                if (!C[R]) return f ? t : {};\n                T = function (t, e, n, r) {\n                  var i,\n                    s = t.constructor;\n                  switch (e) {\n                    case v:\n                      return Ct(t);\n                    case o:\n                    case l:\n                      return new s(+t);\n                    case A:\n                      return function (t, e) {\n                        var n = e ? Ct(t.buffer) : t.buffer;\n                        return new t.constructor(n, t.byteOffset, t.byteLength);\n                      }(t, r);\n                    case x:\n                    case N:\n                    case E:\n                    case w:\n                    case q:\n                    case k:\n                    case _:\n                    case L:\n                    case S:\n                      return function (t, e) {\n                        var n = e ? Ct(t.buffer) : t.buffer;\n                        return new t.constructor(n, t.byteOffset, t.length);\n                      }(t, r);\n                    case u:\n                      return function (t, e, n) {\n                        return F(e ? n($(t), !0) : $(t), P, new t.constructor());\n                      }(t, r, n);\n                    case h:\n                    case m:\n                      return new s(t);\n                    case p:\n                      return function (t) {\n                        var e = new t.constructor(t.source, O.exec(t));\n                        return e.lastIndex = t.lastIndex, e;\n                      }(t);\n                    case g:\n                      return function (t, e, n) {\n                        return F(e ? n(K(t), !0) : K(t), z, new t.constructor());\n                      }(t, r, n);\n                    case b:\n                      return i = t, qt ? Object(qt.call(i)) : {};\n                  }\n                }(t, R, jt, e);\n              }\n            }\n            y || (y = new St());\n            var B = y.get(t);\n            if (B) return B;\n            if (y.set(t, T), !j) var M = n ? function (t) {\n              return function (t, e, n) {\n                var r = e(t);\n                return Ht(t) ? r : function (t, e) {\n                  for (var n = -1, r = e.length, i = t.length; ++n < r;) t[i + n] = e[n];\n                  return t;\n                }(r, n(t));\n              }(t, Zt, Mt);\n            }(t) : Zt(t);\n            return function (t, e) {\n              for (var n = -1, r = t ? t.length : 0; ++n < r && !1 !== e(t[n], n););\n            }(M || t, function (i, s) {\n              M && (i = t[s = i]), Ot(T, s, jt(i, e, n, r, s, t, y));\n            }), T;\n          }\n          function Ct(t) {\n            var e = new t.constructor(t.byteLength);\n            return new st(e).set(new st(t)), e;\n          }\n          function Rt(t, e, n, r) {\n            n || (n = {});\n            for (var i = -1, s = e.length; ++i < s;) {\n              var o = e[i],\n                l = r ? r(n[o], t[o], o, n, t) : void 0;\n              Ot(n, o, void 0 === l ? t[o] : l);\n            }\n            return n;\n          }\n          function It(t, e) {\n            var n,\n              r,\n              i = t.__data__;\n            return (\"string\" == (r = typeof (n = e)) || \"number\" == r || \"symbol\" == r || \"boolean\" == r ? \"__proto__\" !== n : null === n) ? i[\"string\" == typeof e ? \"string\" : \"hash\"] : i.map;\n          }\n          function Bt(t, e) {\n            var n = function (t, e) {\n              return null == t ? void 0 : t[e];\n            }(t, e);\n            return function (t) {\n              return !(!Wt(t) || (e = t, J && J in e)) && (Kt(t) || H(t) ? nt : T).test(zt(t));\n              var e;\n            }(n) ? n : void 0;\n          }\n          kt.prototype.clear = function () {\n            this.__data__ = yt ? yt(null) : {};\n          }, kt.prototype.delete = function (t) {\n            return this.has(t) && delete this.__data__[t];\n          }, kt.prototype.get = function (t) {\n            var e = this.__data__;\n            if (yt) {\n              var n = e[t];\n              return n === r ? void 0 : n;\n            }\n            return tt.call(e, t) ? e[t] : void 0;\n          }, kt.prototype.has = function (t) {\n            var e = this.__data__;\n            return yt ? void 0 !== e[t] : tt.call(e, t);\n          }, kt.prototype.set = function (t, e) {\n            return this.__data__[t] = yt && void 0 === e ? r : e, this;\n          }, _t.prototype.clear = function () {\n            this.__data__ = [];\n          }, _t.prototype.delete = function (t) {\n            var e = this.__data__,\n              n = Tt(e, t);\n            return !(n < 0 || (n == e.length - 1 ? e.pop() : ct.call(e, n, 1), 0));\n          }, _t.prototype.get = function (t) {\n            var e = this.__data__,\n              n = Tt(e, t);\n            return n < 0 ? void 0 : e[n][1];\n          }, _t.prototype.has = function (t) {\n            return Tt(this.__data__, t) > -1;\n          }, _t.prototype.set = function (t, e) {\n            var n = this.__data__,\n              r = Tt(n, t);\n            return r < 0 ? n.push([t, e]) : n[r][1] = e, this;\n          }, Lt.prototype.clear = function () {\n            this.__data__ = {\n              hash: new kt(),\n              map: new (pt || _t)(),\n              string: new kt()\n            };\n          }, Lt.prototype.delete = function (t) {\n            return It(this, t).delete(t);\n          }, Lt.prototype.get = function (t) {\n            return It(this, t).get(t);\n          }, Lt.prototype.has = function (t) {\n            return It(this, t).has(t);\n          }, Lt.prototype.set = function (t, e) {\n            return It(this, t).set(t, e), this;\n          }, St.prototype.clear = function () {\n            this.__data__ = new _t();\n          }, St.prototype.delete = function (t) {\n            return this.__data__.delete(t);\n          }, St.prototype.get = function (t) {\n            return this.__data__.get(t);\n          }, St.prototype.has = function (t) {\n            return this.__data__.has(t);\n          }, St.prototype.set = function (t, e) {\n            var n = this.__data__;\n            if (n instanceof _t) {\n              var r = n.__data__;\n              if (!pt || r.length < 199) return r.push([t, e]), this;\n              n = this.__data__ = new Lt(r);\n            }\n            return n.set(t, e), this;\n          };\n          var Mt = ut ? V(ut, Object) : function () {\n              return [];\n            },\n            Ut = function (t) {\n              return et.call(t);\n            };\n          function Dt(t, e) {\n            return !!(e = null == e ? i : e) && (\"number\" == typeof t || j.test(t)) && t > -1 && t % 1 == 0 && t < e;\n          }\n          function Pt(t) {\n            var e = t && t.constructor;\n            return t === (\"function\" == typeof e && e.prototype || X);\n          }\n          function zt(t) {\n            if (null != t) {\n              try {\n                return Y.call(t);\n              } catch (t) {}\n              try {\n                return t + \"\";\n              } catch (t) {}\n            }\n            return \"\";\n          }\n          function Ft(t, e) {\n            return t === e || t != t && e != e;\n          }\n          (ft && Ut(new ft(new ArrayBuffer(1))) != A || pt && Ut(new pt()) != u || gt && Ut(gt.resolve()) != f || mt && Ut(new mt()) != g || bt && Ut(new bt()) != y) && (Ut = function (t) {\n            var e = et.call(t),\n              n = e == d ? t.constructor : void 0,\n              r = n ? zt(n) : void 0;\n            if (r) switch (r) {\n              case vt:\n                return A;\n              case At:\n                return u;\n              case xt:\n                return f;\n              case Nt:\n                return g;\n              case Et:\n                return y;\n            }\n            return e;\n          });\n          var Ht = Array.isArray;\n          function $t(t) {\n            return null != t && function (t) {\n              return \"number\" == typeof t && t > -1 && t % 1 == 0 && t <= i;\n            }(t.length) && !Kt(t);\n          }\n          var Vt = ht || function () {\n            return !1;\n          };\n          function Kt(t) {\n            var e = Wt(t) ? et.call(t) : \"\";\n            return e == a || e == c;\n          }\n          function Wt(t) {\n            var e = typeof t;\n            return !!t && (\"object\" == e || \"function\" == e);\n          }\n          function Zt(t) {\n            return $t(t) ? function (t, e) {\n              var n = Ht(t) || function (t) {\n                  return function (t) {\n                    return function (t) {\n                      return !!t && \"object\" == typeof t;\n                    }(t) && $t(t);\n                  }(t) && tt.call(t, \"callee\") && (!at.call(t, \"callee\") || et.call(t) == s);\n                }(t) ? function (t, e) {\n                  for (var n = -1, r = Array(t); ++n < t;) r[n] = e(n);\n                  return r;\n                }(t.length, String) : [],\n                r = n.length,\n                i = !!r;\n              for (var o in t) !e && !tt.call(t, o) || i && (\"length\" == o || Dt(o, r)) || n.push(o);\n              return n;\n            }(t) : function (t) {\n              if (!Pt(t)) return dt(t);\n              var e = [];\n              for (var n in Object(t)) tt.call(t, n) && \"constructor\" != n && e.push(n);\n              return e;\n            }(t);\n          }\n          t.exports = function (t) {\n            return jt(t, !0, !0);\n          };\n        },\n        4162: function (t, e, n) {\n          t = n.nmd(t);\n          var r = \"__lodash_hash_undefined__\",\n            i = 1,\n            s = 2,\n            o = 9007199254740991,\n            l = \"[object Arguments]\",\n            a = \"[object Array]\",\n            c = \"[object AsyncFunction]\",\n            u = \"[object Boolean]\",\n            h = \"[object Date]\",\n            d = \"[object Error]\",\n            f = \"[object Function]\",\n            p = \"[object GeneratorFunction]\",\n            g = \"[object Map]\",\n            m = \"[object Number]\",\n            b = \"[object Null]\",\n            y = \"[object Object]\",\n            v = \"[object Promise]\",\n            A = \"[object Proxy]\",\n            x = \"[object RegExp]\",\n            N = \"[object Set]\",\n            E = \"[object String]\",\n            w = \"[object Undefined]\",\n            q = \"[object WeakMap]\",\n            k = \"[object ArrayBuffer]\",\n            _ = \"[object DataView]\",\n            L = /^\\[object .+?Constructor\\]$/,\n            S = /^(?:0|[1-9]\\d*)$/,\n            O = {};\n          O[\"[object Float32Array]\"] = O[\"[object Float64Array]\"] = O[\"[object Int8Array]\"] = O[\"[object Int16Array]\"] = O[\"[object Int32Array]\"] = O[\"[object Uint8Array]\"] = O[\"[object Uint8ClampedArray]\"] = O[\"[object Uint16Array]\"] = O[\"[object Uint32Array]\"] = !0, O[l] = O[a] = O[k] = O[u] = O[_] = O[h] = O[d] = O[f] = O[g] = O[m] = O[y] = O[x] = O[N] = O[E] = O[q] = !1;\n          var T = \"object\" == typeof n.g && n.g && n.g.Object === Object && n.g,\n            j = \"object\" == typeof self && self && self.Object === Object && self,\n            C = T || j || Function(\"return this\")(),\n            R = e && !e.nodeType && e,\n            I = R && t && !t.nodeType && t,\n            B = I && I.exports === R,\n            M = B && T.process,\n            U = function () {\n              try {\n                return M && M.binding && M.binding(\"util\");\n              } catch (t) {}\n            }(),\n            D = U && U.isTypedArray;\n          function P(t, e) {\n            for (var n = -1, r = null == t ? 0 : t.length; ++n < r;) if (e(t[n], n, t)) return !0;\n            return !1;\n          }\n          function z(t) {\n            var e = -1,\n              n = Array(t.size);\n            return t.forEach(function (t, r) {\n              n[++e] = [r, t];\n            }), n;\n          }\n          function F(t) {\n            var e = -1,\n              n = Array(t.size);\n            return t.forEach(function (t) {\n              n[++e] = t;\n            }), n;\n          }\n          var H,\n            $,\n            V,\n            K = Array.prototype,\n            W = Function.prototype,\n            Z = Object.prototype,\n            G = C[\"__core-js_shared__\"],\n            X = W.toString,\n            Q = Z.hasOwnProperty,\n            J = (H = /[^.]+$/.exec(G && G.keys && G.keys.IE_PROTO || \"\")) ? \"Symbol(src)_1.\" + H : \"\",\n            Y = Z.toString,\n            tt = RegExp(\"^\" + X.call(Q).replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"),\n            et = B ? C.Buffer : void 0,\n            nt = C.Symbol,\n            rt = C.Uint8Array,\n            it = Z.propertyIsEnumerable,\n            st = K.splice,\n            ot = nt ? nt.toStringTag : void 0,\n            lt = Object.getOwnPropertySymbols,\n            at = et ? et.isBuffer : void 0,\n            ct = ($ = Object.keys, V = Object, function (t) {\n              return $(V(t));\n            }),\n            ut = It(C, \"DataView\"),\n            ht = It(C, \"Map\"),\n            dt = It(C, \"Promise\"),\n            ft = It(C, \"Set\"),\n            pt = It(C, \"WeakMap\"),\n            gt = It(Object, \"create\"),\n            mt = Dt(ut),\n            bt = Dt(ht),\n            yt = Dt(dt),\n            vt = Dt(ft),\n            At = Dt(pt),\n            xt = nt ? nt.prototype : void 0,\n            Nt = xt ? xt.valueOf : void 0;\n          function Et(t) {\n            var e = -1,\n              n = null == t ? 0 : t.length;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          function wt(t) {\n            var e = -1,\n              n = null == t ? 0 : t.length;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          function qt(t) {\n            var e = -1,\n              n = null == t ? 0 : t.length;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          function kt(t) {\n            var e = -1,\n              n = null == t ? 0 : t.length;\n            for (this.__data__ = new qt(); ++e < n;) this.add(t[e]);\n          }\n          function _t(t) {\n            var e = this.__data__ = new wt(t);\n            this.size = e.size;\n          }\n          function Lt(t, e) {\n            for (var n = t.length; n--;) if (Pt(t[n][0], e)) return n;\n            return -1;\n          }\n          function St(t) {\n            return null == t ? void 0 === t ? w : b : ot && ot in Object(t) ? function (t) {\n              var e = Q.call(t, ot),\n                n = t[ot];\n              try {\n                t[ot] = void 0;\n                var r = !0;\n              } catch (t) {}\n              var i = Y.call(t);\n              return r && (e ? t[ot] = n : delete t[ot]), i;\n            }(t) : function (t) {\n              return Y.call(t);\n            }(t);\n          }\n          function Ot(t) {\n            return Wt(t) && St(t) == l;\n          }\n          function Tt(t, e, n, r, o) {\n            return t === e || (null == t || null == e || !Wt(t) && !Wt(e) ? t != t && e != e : function (t, e, n, r, o, c) {\n              var f = Ft(t),\n                p = Ft(e),\n                b = f ? a : Mt(t),\n                v = p ? a : Mt(e),\n                A = (b = b == l ? y : b) == y,\n                w = (v = v == l ? y : v) == y,\n                q = b == v;\n              if (q && Ht(t)) {\n                if (!Ht(e)) return !1;\n                f = !0, A = !1;\n              }\n              if (q && !A) return c || (c = new _t()), f || Zt(t) ? jt(t, e, n, r, o, c) : function (t, e, n, r, o, l, a) {\n                switch (n) {\n                  case _:\n                    if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;\n                    t = t.buffer, e = e.buffer;\n                  case k:\n                    return !(t.byteLength != e.byteLength || !l(new rt(t), new rt(e)));\n                  case u:\n                  case h:\n                  case m:\n                    return Pt(+t, +e);\n                  case d:\n                    return t.name == e.name && t.message == e.message;\n                  case x:\n                  case E:\n                    return t == e + \"\";\n                  case g:\n                    var c = z;\n                  case N:\n                    var f = r & i;\n                    if (c || (c = F), t.size != e.size && !f) return !1;\n                    var p = a.get(t);\n                    if (p) return p == e;\n                    r |= s, a.set(t, e);\n                    var b = jt(c(t), c(e), r, o, l, a);\n                    return a.delete(t), b;\n                  case \"[object Symbol]\":\n                    if (Nt) return Nt.call(t) == Nt.call(e);\n                }\n                return !1;\n              }(t, e, b, n, r, o, c);\n              if (!(n & i)) {\n                var L = A && Q.call(t, \"__wrapped__\"),\n                  S = w && Q.call(e, \"__wrapped__\");\n                if (L || S) {\n                  var O = L ? t.value() : t,\n                    T = S ? e.value() : e;\n                  return c || (c = new _t()), o(O, T, n, r, c);\n                }\n              }\n              return !!q && (c || (c = new _t()), function (t, e, n, r, s, o) {\n                var l = n & i,\n                  a = Ct(t),\n                  c = a.length;\n                if (c != Ct(e).length && !l) return !1;\n                for (var u = c; u--;) {\n                  var h = a[u];\n                  if (!(l ? h in e : Q.call(e, h))) return !1;\n                }\n                var d = o.get(t);\n                if (d && o.get(e)) return d == e;\n                var f = !0;\n                o.set(t, e), o.set(e, t);\n                for (var p = l; ++u < c;) {\n                  var g = t[h = a[u]],\n                    m = e[h];\n                  if (r) var b = l ? r(m, g, h, e, t, o) : r(g, m, h, t, e, o);\n                  if (!(void 0 === b ? g === m || s(g, m, n, r, o) : b)) {\n                    f = !1;\n                    break;\n                  }\n                  p || (p = \"constructor\" == h);\n                }\n                if (f && !p) {\n                  var y = t.constructor,\n                    v = e.constructor;\n                  y == v || !(\"constructor\" in t) || !(\"constructor\" in e) || \"function\" == typeof y && y instanceof y && \"function\" == typeof v && v instanceof v || (f = !1);\n                }\n                return o.delete(t), o.delete(e), f;\n              }(t, e, n, r, o, c));\n            }(t, e, n, r, Tt, o));\n          }\n          function jt(t, e, n, r, o, l) {\n            var a = n & i,\n              c = t.length,\n              u = e.length;\n            if (c != u && !(a && u > c)) return !1;\n            var h = l.get(t);\n            if (h && l.get(e)) return h == e;\n            var d = -1,\n              f = !0,\n              p = n & s ? new kt() : void 0;\n            for (l.set(t, e), l.set(e, t); ++d < c;) {\n              var g = t[d],\n                m = e[d];\n              if (r) var b = a ? r(m, g, d, e, t, l) : r(g, m, d, t, e, l);\n              if (void 0 !== b) {\n                if (b) continue;\n                f = !1;\n                break;\n              }\n              if (p) {\n                if (!P(e, function (t, e) {\n                  if (i = e, !p.has(i) && (g === t || o(g, t, n, r, l))) return p.push(e);\n                  var i;\n                })) {\n                  f = !1;\n                  break;\n                }\n              } else if (g !== m && !o(g, m, n, r, l)) {\n                f = !1;\n                break;\n              }\n            }\n            return l.delete(t), l.delete(e), f;\n          }\n          function Ct(t) {\n            return function (t, e, n) {\n              var r = e(t);\n              return Ft(t) ? r : function (t, e) {\n                for (var n = -1, r = e.length, i = t.length; ++n < r;) t[i + n] = e[n];\n                return t;\n              }(r, n(t));\n            }(t, Gt, Bt);\n          }\n          function Rt(t, e) {\n            var n,\n              r,\n              i = t.__data__;\n            return (\"string\" == (r = typeof (n = e)) || \"number\" == r || \"symbol\" == r || \"boolean\" == r ? \"__proto__\" !== n : null === n) ? i[\"string\" == typeof e ? \"string\" : \"hash\"] : i.map;\n          }\n          function It(t, e) {\n            var n = function (t, e) {\n              return null == t ? void 0 : t[e];\n            }(t, e);\n            return function (t) {\n              return !(!Kt(t) || function (t) {\n                return !!J && J in t;\n              }(t)) && ($t(t) ? tt : L).test(Dt(t));\n            }(n) ? n : void 0;\n          }\n          Et.prototype.clear = function () {\n            this.__data__ = gt ? gt(null) : {}, this.size = 0;\n          }, Et.prototype.delete = function (t) {\n            var e = this.has(t) && delete this.__data__[t];\n            return this.size -= e ? 1 : 0, e;\n          }, Et.prototype.get = function (t) {\n            var e = this.__data__;\n            if (gt) {\n              var n = e[t];\n              return n === r ? void 0 : n;\n            }\n            return Q.call(e, t) ? e[t] : void 0;\n          }, Et.prototype.has = function (t) {\n            var e = this.__data__;\n            return gt ? void 0 !== e[t] : Q.call(e, t);\n          }, Et.prototype.set = function (t, e) {\n            var n = this.__data__;\n            return this.size += this.has(t) ? 0 : 1, n[t] = gt && void 0 === e ? r : e, this;\n          }, wt.prototype.clear = function () {\n            this.__data__ = [], this.size = 0;\n          }, wt.prototype.delete = function (t) {\n            var e = this.__data__,\n              n = Lt(e, t);\n            return !(n < 0 || (n == e.length - 1 ? e.pop() : st.call(e, n, 1), --this.size, 0));\n          }, wt.prototype.get = function (t) {\n            var e = this.__data__,\n              n = Lt(e, t);\n            return n < 0 ? void 0 : e[n][1];\n          }, wt.prototype.has = function (t) {\n            return Lt(this.__data__, t) > -1;\n          }, wt.prototype.set = function (t, e) {\n            var n = this.__data__,\n              r = Lt(n, t);\n            return r < 0 ? (++this.size, n.push([t, e])) : n[r][1] = e, this;\n          }, qt.prototype.clear = function () {\n            this.size = 0, this.__data__ = {\n              hash: new Et(),\n              map: new (ht || wt)(),\n              string: new Et()\n            };\n          }, qt.prototype.delete = function (t) {\n            var e = Rt(this, t).delete(t);\n            return this.size -= e ? 1 : 0, e;\n          }, qt.prototype.get = function (t) {\n            return Rt(this, t).get(t);\n          }, qt.prototype.has = function (t) {\n            return Rt(this, t).has(t);\n          }, qt.prototype.set = function (t, e) {\n            var n = Rt(this, t),\n              r = n.size;\n            return n.set(t, e), this.size += n.size == r ? 0 : 1, this;\n          }, kt.prototype.add = kt.prototype.push = function (t) {\n            return this.__data__.set(t, r), this;\n          }, kt.prototype.has = function (t) {\n            return this.__data__.has(t);\n          }, _t.prototype.clear = function () {\n            this.__data__ = new wt(), this.size = 0;\n          }, _t.prototype.delete = function (t) {\n            var e = this.__data__,\n              n = e.delete(t);\n            return this.size = e.size, n;\n          }, _t.prototype.get = function (t) {\n            return this.__data__.get(t);\n          }, _t.prototype.has = function (t) {\n            return this.__data__.has(t);\n          }, _t.prototype.set = function (t, e) {\n            var n = this.__data__;\n            if (n instanceof wt) {\n              var r = n.__data__;\n              if (!ht || r.length < 199) return r.push([t, e]), this.size = ++n.size, this;\n              n = this.__data__ = new qt(r);\n            }\n            return n.set(t, e), this.size = n.size, this;\n          };\n          var Bt = lt ? function (t) {\n              return null == t ? [] : (t = Object(t), function (e, n) {\n                for (var r = -1, i = null == e ? 0 : e.length, s = 0, o = []; ++r < i;) {\n                  var l = e[r];\n                  a = l, it.call(t, a) && (o[s++] = l);\n                }\n                var a;\n                return o;\n              }(lt(t)));\n            } : function () {\n              return [];\n            },\n            Mt = St;\n          function Ut(t, e) {\n            return !!(e = null == e ? o : e) && (\"number\" == typeof t || S.test(t)) && t > -1 && t % 1 == 0 && t < e;\n          }\n          function Dt(t) {\n            if (null != t) {\n              try {\n                return X.call(t);\n              } catch (t) {}\n              try {\n                return t + \"\";\n              } catch (t) {}\n            }\n            return \"\";\n          }\n          function Pt(t, e) {\n            return t === e || t != t && e != e;\n          }\n          (ut && Mt(new ut(new ArrayBuffer(1))) != _ || ht && Mt(new ht()) != g || dt && Mt(dt.resolve()) != v || ft && Mt(new ft()) != N || pt && Mt(new pt()) != q) && (Mt = function (t) {\n            var e = St(t),\n              n = e == y ? t.constructor : void 0,\n              r = n ? Dt(n) : \"\";\n            if (r) switch (r) {\n              case mt:\n                return _;\n              case bt:\n                return g;\n              case yt:\n                return v;\n              case vt:\n                return N;\n              case At:\n                return q;\n            }\n            return e;\n          });\n          var zt = Ot(function () {\n              return arguments;\n            }()) ? Ot : function (t) {\n              return Wt(t) && Q.call(t, \"callee\") && !it.call(t, \"callee\");\n            },\n            Ft = Array.isArray,\n            Ht = at || function () {\n              return !1;\n            };\n          function $t(t) {\n            if (!Kt(t)) return !1;\n            var e = St(t);\n            return e == f || e == p || e == c || e == A;\n          }\n          function Vt(t) {\n            return \"number\" == typeof t && t > -1 && t % 1 == 0 && t <= o;\n          }\n          function Kt(t) {\n            var e = typeof t;\n            return null != t && (\"object\" == e || \"function\" == e);\n          }\n          function Wt(t) {\n            return null != t && \"object\" == typeof t;\n          }\n          var Zt = D ? function (t) {\n            return function (e) {\n              return t(e);\n            };\n          }(D) : function (t) {\n            return Wt(t) && Vt(t.length) && !!O[St(t)];\n          };\n          function Gt(t) {\n            return null != (e = t) && Vt(e.length) && !$t(e) ? function (t, e) {\n              var n = Ft(t),\n                r = !n && zt(t),\n                i = !n && !r && Ht(t),\n                s = !n && !r && !i && Zt(t),\n                o = n || r || i || s,\n                l = o ? function (t, e) {\n                  for (var n = -1, r = Array(t); ++n < t;) r[n] = e(n);\n                  return r;\n                }(t.length, String) : [],\n                a = l.length;\n              for (var c in t) !e && !Q.call(t, c) || o && (\"length\" == c || i && (\"offset\" == c || \"parent\" == c) || s && (\"buffer\" == c || \"byteLength\" == c || \"byteOffset\" == c) || Ut(c, a)) || l.push(c);\n              return l;\n            }(t) : function (t) {\n              if (n = (e = t) && e.constructor, e !== (\"function\" == typeof n && n.prototype || Z)) return ct(t);\n              var e,\n                n,\n                r = [];\n              for (var i in Object(t)) Q.call(t, i) && \"constructor\" != i && r.push(i);\n              return r;\n            }(t);\n            var e;\n          }\n          t.exports = function (t, e) {\n            return Tt(t, e);\n          };\n        },\n        1270: function (t, e, n) {\n          \"use strict\";\n\n          Object.defineProperty(e, \"__esModule\", {\n            value: !0\n          });\n          const r = n(9629),\n            i = n(4162);\n          var s;\n          !function (t) {\n            t.compose = function (t = {}, e = {}, n = !1) {\n              \"object\" != typeof t && (t = {}), \"object\" != typeof e && (e = {});\n              let i = r(e);\n              n || (i = Object.keys(i).reduce((t, e) => (null != i[e] && (t[e] = i[e]), t), {}));\n              for (const n in t) void 0 !== t[n] && void 0 === e[n] && (i[n] = t[n]);\n              return Object.keys(i).length > 0 ? i : void 0;\n            }, t.diff = function (t = {}, e = {}) {\n              \"object\" != typeof t && (t = {}), \"object\" != typeof e && (e = {});\n              const n = Object.keys(t).concat(Object.keys(e)).reduce((n, r) => (i(t[r], e[r]) || (n[r] = void 0 === e[r] ? null : e[r]), n), {});\n              return Object.keys(n).length > 0 ? n : void 0;\n            }, t.invert = function (t = {}, e = {}) {\n              t = t || {};\n              const n = Object.keys(e).reduce((n, r) => (e[r] !== t[r] && void 0 !== t[r] && (n[r] = e[r]), n), {});\n              return Object.keys(t).reduce((n, r) => (t[r] !== e[r] && void 0 === e[r] && (n[r] = null), n), n);\n            }, t.transform = function (t, e, n = !1) {\n              if (\"object\" != typeof t) return e;\n              if (\"object\" != typeof e) return;\n              if (!n) return e;\n              const r = Object.keys(e).reduce((n, r) => (void 0 === t[r] && (n[r] = e[r]), n), {});\n              return Object.keys(r).length > 0 ? r : void 0;\n            };\n          }(s || (s = {})), e.default = s;\n        },\n        5232: function (t, e, n) {\n          \"use strict\";\n\n          Object.defineProperty(e, \"__esModule\", {\n            value: !0\n          }), e.AttributeMap = e.OpIterator = e.Op = void 0;\n          const r = n(5090),\n            i = n(9629),\n            s = n(4162),\n            o = n(1270);\n          e.AttributeMap = o.default;\n          const l = n(4123);\n          e.Op = l.default;\n          const a = n(7033);\n          e.OpIterator = a.default;\n          const c = String.fromCharCode(0),\n            u = (t, e) => {\n              if (\"object\" != typeof t || null === t) throw new Error(\"cannot retain a \" + typeof t);\n              if (\"object\" != typeof e || null === e) throw new Error(\"cannot retain a \" + typeof e);\n              const n = Object.keys(t)[0];\n              if (!n || n !== Object.keys(e)[0]) throw new Error(`embed types not matched: ${n} != ${Object.keys(e)[0]}`);\n              return [n, t[n], e[n]];\n            };\n          class h {\n            constructor(t) {\n              Array.isArray(t) ? this.ops = t : null != t && Array.isArray(t.ops) ? this.ops = t.ops : this.ops = [];\n            }\n            static registerEmbed(t, e) {\n              this.handlers[t] = e;\n            }\n            static unregisterEmbed(t) {\n              delete this.handlers[t];\n            }\n            static getHandler(t) {\n              const e = this.handlers[t];\n              if (!e) throw new Error(`no handlers for embed type \"${t}\"`);\n              return e;\n            }\n            insert(t, e) {\n              const n = {};\n              return \"string\" == typeof t && 0 === t.length ? this : (n.insert = t, null != e && \"object\" == typeof e && Object.keys(e).length > 0 && (n.attributes = e), this.push(n));\n            }\n            delete(t) {\n              return t <= 0 ? this : this.push({\n                delete: t\n              });\n            }\n            retain(t, e) {\n              if (\"number\" == typeof t && t <= 0) return this;\n              const n = {\n                retain: t\n              };\n              return null != e && \"object\" == typeof e && Object.keys(e).length > 0 && (n.attributes = e), this.push(n);\n            }\n            push(t) {\n              let e = this.ops.length,\n                n = this.ops[e - 1];\n              if (t = i(t), \"object\" == typeof n) {\n                if (\"number\" == typeof t.delete && \"number\" == typeof n.delete) return this.ops[e - 1] = {\n                  delete: n.delete + t.delete\n                }, this;\n                if (\"number\" == typeof n.delete && null != t.insert && (e -= 1, n = this.ops[e - 1], \"object\" != typeof n)) return this.ops.unshift(t), this;\n                if (s(t.attributes, n.attributes)) {\n                  if (\"string\" == typeof t.insert && \"string\" == typeof n.insert) return this.ops[e - 1] = {\n                    insert: n.insert + t.insert\n                  }, \"object\" == typeof t.attributes && (this.ops[e - 1].attributes = t.attributes), this;\n                  if (\"number\" == typeof t.retain && \"number\" == typeof n.retain) return this.ops[e - 1] = {\n                    retain: n.retain + t.retain\n                  }, \"object\" == typeof t.attributes && (this.ops[e - 1].attributes = t.attributes), this;\n                }\n              }\n              return e === this.ops.length ? this.ops.push(t) : this.ops.splice(e, 0, t), this;\n            }\n            chop() {\n              const t = this.ops[this.ops.length - 1];\n              return t && \"number\" == typeof t.retain && !t.attributes && this.ops.pop(), this;\n            }\n            filter(t) {\n              return this.ops.filter(t);\n            }\n            forEach(t) {\n              this.ops.forEach(t);\n            }\n            map(t) {\n              return this.ops.map(t);\n            }\n            partition(t) {\n              const e = [],\n                n = [];\n              return this.forEach(r => {\n                (t(r) ? e : n).push(r);\n              }), [e, n];\n            }\n            reduce(t, e) {\n              return this.ops.reduce(t, e);\n            }\n            changeLength() {\n              return this.reduce((t, e) => e.insert ? t + l.default.length(e) : e.delete ? t - e.delete : t, 0);\n            }\n            length() {\n              return this.reduce((t, e) => t + l.default.length(e), 0);\n            }\n            slice(t = 0, e = 1 / 0) {\n              const n = [],\n                r = new a.default(this.ops);\n              let i = 0;\n              for (; i < e && r.hasNext();) {\n                let s;\n                i < t ? s = r.next(t - i) : (s = r.next(e - i), n.push(s)), i += l.default.length(s);\n              }\n              return new h(n);\n            }\n            compose(t) {\n              const e = new a.default(this.ops),\n                n = new a.default(t.ops),\n                r = [],\n                i = n.peek();\n              if (null != i && \"number\" == typeof i.retain && null == i.attributes) {\n                let t = i.retain;\n                for (; \"insert\" === e.peekType() && e.peekLength() <= t;) t -= e.peekLength(), r.push(e.next());\n                i.retain - t > 0 && n.next(i.retain - t);\n              }\n              const l = new h(r);\n              for (; e.hasNext() || n.hasNext();) if (\"insert\" === n.peekType()) l.push(n.next());else if (\"delete\" === e.peekType()) l.push(e.next());else {\n                const t = Math.min(e.peekLength(), n.peekLength()),\n                  r = e.next(t),\n                  i = n.next(t);\n                if (i.retain) {\n                  const a = {};\n                  if (\"number\" == typeof r.retain) a.retain = \"number\" == typeof i.retain ? t : i.retain;else if (\"number\" == typeof i.retain) null == r.retain ? a.insert = r.insert : a.retain = r.retain;else {\n                    const t = null == r.retain ? \"insert\" : \"retain\",\n                      [e, n, s] = u(r[t], i.retain),\n                      o = h.getHandler(e);\n                    a[t] = {\n                      [e]: o.compose(n, s, \"retain\" === t)\n                    };\n                  }\n                  const c = o.default.compose(r.attributes, i.attributes, \"number\" == typeof r.retain);\n                  if (c && (a.attributes = c), l.push(a), !n.hasNext() && s(l.ops[l.ops.length - 1], a)) {\n                    const t = new h(e.rest());\n                    return l.concat(t).chop();\n                  }\n                } else \"number\" == typeof i.delete && (\"number\" == typeof r.retain || \"object\" == typeof r.retain && null !== r.retain) && l.push(i);\n              }\n              return l.chop();\n            }\n            concat(t) {\n              const e = new h(this.ops.slice());\n              return t.ops.length > 0 && (e.push(t.ops[0]), e.ops = e.ops.concat(t.ops.slice(1))), e;\n            }\n            diff(t, e) {\n              if (this.ops === t.ops) return new h();\n              const n = [this, t].map(e => e.map(n => {\n                  if (null != n.insert) return \"string\" == typeof n.insert ? n.insert : c;\n                  throw new Error(\"diff() called \" + (e === t ? \"on\" : \"with\") + \" non-document\");\n                }).join(\"\")),\n                i = new h(),\n                l = r(n[0], n[1], e, !0),\n                u = new a.default(this.ops),\n                d = new a.default(t.ops);\n              return l.forEach(t => {\n                let e = t[1].length;\n                for (; e > 0;) {\n                  let n = 0;\n                  switch (t[0]) {\n                    case r.INSERT:\n                      n = Math.min(d.peekLength(), e), i.push(d.next(n));\n                      break;\n                    case r.DELETE:\n                      n = Math.min(e, u.peekLength()), u.next(n), i.delete(n);\n                      break;\n                    case r.EQUAL:\n                      n = Math.min(u.peekLength(), d.peekLength(), e);\n                      const t = u.next(n),\n                        l = d.next(n);\n                      s(t.insert, l.insert) ? i.retain(n, o.default.diff(t.attributes, l.attributes)) : i.push(l).delete(n);\n                  }\n                  e -= n;\n                }\n              }), i.chop();\n            }\n            eachLine(t, e = \"\\n\") {\n              const n = new a.default(this.ops);\n              let r = new h(),\n                i = 0;\n              for (; n.hasNext();) {\n                if (\"insert\" !== n.peekType()) return;\n                const s = n.peek(),\n                  o = l.default.length(s) - n.peekLength(),\n                  a = \"string\" == typeof s.insert ? s.insert.indexOf(e, o) - o : -1;\n                if (a < 0) r.push(n.next());else if (a > 0) r.push(n.next(a));else {\n                  if (!1 === t(r, n.next(1).attributes || {}, i)) return;\n                  i += 1, r = new h();\n                }\n              }\n              r.length() > 0 && t(r, {}, i);\n            }\n            invert(t) {\n              const e = new h();\n              return this.reduce((n, r) => {\n                if (r.insert) e.delete(l.default.length(r));else {\n                  if (\"number\" == typeof r.retain && null == r.attributes) return e.retain(r.retain), n + r.retain;\n                  if (r.delete || \"number\" == typeof r.retain) {\n                    const i = r.delete || r.retain;\n                    return t.slice(n, n + i).forEach(t => {\n                      r.delete ? e.push(t) : r.retain && r.attributes && e.retain(l.default.length(t), o.default.invert(r.attributes, t.attributes));\n                    }), n + i;\n                  }\n                  if (\"object\" == typeof r.retain && null !== r.retain) {\n                    const i = t.slice(n, n + 1),\n                      s = new a.default(i.ops).next(),\n                      [l, c, d] = u(r.retain, s.insert),\n                      f = h.getHandler(l);\n                    return e.retain({\n                      [l]: f.invert(c, d)\n                    }, o.default.invert(r.attributes, s.attributes)), n + 1;\n                  }\n                }\n                return n;\n              }, 0), e.chop();\n            }\n            transform(t, e = !1) {\n              if (e = !!e, \"number\" == typeof t) return this.transformPosition(t, e);\n              const n = t,\n                r = new a.default(this.ops),\n                i = new a.default(n.ops),\n                s = new h();\n              for (; r.hasNext() || i.hasNext();) if (\"insert\" !== r.peekType() || !e && \"insert\" === i.peekType()) {\n                if (\"insert\" === i.peekType()) s.push(i.next());else {\n                  const t = Math.min(r.peekLength(), i.peekLength()),\n                    n = r.next(t),\n                    l = i.next(t);\n                  if (n.delete) continue;\n                  if (l.delete) s.push(l);else {\n                    const r = n.retain,\n                      i = l.retain;\n                    let a = \"object\" == typeof i && null !== i ? i : t;\n                    if (\"object\" == typeof r && null !== r && \"object\" == typeof i && null !== i) {\n                      const t = Object.keys(r)[0];\n                      if (t === Object.keys(i)[0]) {\n                        const n = h.getHandler(t);\n                        n && (a = {\n                          [t]: n.transform(r[t], i[t], e)\n                        });\n                      }\n                    }\n                    s.retain(a, o.default.transform(n.attributes, l.attributes, e));\n                  }\n                }\n              } else s.retain(l.default.length(r.next()));\n              return s.chop();\n            }\n            transformPosition(t, e = !1) {\n              e = !!e;\n              const n = new a.default(this.ops);\n              let r = 0;\n              for (; n.hasNext() && r <= t;) {\n                const i = n.peekLength(),\n                  s = n.peekType();\n                n.next(), \"delete\" !== s ? (\"insert\" === s && (r < t || !e) && (t += i), r += i) : t -= Math.min(i, t - r);\n              }\n              return t;\n            }\n          }\n          h.Op = l.default, h.OpIterator = a.default, h.AttributeMap = o.default, h.handlers = {}, e.default = h, t.exports = h, t.exports.default = h;\n        },\n        4123: function (t, e) {\n          \"use strict\";\n\n          var n;\n          Object.defineProperty(e, \"__esModule\", {\n            value: !0\n          }), function (t) {\n            t.length = function (t) {\n              return \"number\" == typeof t.delete ? t.delete : \"number\" == typeof t.retain ? t.retain : \"object\" == typeof t.retain && null !== t.retain ? 1 : \"string\" == typeof t.insert ? t.insert.length : 1;\n            };\n          }(n || (n = {})), e.default = n;\n        },\n        7033: function (t, e, n) {\n          \"use strict\";\n\n          Object.defineProperty(e, \"__esModule\", {\n            value: !0\n          });\n          const r = n(4123);\n          e.default = class {\n            constructor(t) {\n              this.ops = t, this.index = 0, this.offset = 0;\n            }\n            hasNext() {\n              return this.peekLength() < 1 / 0;\n            }\n            next(t) {\n              t || (t = 1 / 0);\n              const e = this.ops[this.index];\n              if (e) {\n                const n = this.offset,\n                  i = r.default.length(e);\n                if (t >= i - n ? (t = i - n, this.index += 1, this.offset = 0) : this.offset += t, \"number\" == typeof e.delete) return {\n                  delete: t\n                };\n                {\n                  const r = {};\n                  return e.attributes && (r.attributes = e.attributes), \"number\" == typeof e.retain ? r.retain = t : \"object\" == typeof e.retain && null !== e.retain ? r.retain = e.retain : \"string\" == typeof e.insert ? r.insert = e.insert.substr(n, t) : r.insert = e.insert, r;\n                }\n              }\n              return {\n                retain: 1 / 0\n              };\n            }\n            peek() {\n              return this.ops[this.index];\n            }\n            peekLength() {\n              return this.ops[this.index] ? r.default.length(this.ops[this.index]) - this.offset : 1 / 0;\n            }\n            peekType() {\n              const t = this.ops[this.index];\n              return t ? \"number\" == typeof t.delete ? \"delete\" : \"number\" == typeof t.retain || \"object\" == typeof t.retain && null !== t.retain ? \"retain\" : \"insert\" : \"retain\";\n            }\n            rest() {\n              if (this.hasNext()) {\n                if (0 === this.offset) return this.ops.slice(this.index);\n                {\n                  const t = this.offset,\n                    e = this.index,\n                    n = this.next(),\n                    r = this.ops.slice(this.index);\n                  return this.offset = t, this.index = e, [n].concat(r);\n                }\n              }\n              return [];\n            }\n          };\n        },\n        8820: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return l;\n            }\n          });\n          var r = n(8138),\n            i = function (t, e) {\n              for (var n = t.length; n--;) if ((0, r.A)(t[n][0], e)) return n;\n              return -1;\n            },\n            s = Array.prototype.splice;\n          function o(t) {\n            var e = -1,\n              n = null == t ? 0 : t.length;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          o.prototype.clear = function () {\n            this.__data__ = [], this.size = 0;\n          }, o.prototype.delete = function (t) {\n            var e = this.__data__,\n              n = i(e, t);\n            return !(n < 0 || (n == e.length - 1 ? e.pop() : s.call(e, n, 1), --this.size, 0));\n          }, o.prototype.get = function (t) {\n            var e = this.__data__,\n              n = i(e, t);\n            return n < 0 ? void 0 : e[n][1];\n          }, o.prototype.has = function (t) {\n            return i(this.__data__, t) > -1;\n          }, o.prototype.set = function (t, e) {\n            var n = this.__data__,\n              r = i(n, t);\n            return r < 0 ? (++this.size, n.push([t, e])) : n[r][1] = e, this;\n          };\n          var l = o;\n        },\n        2461: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(2281),\n            i = n(5507),\n            s = (0, r.A)(i.A, \"Map\");\n          e.A = s;\n        },\n        3558: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return d;\n            }\n          });\n          var r = (0, n(2281).A)(Object, \"create\"),\n            i = Object.prototype.hasOwnProperty,\n            s = Object.prototype.hasOwnProperty;\n          function o(t) {\n            var e = -1,\n              n = null == t ? 0 : t.length;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          o.prototype.clear = function () {\n            this.__data__ = r ? r(null) : {}, this.size = 0;\n          }, o.prototype.delete = function (t) {\n            var e = this.has(t) && delete this.__data__[t];\n            return this.size -= e ? 1 : 0, e;\n          }, o.prototype.get = function (t) {\n            var e = this.__data__;\n            if (r) {\n              var n = e[t];\n              return \"__lodash_hash_undefined__\" === n ? void 0 : n;\n            }\n            return i.call(e, t) ? e[t] : void 0;\n          }, o.prototype.has = function (t) {\n            var e = this.__data__;\n            return r ? void 0 !== e[t] : s.call(e, t);\n          }, o.prototype.set = function (t, e) {\n            var n = this.__data__;\n            return this.size += this.has(t) ? 0 : 1, n[t] = r && void 0 === e ? \"__lodash_hash_undefined__\" : e, this;\n          };\n          var l = o,\n            a = n(8820),\n            c = n(2461),\n            u = function (t, e) {\n              var n,\n                r,\n                i = t.__data__;\n              return (\"string\" == (r = typeof (n = e)) || \"number\" == r || \"symbol\" == r || \"boolean\" == r ? \"__proto__\" !== n : null === n) ? i[\"string\" == typeof e ? \"string\" : \"hash\"] : i.map;\n            };\n          function h(t) {\n            var e = -1,\n              n = null == t ? 0 : t.length;\n            for (this.clear(); ++e < n;) {\n              var r = t[e];\n              this.set(r[0], r[1]);\n            }\n          }\n          h.prototype.clear = function () {\n            this.size = 0, this.__data__ = {\n              hash: new l(),\n              map: new (c.A || a.A)(),\n              string: new l()\n            };\n          }, h.prototype.delete = function (t) {\n            var e = u(this, t).delete(t);\n            return this.size -= e ? 1 : 0, e;\n          }, h.prototype.get = function (t) {\n            return u(this, t).get(t);\n          }, h.prototype.has = function (t) {\n            return u(this, t).has(t);\n          }, h.prototype.set = function (t, e) {\n            var n = u(this, t),\n              r = n.size;\n            return n.set(t, e), this.size += n.size == r ? 0 : 1, this;\n          };\n          var d = h;\n        },\n        2673: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return l;\n            }\n          });\n          var r = n(8820),\n            i = n(2461),\n            s = n(3558);\n          function o(t) {\n            var e = this.__data__ = new r.A(t);\n            this.size = e.size;\n          }\n          o.prototype.clear = function () {\n            this.__data__ = new r.A(), this.size = 0;\n          }, o.prototype.delete = function (t) {\n            var e = this.__data__,\n              n = e.delete(t);\n            return this.size = e.size, n;\n          }, o.prototype.get = function (t) {\n            return this.__data__.get(t);\n          }, o.prototype.has = function (t) {\n            return this.__data__.has(t);\n          }, o.prototype.set = function (t, e) {\n            var n = this.__data__;\n            if (n instanceof r.A) {\n              var o = n.__data__;\n              if (!i.A || o.length < 199) return o.push([t, e]), this.size = ++n.size, this;\n              n = this.__data__ = new s.A(o);\n            }\n            return n.set(t, e), this.size = n.size, this;\n          };\n          var l = o;\n        },\n        439: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(5507).A.Symbol;\n          e.A = r;\n        },\n        7218: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(5507).A.Uint8Array;\n          e.A = r;\n        },\n        6753: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return c;\n            }\n          });\n          var r = n(8412),\n            i = n(723),\n            s = n(776),\n            o = n(3767),\n            l = n(5755),\n            a = Object.prototype.hasOwnProperty,\n            c = function (t, e) {\n              var n = (0, i.A)(t),\n                c = !n && (0, r.A)(t),\n                u = !n && !c && (0, s.A)(t),\n                h = !n && !c && !u && (0, l.A)(t),\n                d = n || c || u || h,\n                f = d ? function (t, e) {\n                  for (var n = -1, r = Array(t); ++n < t;) r[n] = e(n);\n                  return r;\n                }(t.length, String) : [],\n                p = f.length;\n              for (var g in t) !e && !a.call(t, g) || d && (\"length\" == g || u && (\"offset\" == g || \"parent\" == g) || h && (\"buffer\" == g || \"byteLength\" == g || \"byteOffset\" == g) || (0, o.A)(g, p)) || f.push(g);\n              return f;\n            };\n        },\n        802: function (t, e) {\n          \"use strict\";\n\n          e.A = function (t, e) {\n            for (var n = -1, r = e.length, i = t.length; ++n < r;) t[i + n] = e[n];\n            return t;\n          };\n        },\n        6437: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(6770),\n            i = n(8138),\n            s = Object.prototype.hasOwnProperty;\n          e.A = function (t, e, n) {\n            var o = t[e];\n            s.call(t, e) && (0, i.A)(o, n) && (void 0 !== n || e in t) || (0, r.A)(t, e, n);\n          };\n        },\n        6770: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(7889);\n          e.A = function (t, e, n) {\n            \"__proto__\" == e && r.A ? (0, r.A)(t, e, {\n              configurable: !0,\n              enumerable: !0,\n              value: n,\n              writable: !0\n            }) : t[e] = n;\n          };\n        },\n        1381: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(802),\n            i = n(723);\n          e.A = function (t, e, n) {\n            var s = e(t);\n            return (0, i.A)(t) ? s : (0, r.A)(s, n(t));\n          };\n        },\n        2159: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return u;\n            }\n          });\n          var r = n(439),\n            i = Object.prototype,\n            s = i.hasOwnProperty,\n            o = i.toString,\n            l = r.A ? r.A.toStringTag : void 0,\n            a = Object.prototype.toString,\n            c = r.A ? r.A.toStringTag : void 0,\n            u = function (t) {\n              return null == t ? void 0 === t ? \"[object Undefined]\" : \"[object Null]\" : c && c in Object(t) ? function (t) {\n                var e = s.call(t, l),\n                  n = t[l];\n                try {\n                  t[l] = void 0;\n                  var r = !0;\n                } catch (t) {}\n                var i = o.call(t);\n                return r && (e ? t[l] = n : delete t[l]), i;\n              }(t) : function (t) {\n                return a.call(t);\n              }(t);\n            };\n        },\n        5771: function (t, e) {\n          \"use strict\";\n\n          e.A = function (t) {\n            return function (e) {\n              return t(e);\n            };\n          };\n        },\n        2899: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(7218);\n          e.A = function (t) {\n            var e = new t.constructor(t.byteLength);\n            return new r.A(e).set(new r.A(t)), e;\n          };\n        },\n        3812: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(5507),\n            i = \"object\" == typeof exports && exports && !exports.nodeType && exports,\n            s = i && \"object\" == typeof module && module && !module.nodeType && module,\n            o = s && s.exports === i ? r.A.Buffer : void 0,\n            l = o ? o.allocUnsafe : void 0;\n          e.A = function (t, e) {\n            if (e) return t.slice();\n            var n = t.length,\n              r = l ? l(n) : new t.constructor(n);\n            return t.copy(r), r;\n          };\n        },\n        1827: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(2899);\n          e.A = function (t, e) {\n            var n = e ? (0, r.A)(t.buffer) : t.buffer;\n            return new t.constructor(n, t.byteOffset, t.length);\n          };\n        },\n        4405: function (t, e) {\n          \"use strict\";\n\n          e.A = function (t, e) {\n            var n = -1,\n              r = t.length;\n            for (e || (e = Array(r)); ++n < r;) e[n] = t[n];\n            return e;\n          };\n        },\n        9601: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(6437),\n            i = n(6770);\n          e.A = function (t, e, n, s) {\n            var o = !n;\n            n || (n = {});\n            for (var l = -1, a = e.length; ++l < a;) {\n              var c = e[l],\n                u = s ? s(n[c], t[c], c, n, t) : void 0;\n              void 0 === u && (u = t[c]), o ? (0, i.A)(n, c, u) : (0, r.A)(n, c, u);\n            }\n            return n;\n          };\n        },\n        7889: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(2281),\n            i = function () {\n              try {\n                var t = (0, r.A)(Object, \"defineProperty\");\n                return t({}, \"\", {}), t;\n              } catch (t) {}\n            }();\n          e.A = i;\n        },\n        9646: function (t, e) {\n          \"use strict\";\n\n          var n = \"object\" == typeof global && global && global.Object === Object && global;\n          e.A = n;\n        },\n        2816: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(1381),\n            i = n(9844),\n            s = n(3169);\n          e.A = function (t) {\n            return (0, r.A)(t, s.A, i.A);\n          };\n        },\n        2281: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return m;\n            }\n          });\n          var r,\n            i = n(7572),\n            s = n(5507).A[\"__core-js_shared__\"],\n            o = (r = /[^.]+$/.exec(s && s.keys && s.keys.IE_PROTO || \"\")) ? \"Symbol(src)_1.\" + r : \"\",\n            l = n(659),\n            a = n(1543),\n            c = /^\\[object .+?Constructor\\]$/,\n            u = Function.prototype,\n            h = Object.prototype,\n            d = u.toString,\n            f = h.hasOwnProperty,\n            p = RegExp(\"^\" + d.call(f).replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"),\n            g = function (t) {\n              return !(!(0, l.A)(t) || (e = t, o && o in e)) && ((0, i.A)(t) ? p : c).test((0, a.A)(t));\n              var e;\n            },\n            m = function (t, e) {\n              var n = function (t, e) {\n                return null == t ? void 0 : t[e];\n              }(t, e);\n              return g(n) ? n : void 0;\n            };\n        },\n        8769: function (t, e, n) {\n          \"use strict\";\n\n          var r = (0, n(2217).A)(Object.getPrototypeOf, Object);\n          e.A = r;\n        },\n        9844: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return o;\n            }\n          });\n          var r = n(6935),\n            i = Object.prototype.propertyIsEnumerable,\n            s = Object.getOwnPropertySymbols,\n            o = s ? function (t) {\n              return null == t ? [] : (t = Object(t), function (t, e) {\n                for (var n = -1, r = null == t ? 0 : t.length, i = 0, s = []; ++n < r;) {\n                  var o = t[n];\n                  e(o, n, t) && (s[i++] = o);\n                }\n                return s;\n              }(s(t), function (e) {\n                return i.call(t, e);\n              }));\n            } : r.A;\n        },\n        7995: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return E;\n            }\n          });\n          var r = n(2281),\n            i = n(5507),\n            s = (0, r.A)(i.A, \"DataView\"),\n            o = n(2461),\n            l = (0, r.A)(i.A, \"Promise\"),\n            a = (0, r.A)(i.A, \"Set\"),\n            c = (0, r.A)(i.A, \"WeakMap\"),\n            u = n(2159),\n            h = n(1543),\n            d = \"[object Map]\",\n            f = \"[object Promise]\",\n            p = \"[object Set]\",\n            g = \"[object WeakMap]\",\n            m = \"[object DataView]\",\n            b = (0, h.A)(s),\n            y = (0, h.A)(o.A),\n            v = (0, h.A)(l),\n            A = (0, h.A)(a),\n            x = (0, h.A)(c),\n            N = u.A;\n          (s && N(new s(new ArrayBuffer(1))) != m || o.A && N(new o.A()) != d || l && N(l.resolve()) != f || a && N(new a()) != p || c && N(new c()) != g) && (N = function (t) {\n            var e = (0, u.A)(t),\n              n = \"[object Object]\" == e ? t.constructor : void 0,\n              r = n ? (0, h.A)(n) : \"\";\n            if (r) switch (r) {\n              case b:\n                return m;\n              case y:\n                return d;\n              case v:\n                return f;\n              case A:\n                return p;\n              case x:\n                return g;\n            }\n            return e;\n          });\n          var E = N;\n        },\n        1683: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return a;\n            }\n          });\n          var r = n(659),\n            i = Object.create,\n            s = function () {\n              function t() {}\n              return function (e) {\n                if (!(0, r.A)(e)) return {};\n                if (i) return i(e);\n                t.prototype = e;\n                var n = new t();\n                return t.prototype = void 0, n;\n              };\n            }(),\n            o = n(8769),\n            l = n(501),\n            a = function (t) {\n              return \"function\" != typeof t.constructor || (0, l.A)(t) ? {} : s((0, o.A)(t));\n            };\n        },\n        3767: function (t, e) {\n          \"use strict\";\n\n          var n = /^(?:0|[1-9]\\d*)$/;\n          e.A = function (t, e) {\n            var r = typeof t;\n            return !!(e = null == e ? 9007199254740991 : e) && (\"number\" == r || \"symbol\" != r && n.test(t)) && t > -1 && t % 1 == 0 && t < e;\n          };\n        },\n        501: function (t, e) {\n          \"use strict\";\n\n          var n = Object.prototype;\n          e.A = function (t) {\n            var e = t && t.constructor;\n            return t === (\"function\" == typeof e && e.prototype || n);\n          };\n        },\n        8795: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(9646),\n            i = \"object\" == typeof exports && exports && !exports.nodeType && exports,\n            s = i && \"object\" == typeof module && module && !module.nodeType && module,\n            o = s && s.exports === i && r.A.process,\n            l = function () {\n              try {\n                return s && s.require && s.require(\"util\").types || o && o.binding && o.binding(\"util\");\n              } catch (t) {}\n            }();\n          e.A = l;\n        },\n        2217: function (t, e) {\n          \"use strict\";\n\n          e.A = function (t, e) {\n            return function (n) {\n              return t(e(n));\n            };\n          };\n        },\n        5507: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(9646),\n            i = \"object\" == typeof self && self && self.Object === Object && self,\n            s = r.A || i || Function(\"return this\")();\n          e.A = s;\n        },\n        1543: function (t, e) {\n          \"use strict\";\n\n          var n = Function.prototype.toString;\n          e.A = function (t) {\n            if (null != t) {\n              try {\n                return n.call(t);\n              } catch (t) {}\n              try {\n                return t + \"\";\n              } catch (t) {}\n            }\n            return \"\";\n          };\n        },\n        3707: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return H;\n            }\n          });\n          var r = n(2673),\n            i = n(6437),\n            s = n(9601),\n            o = n(3169),\n            l = n(2624),\n            a = n(3812),\n            c = n(4405),\n            u = n(9844),\n            h = n(802),\n            d = n(8769),\n            f = n(6935),\n            p = Object.getOwnPropertySymbols ? function (t) {\n              for (var e = []; t;) (0, h.A)(e, (0, u.A)(t)), t = (0, d.A)(t);\n              return e;\n            } : f.A,\n            g = n(2816),\n            m = n(1381),\n            b = function (t) {\n              return (0, m.A)(t, l.A, p);\n            },\n            y = n(7995),\n            v = Object.prototype.hasOwnProperty,\n            A = n(2899),\n            x = /\\w*$/,\n            N = n(439),\n            E = N.A ? N.A.prototype : void 0,\n            w = E ? E.valueOf : void 0,\n            q = n(1827),\n            k = function (t, e, n) {\n              var r,\n                i,\n                s,\n                o = t.constructor;\n              switch (e) {\n                case \"[object ArrayBuffer]\":\n                  return (0, A.A)(t);\n                case \"[object Boolean]\":\n                case \"[object Date]\":\n                  return new o(+t);\n                case \"[object DataView]\":\n                  return function (t, e) {\n                    var n = e ? (0, A.A)(t.buffer) : t.buffer;\n                    return new t.constructor(n, t.byteOffset, t.byteLength);\n                  }(t, n);\n                case \"[object Float32Array]\":\n                case \"[object Float64Array]\":\n                case \"[object Int8Array]\":\n                case \"[object Int16Array]\":\n                case \"[object Int32Array]\":\n                case \"[object Uint8Array]\":\n                case \"[object Uint8ClampedArray]\":\n                case \"[object Uint16Array]\":\n                case \"[object Uint32Array]\":\n                  return (0, q.A)(t, n);\n                case \"[object Map]\":\n                case \"[object Set]\":\n                  return new o();\n                case \"[object Number]\":\n                case \"[object String]\":\n                  return new o(t);\n                case \"[object RegExp]\":\n                  return (s = new (i = t).constructor(i.source, x.exec(i))).lastIndex = i.lastIndex, s;\n                case \"[object Symbol]\":\n                  return r = t, w ? Object(w.call(r)) : {};\n              }\n            },\n            _ = n(1683),\n            L = n(723),\n            S = n(776),\n            O = n(7948),\n            T = n(5771),\n            j = n(8795),\n            C = j.A && j.A.isMap,\n            R = C ? (0, T.A)(C) : function (t) {\n              return (0, O.A)(t) && \"[object Map]\" == (0, y.A)(t);\n            },\n            I = n(659),\n            B = j.A && j.A.isSet,\n            M = B ? (0, T.A)(B) : function (t) {\n              return (0, O.A)(t) && \"[object Set]\" == (0, y.A)(t);\n            },\n            U = \"[object Arguments]\",\n            D = \"[object Function]\",\n            P = \"[object Object]\",\n            z = {};\n          z[U] = z[\"[object Array]\"] = z[\"[object ArrayBuffer]\"] = z[\"[object DataView]\"] = z[\"[object Boolean]\"] = z[\"[object Date]\"] = z[\"[object Float32Array]\"] = z[\"[object Float64Array]\"] = z[\"[object Int8Array]\"] = z[\"[object Int16Array]\"] = z[\"[object Int32Array]\"] = z[\"[object Map]\"] = z[\"[object Number]\"] = z[P] = z[\"[object RegExp]\"] = z[\"[object Set]\"] = z[\"[object String]\"] = z[\"[object Symbol]\"] = z[\"[object Uint8Array]\"] = z[\"[object Uint8ClampedArray]\"] = z[\"[object Uint16Array]\"] = z[\"[object Uint32Array]\"] = !0, z[\"[object Error]\"] = z[D] = z[\"[object WeakMap]\"] = !1;\n          var F = function t(e, n, h, d, f, m) {\n              var A,\n                x = 1 & n,\n                N = 2 & n,\n                E = 4 & n;\n              if (h && (A = f ? h(e, d, f, m) : h(e)), void 0 !== A) return A;\n              if (!(0, I.A)(e)) return e;\n              var w = (0, L.A)(e);\n              if (w) {\n                if (A = function (t) {\n                  var e = t.length,\n                    n = new t.constructor(e);\n                  return e && \"string\" == typeof t[0] && v.call(t, \"index\") && (n.index = t.index, n.input = t.input), n;\n                }(e), !x) return (0, c.A)(e, A);\n              } else {\n                var q = (0, y.A)(e),\n                  O = q == D || \"[object GeneratorFunction]\" == q;\n                if ((0, S.A)(e)) return (0, a.A)(e, x);\n                if (q == P || q == U || O && !f) {\n                  if (A = N || O ? {} : (0, _.A)(e), !x) return N ? function (t, e) {\n                    return (0, s.A)(t, p(t), e);\n                  }(e, function (t, e) {\n                    return t && (0, s.A)(e, (0, l.A)(e), t);\n                  }(A, e)) : function (t, e) {\n                    return (0, s.A)(t, (0, u.A)(t), e);\n                  }(e, function (t, e) {\n                    return t && (0, s.A)(e, (0, o.A)(e), t);\n                  }(A, e));\n                } else {\n                  if (!z[q]) return f ? e : {};\n                  A = k(e, q, x);\n                }\n              }\n              m || (m = new r.A());\n              var T = m.get(e);\n              if (T) return T;\n              m.set(e, A), M(e) ? e.forEach(function (r) {\n                A.add(t(r, n, h, r, e, m));\n              }) : R(e) && e.forEach(function (r, i) {\n                A.set(i, t(r, n, h, i, e, m));\n              });\n              var j = E ? N ? b : g.A : N ? l.A : o.A,\n                C = w ? void 0 : j(e);\n              return function (t, e) {\n                for (var n = -1, r = null == t ? 0 : t.length; ++n < r && !1 !== e(t[n], n, t););\n              }(C || e, function (r, s) {\n                C && (r = e[s = r]), (0, i.A)(A, s, t(r, n, h, s, e, m));\n              }), A;\n            },\n            H = function (t) {\n              return F(t, 5);\n            };\n        },\n        8138: function (t, e) {\n          \"use strict\";\n\n          e.A = function (t, e) {\n            return t === e || t != t && e != e;\n          };\n        },\n        8412: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return u;\n            }\n          });\n          var r = n(2159),\n            i = n(7948),\n            s = function (t) {\n              return (0, i.A)(t) && \"[object Arguments]\" == (0, r.A)(t);\n            },\n            o = Object.prototype,\n            l = o.hasOwnProperty,\n            a = o.propertyIsEnumerable,\n            c = s(function () {\n              return arguments;\n            }()) ? s : function (t) {\n              return (0, i.A)(t) && l.call(t, \"callee\") && !a.call(t, \"callee\");\n            },\n            u = c;\n        },\n        723: function (t, e) {\n          \"use strict\";\n\n          var n = Array.isArray;\n          e.A = n;\n        },\n        3628: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(7572),\n            i = n(1628);\n          e.A = function (t) {\n            return null != t && (0, i.A)(t.length) && !(0, r.A)(t);\n          };\n        },\n        776: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return l;\n            }\n          });\n          var r = n(5507),\n            i = \"object\" == typeof exports && exports && !exports.nodeType && exports,\n            s = i && \"object\" == typeof module && module && !module.nodeType && module,\n            o = s && s.exports === i ? r.A.Buffer : void 0,\n            l = (o ? o.isBuffer : void 0) || function () {\n              return !1;\n            };\n        },\n        5123: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return S;\n            }\n          });\n          var r = n(2673),\n            i = n(3558);\n          function s(t) {\n            var e = -1,\n              n = null == t ? 0 : t.length;\n            for (this.__data__ = new i.A(); ++e < n;) this.add(t[e]);\n          }\n          s.prototype.add = s.prototype.push = function (t) {\n            return this.__data__.set(t, \"__lodash_hash_undefined__\"), this;\n          }, s.prototype.has = function (t) {\n            return this.__data__.has(t);\n          };\n          var o = s,\n            l = function (t, e) {\n              for (var n = -1, r = null == t ? 0 : t.length; ++n < r;) if (e(t[n], n, t)) return !0;\n              return !1;\n            },\n            a = function (t, e, n, r, i, s) {\n              var a = 1 & n,\n                c = t.length,\n                u = e.length;\n              if (c != u && !(a && u > c)) return !1;\n              var h = s.get(t),\n                d = s.get(e);\n              if (h && d) return h == e && d == t;\n              var f = -1,\n                p = !0,\n                g = 2 & n ? new o() : void 0;\n              for (s.set(t, e), s.set(e, t); ++f < c;) {\n                var m = t[f],\n                  b = e[f];\n                if (r) var y = a ? r(b, m, f, e, t, s) : r(m, b, f, t, e, s);\n                if (void 0 !== y) {\n                  if (y) continue;\n                  p = !1;\n                  break;\n                }\n                if (g) {\n                  if (!l(e, function (t, e) {\n                    if (o = e, !g.has(o) && (m === t || i(m, t, n, r, s))) return g.push(e);\n                    var o;\n                  })) {\n                    p = !1;\n                    break;\n                  }\n                } else if (m !== b && !i(m, b, n, r, s)) {\n                  p = !1;\n                  break;\n                }\n              }\n              return s.delete(t), s.delete(e), p;\n            },\n            c = n(439),\n            u = n(7218),\n            h = n(8138),\n            d = function (t) {\n              var e = -1,\n                n = Array(t.size);\n              return t.forEach(function (t, r) {\n                n[++e] = [r, t];\n              }), n;\n            },\n            f = function (t) {\n              var e = -1,\n                n = Array(t.size);\n              return t.forEach(function (t) {\n                n[++e] = t;\n              }), n;\n            },\n            p = c.A ? c.A.prototype : void 0,\n            g = p ? p.valueOf : void 0,\n            m = n(2816),\n            b = Object.prototype.hasOwnProperty,\n            y = n(7995),\n            v = n(723),\n            A = n(776),\n            x = n(5755),\n            N = \"[object Arguments]\",\n            E = \"[object Array]\",\n            w = \"[object Object]\",\n            q = Object.prototype.hasOwnProperty,\n            k = function (t, e, n, i, s, o) {\n              var l = (0, v.A)(t),\n                c = (0, v.A)(e),\n                p = l ? E : (0, y.A)(t),\n                k = c ? E : (0, y.A)(e),\n                _ = (p = p == N ? w : p) == w,\n                L = (k = k == N ? w : k) == w,\n                S = p == k;\n              if (S && (0, A.A)(t)) {\n                if (!(0, A.A)(e)) return !1;\n                l = !0, _ = !1;\n              }\n              if (S && !_) return o || (o = new r.A()), l || (0, x.A)(t) ? a(t, e, n, i, s, o) : function (t, e, n, r, i, s, o) {\n                switch (n) {\n                  case \"[object DataView]\":\n                    if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;\n                    t = t.buffer, e = e.buffer;\n                  case \"[object ArrayBuffer]\":\n                    return !(t.byteLength != e.byteLength || !s(new u.A(t), new u.A(e)));\n                  case \"[object Boolean]\":\n                  case \"[object Date]\":\n                  case \"[object Number]\":\n                    return (0, h.A)(+t, +e);\n                  case \"[object Error]\":\n                    return t.name == e.name && t.message == e.message;\n                  case \"[object RegExp]\":\n                  case \"[object String]\":\n                    return t == e + \"\";\n                  case \"[object Map]\":\n                    var l = d;\n                  case \"[object Set]\":\n                    var c = 1 & r;\n                    if (l || (l = f), t.size != e.size && !c) return !1;\n                    var p = o.get(t);\n                    if (p) return p == e;\n                    r |= 2, o.set(t, e);\n                    var m = a(l(t), l(e), r, i, s, o);\n                    return o.delete(t), m;\n                  case \"[object Symbol]\":\n                    if (g) return g.call(t) == g.call(e);\n                }\n                return !1;\n              }(t, e, p, n, i, s, o);\n              if (!(1 & n)) {\n                var O = _ && q.call(t, \"__wrapped__\"),\n                  T = L && q.call(e, \"__wrapped__\");\n                if (O || T) {\n                  var j = O ? t.value() : t,\n                    C = T ? e.value() : e;\n                  return o || (o = new r.A()), s(j, C, n, i, o);\n                }\n              }\n              return !!S && (o || (o = new r.A()), function (t, e, n, r, i, s) {\n                var o = 1 & n,\n                  l = (0, m.A)(t),\n                  a = l.length;\n                if (a != (0, m.A)(e).length && !o) return !1;\n                for (var c = a; c--;) {\n                  var u = l[c];\n                  if (!(o ? u in e : b.call(e, u))) return !1;\n                }\n                var h = s.get(t),\n                  d = s.get(e);\n                if (h && d) return h == e && d == t;\n                var f = !0;\n                s.set(t, e), s.set(e, t);\n                for (var p = o; ++c < a;) {\n                  var g = t[u = l[c]],\n                    y = e[u];\n                  if (r) var v = o ? r(y, g, u, e, t, s) : r(g, y, u, t, e, s);\n                  if (!(void 0 === v ? g === y || i(g, y, n, r, s) : v)) {\n                    f = !1;\n                    break;\n                  }\n                  p || (p = \"constructor\" == u);\n                }\n                if (f && !p) {\n                  var A = t.constructor,\n                    x = e.constructor;\n                  A == x || !(\"constructor\" in t) || !(\"constructor\" in e) || \"function\" == typeof A && A instanceof A && \"function\" == typeof x && x instanceof x || (f = !1);\n                }\n                return s.delete(t), s.delete(e), f;\n              }(t, e, n, i, s, o));\n            },\n            _ = n(7948),\n            L = function t(e, n, r, i, s) {\n              return e === n || (null == e || null == n || !(0, _.A)(e) && !(0, _.A)(n) ? e != e && n != n : k(e, n, r, i, t, s));\n            },\n            S = function (t, e) {\n              return L(t, e);\n            };\n        },\n        7572: function (t, e, n) {\n          \"use strict\";\n\n          var r = n(2159),\n            i = n(659);\n          e.A = function (t) {\n            if (!(0, i.A)(t)) return !1;\n            var e = (0, r.A)(t);\n            return \"[object Function]\" == e || \"[object GeneratorFunction]\" == e || \"[object AsyncFunction]\" == e || \"[object Proxy]\" == e;\n          };\n        },\n        1628: function (t, e) {\n          \"use strict\";\n\n          e.A = function (t) {\n            return \"number\" == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991;\n          };\n        },\n        659: function (t, e) {\n          \"use strict\";\n\n          e.A = function (t) {\n            var e = typeof t;\n            return null != t && (\"object\" == e || \"function\" == e);\n          };\n        },\n        7948: function (t, e) {\n          \"use strict\";\n\n          e.A = function (t) {\n            return null != t && \"object\" == typeof t;\n          };\n        },\n        5755: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return u;\n            }\n          });\n          var r = n(2159),\n            i = n(1628),\n            s = n(7948),\n            o = {};\n          o[\"[object Float32Array]\"] = o[\"[object Float64Array]\"] = o[\"[object Int8Array]\"] = o[\"[object Int16Array]\"] = o[\"[object Int32Array]\"] = o[\"[object Uint8Array]\"] = o[\"[object Uint8ClampedArray]\"] = o[\"[object Uint16Array]\"] = o[\"[object Uint32Array]\"] = !0, o[\"[object Arguments]\"] = o[\"[object Array]\"] = o[\"[object ArrayBuffer]\"] = o[\"[object Boolean]\"] = o[\"[object DataView]\"] = o[\"[object Date]\"] = o[\"[object Error]\"] = o[\"[object Function]\"] = o[\"[object Map]\"] = o[\"[object Number]\"] = o[\"[object Object]\"] = o[\"[object RegExp]\"] = o[\"[object Set]\"] = o[\"[object String]\"] = o[\"[object WeakMap]\"] = !1;\n          var l = n(5771),\n            a = n(8795),\n            c = a.A && a.A.isTypedArray,\n            u = c ? (0, l.A)(c) : function (t) {\n              return (0, s.A)(t) && (0, i.A)(t.length) && !!o[(0, r.A)(t)];\n            };\n        },\n        3169: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return a;\n            }\n          });\n          var r = n(6753),\n            i = n(501),\n            s = (0, n(2217).A)(Object.keys, Object),\n            o = Object.prototype.hasOwnProperty,\n            l = n(3628),\n            a = function (t) {\n              return (0, l.A)(t) ? (0, r.A)(t) : function (t) {\n                if (!(0, i.A)(t)) return s(t);\n                var e = [];\n                for (var n in Object(t)) o.call(t, n) && \"constructor\" != n && e.push(n);\n                return e;\n              }(t);\n            };\n        },\n        2624: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return c;\n            }\n          });\n          var r = n(6753),\n            i = n(659),\n            s = n(501),\n            o = Object.prototype.hasOwnProperty,\n            l = function (t) {\n              if (!(0, i.A)(t)) return function (t) {\n                var e = [];\n                if (null != t) for (var n in Object(t)) e.push(n);\n                return e;\n              }(t);\n              var e = (0, s.A)(t),\n                n = [];\n              for (var r in t) (\"constructor\" != r || !e && o.call(t, r)) && n.push(r);\n              return n;\n            },\n            a = n(3628),\n            c = function (t) {\n              return (0, a.A)(t) ? (0, r.A)(t, !0) : l(t);\n            };\n        },\n        8347: function (t, e, n) {\n          \"use strict\";\n\n          n.d(e, {\n            A: function () {\n              return $;\n            }\n          });\n          var r,\n            i,\n            s,\n            o,\n            l = n(2673),\n            a = n(6770),\n            c = n(8138),\n            u = function (t, e, n) {\n              (void 0 !== n && !(0, c.A)(t[e], n) || void 0 === n && !(e in t)) && (0, a.A)(t, e, n);\n            },\n            h = function (t, e, n) {\n              for (var r = -1, i = Object(t), s = n(t), o = s.length; o--;) {\n                var l = s[++r];\n                if (!1 === e(i[l], l, i)) break;\n              }\n              return t;\n            },\n            d = n(3812),\n            f = n(1827),\n            p = n(4405),\n            g = n(1683),\n            m = n(8412),\n            b = n(723),\n            y = n(3628),\n            v = n(7948),\n            A = n(776),\n            x = n(7572),\n            N = n(659),\n            E = n(2159),\n            w = n(8769),\n            q = Function.prototype,\n            k = Object.prototype,\n            _ = q.toString,\n            L = k.hasOwnProperty,\n            S = _.call(Object),\n            O = n(5755),\n            T = function (t, e) {\n              if ((\"constructor\" !== e || \"function\" != typeof t[e]) && \"__proto__\" != e) return t[e];\n            },\n            j = n(9601),\n            C = n(2624),\n            R = function (t, e, n, r, i, s, o) {\n              var l,\n                a = T(t, n),\n                c = T(e, n),\n                h = o.get(c);\n              if (h) u(t, n, h);else {\n                var q = s ? s(a, c, n + \"\", t, e, o) : void 0,\n                  k = void 0 === q;\n                if (k) {\n                  var R = (0, b.A)(c),\n                    I = !R && (0, A.A)(c),\n                    B = !R && !I && (0, O.A)(c);\n                  q = c, R || I || B ? (0, b.A)(a) ? q = a : (l = a, (0, v.A)(l) && (0, y.A)(l) ? q = (0, p.A)(a) : I ? (k = !1, q = (0, d.A)(c, !0)) : B ? (k = !1, q = (0, f.A)(c, !0)) : q = []) : function (t) {\n                    if (!(0, v.A)(t) || \"[object Object]\" != (0, E.A)(t)) return !1;\n                    var e = (0, w.A)(t);\n                    if (null === e) return !0;\n                    var n = L.call(e, \"constructor\") && e.constructor;\n                    return \"function\" == typeof n && n instanceof n && _.call(n) == S;\n                  }(c) || (0, m.A)(c) ? (q = a, (0, m.A)(a) ? q = function (t) {\n                    return (0, j.A)(t, (0, C.A)(t));\n                  }(a) : (0, N.A)(a) && !(0, x.A)(a) || (q = (0, g.A)(c))) : k = !1;\n                }\n                k && (o.set(c, q), i(q, c, r, s, o), o.delete(c)), u(t, n, q);\n              }\n            },\n            I = function t(e, n, r, i, s) {\n              e !== n && h(n, function (o, a) {\n                if (s || (s = new l.A()), (0, N.A)(o)) R(e, n, a, r, t, i, s);else {\n                  var c = i ? i(T(e, a), o, a + \"\", e, n, s) : void 0;\n                  void 0 === c && (c = o), u(e, a, c);\n                }\n              }, C.A);\n            },\n            B = function (t) {\n              return t;\n            },\n            M = Math.max,\n            U = n(7889),\n            D = U.A ? function (t, e) {\n              return (0, U.A)(t, \"toString\", {\n                configurable: !0,\n                enumerable: !1,\n                value: (n = e, function () {\n                  return n;\n                }),\n                writable: !0\n              });\n              var n;\n            } : B,\n            P = Date.now,\n            z = (r = D, i = 0, s = 0, function () {\n              var t = P(),\n                e = 16 - (t - s);\n              if (s = t, e > 0) {\n                if (++i >= 800) return arguments[0];\n              } else i = 0;\n              return r.apply(void 0, arguments);\n            }),\n            F = function (t, e) {\n              return z(function (t, e, n) {\n                return e = M(void 0 === e ? t.length - 1 : e, 0), function () {\n                  for (var r = arguments, i = -1, s = M(r.length - e, 0), o = Array(s); ++i < s;) o[i] = r[e + i];\n                  i = -1;\n                  for (var l = Array(e + 1); ++i < e;) l[i] = r[i];\n                  return l[e] = n(o), function (t, e, n) {\n                    switch (n.length) {\n                      case 0:\n                        return t.call(e);\n                      case 1:\n                        return t.call(e, n[0]);\n                      case 2:\n                        return t.call(e, n[0], n[1]);\n                      case 3:\n                        return t.call(e, n[0], n[1], n[2]);\n                    }\n                    return t.apply(e, n);\n                  }(t, this, l);\n                };\n              }(t, e, B), t + \"\");\n            },\n            H = n(3767),\n            $ = (o = function (t, e, n) {\n              I(t, e, n);\n            }, F(function (t, e) {\n              var n = -1,\n                r = e.length,\n                i = r > 1 ? e[r - 1] : void 0,\n                s = r > 2 ? e[2] : void 0;\n              for (i = o.length > 3 && \"function\" == typeof i ? (r--, i) : void 0, s && function (t, e, n) {\n                if (!(0, N.A)(n)) return !1;\n                var r = typeof e;\n                return !!(\"number\" == r ? (0, y.A)(n) && (0, H.A)(e, n.length) : \"string\" == r && e in n) && (0, c.A)(n[e], t);\n              }(e[0], e[1], s) && (i = r < 3 ? void 0 : i, r = 1), t = Object(t); ++n < r;) {\n                var l = e[n];\n                l && o(t, l, n);\n              }\n              return t;\n            }));\n        },\n        6935: function (t, e) {\n          \"use strict\";\n\n          e.A = function () {\n            return [];\n          };\n        },\n        6003: function (t, e, n) {\n          \"use strict\";\n\n          n.r(e), n.d(e, {\n            Attributor: function () {\n              return i;\n            },\n            AttributorStore: function () {\n              return d;\n            },\n            BlockBlot: function () {\n              return w;\n            },\n            ClassAttributor: function () {\n              return c;\n            },\n            ContainerBlot: function () {\n              return k;\n            },\n            EmbedBlot: function () {\n              return _;\n            },\n            InlineBlot: function () {\n              return N;\n            },\n            LeafBlot: function () {\n              return m;\n            },\n            ParentBlot: function () {\n              return A;\n            },\n            Registry: function () {\n              return l;\n            },\n            Scope: function () {\n              return r;\n            },\n            ScrollBlot: function () {\n              return O;\n            },\n            StyleAttributor: function () {\n              return h;\n            },\n            TextBlot: function () {\n              return j;\n            }\n          });\n          var r = (t => (t[t.TYPE = 3] = \"TYPE\", t[t.LEVEL = 12] = \"LEVEL\", t[t.ATTRIBUTE = 13] = \"ATTRIBUTE\", t[t.BLOT = 14] = \"BLOT\", t[t.INLINE = 7] = \"INLINE\", t[t.BLOCK = 11] = \"BLOCK\", t[t.BLOCK_BLOT = 10] = \"BLOCK_BLOT\", t[t.INLINE_BLOT = 6] = \"INLINE_BLOT\", t[t.BLOCK_ATTRIBUTE = 9] = \"BLOCK_ATTRIBUTE\", t[t.INLINE_ATTRIBUTE = 5] = \"INLINE_ATTRIBUTE\", t[t.ANY = 15] = \"ANY\", t))(r || {});\n          class i {\n            constructor(t, e, n = {}) {\n              this.attrName = t, this.keyName = e;\n              const i = r.TYPE & r.ATTRIBUTE;\n              this.scope = null != n.scope ? n.scope & r.LEVEL | i : r.ATTRIBUTE, null != n.whitelist && (this.whitelist = n.whitelist);\n            }\n            static keys(t) {\n              return Array.from(t.attributes).map(t => t.name);\n            }\n            add(t, e) {\n              return !!this.canAdd(t, e) && (t.setAttribute(this.keyName, e), !0);\n            }\n            canAdd(t, e) {\n              return null == this.whitelist || (\"string\" == typeof e ? this.whitelist.indexOf(e.replace(/[\"']/g, \"\")) > -1 : this.whitelist.indexOf(e) > -1);\n            }\n            remove(t) {\n              t.removeAttribute(this.keyName);\n            }\n            value(t) {\n              const e = t.getAttribute(this.keyName);\n              return this.canAdd(t, e) && e ? e : \"\";\n            }\n          }\n          class s extends Error {\n            constructor(t) {\n              super(t = \"[Parchment] \" + t), this.message = t, this.name = this.constructor.name;\n            }\n          }\n          const o = class t {\n            constructor() {\n              this.attributes = {}, this.classes = {}, this.tags = {}, this.types = {};\n            }\n            static find(t, e = !1) {\n              if (null == t) return null;\n              if (this.blots.has(t)) return this.blots.get(t) || null;\n              if (e) {\n                let n = null;\n                try {\n                  n = t.parentNode;\n                } catch {\n                  return null;\n                }\n                return this.find(n, e);\n              }\n              return null;\n            }\n            create(e, n, r) {\n              const i = this.query(n);\n              if (null == i) throw new s(`Unable to create ${n} blot`);\n              const o = i,\n                l = n instanceof Node || n.nodeType === Node.TEXT_NODE ? n : o.create(r),\n                a = new o(e, l, r);\n              return t.blots.set(a.domNode, a), a;\n            }\n            find(e, n = !1) {\n              return t.find(e, n);\n            }\n            query(t, e = r.ANY) {\n              let n;\n              return \"string\" == typeof t ? n = this.types[t] || this.attributes[t] : t instanceof Text || t.nodeType === Node.TEXT_NODE ? n = this.types.text : \"number\" == typeof t ? t & r.LEVEL & r.BLOCK ? n = this.types.block : t & r.LEVEL & r.INLINE && (n = this.types.inline) : t instanceof Element && ((t.getAttribute(\"class\") || \"\").split(/\\s+/).some(t => (n = this.classes[t], !!n)), n = n || this.tags[t.tagName]), null == n ? null : \"scope\" in n && e & r.LEVEL & n.scope && e & r.TYPE & n.scope ? n : null;\n            }\n            register(...t) {\n              return t.map(t => {\n                const e = \"blotName\" in t,\n                  n = \"attrName\" in t;\n                if (!e && !n) throw new s(\"Invalid definition\");\n                if (e && \"abstract\" === t.blotName) throw new s(\"Cannot register abstract class\");\n                const r = e ? t.blotName : n ? t.attrName : void 0;\n                return this.types[r] = t, n ? \"string\" == typeof t.keyName && (this.attributes[t.keyName] = t) : e && (t.className && (this.classes[t.className] = t), t.tagName && (Array.isArray(t.tagName) ? t.tagName = t.tagName.map(t => t.toUpperCase()) : t.tagName = t.tagName.toUpperCase(), (Array.isArray(t.tagName) ? t.tagName : [t.tagName]).forEach(e => {\n                  (null == this.tags[e] || null == t.className) && (this.tags[e] = t);\n                }))), t;\n              });\n            }\n          };\n          o.blots = new WeakMap();\n          let l = o;\n          function a(t, e) {\n            return (t.getAttribute(\"class\") || \"\").split(/\\s+/).filter(t => 0 === t.indexOf(`${e}-`));\n          }\n          const c = class extends i {\n            static keys(t) {\n              return (t.getAttribute(\"class\") || \"\").split(/\\s+/).map(t => t.split(\"-\").slice(0, -1).join(\"-\"));\n            }\n            add(t, e) {\n              return !!this.canAdd(t, e) && (this.remove(t), t.classList.add(`${this.keyName}-${e}`), !0);\n            }\n            remove(t) {\n              a(t, this.keyName).forEach(e => {\n                t.classList.remove(e);\n              }), 0 === t.classList.length && t.removeAttribute(\"class\");\n            }\n            value(t) {\n              const e = (a(t, this.keyName)[0] || \"\").slice(this.keyName.length + 1);\n              return this.canAdd(t, e) ? e : \"\";\n            }\n          };\n          function u(t) {\n            const e = t.split(\"-\"),\n              n = e.slice(1).map(t => t[0].toUpperCase() + t.slice(1)).join(\"\");\n            return e[0] + n;\n          }\n          const h = class extends i {\n              static keys(t) {\n                return (t.getAttribute(\"style\") || \"\").split(\";\").map(t => t.split(\":\")[0].trim());\n              }\n              add(t, e) {\n                return !!this.canAdd(t, e) && (t.style[u(this.keyName)] = e, !0);\n              }\n              remove(t) {\n                t.style[u(this.keyName)] = \"\", t.getAttribute(\"style\") || t.removeAttribute(\"style\");\n              }\n              value(t) {\n                const e = t.style[u(this.keyName)];\n                return this.canAdd(t, e) ? e : \"\";\n              }\n            },\n            d = class {\n              constructor(t) {\n                this.attributes = {}, this.domNode = t, this.build();\n              }\n              attribute(t, e) {\n                e ? t.add(this.domNode, e) && (null != t.value(this.domNode) ? this.attributes[t.attrName] = t : delete this.attributes[t.attrName]) : (t.remove(this.domNode), delete this.attributes[t.attrName]);\n              }\n              build() {\n                this.attributes = {};\n                const t = l.find(this.domNode);\n                if (null == t) return;\n                const e = i.keys(this.domNode),\n                  n = c.keys(this.domNode),\n                  s = h.keys(this.domNode);\n                e.concat(n).concat(s).forEach(e => {\n                  const n = t.scroll.query(e, r.ATTRIBUTE);\n                  n instanceof i && (this.attributes[n.attrName] = n);\n                });\n              }\n              copy(t) {\n                Object.keys(this.attributes).forEach(e => {\n                  const n = this.attributes[e].value(this.domNode);\n                  t.format(e, n);\n                });\n              }\n              move(t) {\n                this.copy(t), Object.keys(this.attributes).forEach(t => {\n                  this.attributes[t].remove(this.domNode);\n                }), this.attributes = {};\n              }\n              values() {\n                return Object.keys(this.attributes).reduce((t, e) => (t[e] = this.attributes[e].value(this.domNode), t), {});\n              }\n            },\n            f = class {\n              constructor(t, e) {\n                this.scroll = t, this.domNode = e, l.blots.set(e, this), this.prev = null, this.next = null;\n              }\n              static create(t) {\n                if (null == this.tagName) throw new s(\"Blot definition missing tagName\");\n                let e, n;\n                return Array.isArray(this.tagName) ? (\"string\" == typeof t ? (n = t.toUpperCase(), parseInt(n, 10).toString() === n && (n = parseInt(n, 10))) : \"number\" == typeof t && (n = t), e = \"number\" == typeof n ? document.createElement(this.tagName[n - 1]) : n && this.tagName.indexOf(n) > -1 ? document.createElement(n) : document.createElement(this.tagName[0])) : e = document.createElement(this.tagName), this.className && e.classList.add(this.className), e;\n              }\n              get statics() {\n                return this.constructor;\n              }\n              attach() {}\n              clone() {\n                const t = this.domNode.cloneNode(!1);\n                return this.scroll.create(t);\n              }\n              detach() {\n                null != this.parent && this.parent.removeChild(this), l.blots.delete(this.domNode);\n              }\n              deleteAt(t, e) {\n                this.isolate(t, e).remove();\n              }\n              formatAt(t, e, n, i) {\n                const s = this.isolate(t, e);\n                if (null != this.scroll.query(n, r.BLOT) && i) s.wrap(n, i);else if (null != this.scroll.query(n, r.ATTRIBUTE)) {\n                  const t = this.scroll.create(this.statics.scope);\n                  s.wrap(t), t.format(n, i);\n                }\n              }\n              insertAt(t, e, n) {\n                const r = null == n ? this.scroll.create(\"text\", e) : this.scroll.create(e, n),\n                  i = this.split(t);\n                this.parent.insertBefore(r, i || void 0);\n              }\n              isolate(t, e) {\n                const n = this.split(t);\n                if (null == n) throw new Error(\"Attempt to isolate at end\");\n                return n.split(e), n;\n              }\n              length() {\n                return 1;\n              }\n              offset(t = this.parent) {\n                return null == this.parent || this === t ? 0 : this.parent.children.offset(this) + this.parent.offset(t);\n              }\n              optimize(t) {\n                this.statics.requiredContainer && !(this.parent instanceof this.statics.requiredContainer) && this.wrap(this.statics.requiredContainer.blotName);\n              }\n              remove() {\n                null != this.domNode.parentNode && this.domNode.parentNode.removeChild(this.domNode), this.detach();\n              }\n              replaceWith(t, e) {\n                const n = \"string\" == typeof t ? this.scroll.create(t, e) : t;\n                return null != this.parent && (this.parent.insertBefore(n, this.next || void 0), this.remove()), n;\n              }\n              split(t, e) {\n                return 0 === t ? this : this.next;\n              }\n              update(t, e) {}\n              wrap(t, e) {\n                const n = \"string\" == typeof t ? this.scroll.create(t, e) : t;\n                if (null != this.parent && this.parent.insertBefore(n, this.next || void 0), \"function\" != typeof n.appendChild) throw new s(`Cannot wrap ${t}`);\n                return n.appendChild(this), n;\n              }\n            };\n          f.blotName = \"abstract\";\n          let p = f;\n          const g = class extends p {\n            static value(t) {\n              return !0;\n            }\n            index(t, e) {\n              return this.domNode === t || this.domNode.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_CONTAINED_BY ? Math.min(e, 1) : -1;\n            }\n            position(t, e) {\n              let n = Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);\n              return t > 0 && (n += 1), [this.parent.domNode, n];\n            }\n            value() {\n              return {\n                [this.statics.blotName]: this.statics.value(this.domNode) || !0\n              };\n            }\n          };\n          g.scope = r.INLINE_BLOT;\n          const m = g;\n          class b {\n            constructor() {\n              this.head = null, this.tail = null, this.length = 0;\n            }\n            append(...t) {\n              if (this.insertBefore(t[0], null), t.length > 1) {\n                const e = t.slice(1);\n                this.append(...e);\n              }\n            }\n            at(t) {\n              const e = this.iterator();\n              let n = e();\n              for (; n && t > 0;) t -= 1, n = e();\n              return n;\n            }\n            contains(t) {\n              const e = this.iterator();\n              let n = e();\n              for (; n;) {\n                if (n === t) return !0;\n                n = e();\n              }\n              return !1;\n            }\n            indexOf(t) {\n              const e = this.iterator();\n              let n = e(),\n                r = 0;\n              for (; n;) {\n                if (n === t) return r;\n                r += 1, n = e();\n              }\n              return -1;\n            }\n            insertBefore(t, e) {\n              null != t && (this.remove(t), t.next = e, null != e ? (t.prev = e.prev, null != e.prev && (e.prev.next = t), e.prev = t, e === this.head && (this.head = t)) : null != this.tail ? (this.tail.next = t, t.prev = this.tail, this.tail = t) : (t.prev = null, this.head = this.tail = t), this.length += 1);\n            }\n            offset(t) {\n              let e = 0,\n                n = this.head;\n              for (; null != n;) {\n                if (n === t) return e;\n                e += n.length(), n = n.next;\n              }\n              return -1;\n            }\n            remove(t) {\n              this.contains(t) && (null != t.prev && (t.prev.next = t.next), null != t.next && (t.next.prev = t.prev), t === this.head && (this.head = t.next), t === this.tail && (this.tail = t.prev), this.length -= 1);\n            }\n            iterator(t = this.head) {\n              return () => {\n                const e = t;\n                return null != t && (t = t.next), e;\n              };\n            }\n            find(t, e = !1) {\n              const n = this.iterator();\n              let r = n();\n              for (; r;) {\n                const i = r.length();\n                if (t < i || e && t === i && (null == r.next || 0 !== r.next.length())) return [r, t];\n                t -= i, r = n();\n              }\n              return [null, 0];\n            }\n            forEach(t) {\n              const e = this.iterator();\n              let n = e();\n              for (; n;) t(n), n = e();\n            }\n            forEachAt(t, e, n) {\n              if (e <= 0) return;\n              const [r, i] = this.find(t);\n              let s = t - i;\n              const o = this.iterator(r);\n              let l = o();\n              for (; l && s < t + e;) {\n                const r = l.length();\n                t > s ? n(l, t - s, Math.min(e, s + r - t)) : n(l, 0, Math.min(r, t + e - s)), s += r, l = o();\n              }\n            }\n            map(t) {\n              return this.reduce((e, n) => (e.push(t(n)), e), []);\n            }\n            reduce(t, e) {\n              const n = this.iterator();\n              let r = n();\n              for (; r;) e = t(e, r), r = n();\n              return e;\n            }\n          }\n          function y(t, e) {\n            const n = e.find(t);\n            if (n) return n;\n            try {\n              return e.create(t);\n            } catch {\n              const n = e.create(r.INLINE);\n              return Array.from(t.childNodes).forEach(t => {\n                n.domNode.appendChild(t);\n              }), t.parentNode && t.parentNode.replaceChild(n.domNode, t), n.attach(), n;\n            }\n          }\n          const v = class t extends p {\n            constructor(t, e) {\n              super(t, e), this.uiNode = null, this.build();\n            }\n            appendChild(t) {\n              this.insertBefore(t);\n            }\n            attach() {\n              super.attach(), this.children.forEach(t => {\n                t.attach();\n              });\n            }\n            attachUI(e) {\n              null != this.uiNode && this.uiNode.remove(), this.uiNode = e, t.uiClass && this.uiNode.classList.add(t.uiClass), this.uiNode.setAttribute(\"contenteditable\", \"false\"), this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\n            }\n            build() {\n              this.children = new b(), Array.from(this.domNode.childNodes).filter(t => t !== this.uiNode).reverse().forEach(t => {\n                try {\n                  const e = y(t, this.scroll);\n                  this.insertBefore(e, this.children.head || void 0);\n                } catch (t) {\n                  if (t instanceof s) return;\n                  throw t;\n                }\n              });\n            }\n            deleteAt(t, e) {\n              if (0 === t && e === this.length()) return this.remove();\n              this.children.forEachAt(t, e, (t, e, n) => {\n                t.deleteAt(e, n);\n              });\n            }\n            descendant(e, n = 0) {\n              const [r, i] = this.children.find(n);\n              return null == e.blotName && e(r) || null != e.blotName && r instanceof e ? [r, i] : r instanceof t ? r.descendant(e, i) : [null, -1];\n            }\n            descendants(e, n = 0, r = Number.MAX_VALUE) {\n              let i = [],\n                s = r;\n              return this.children.forEachAt(n, r, (n, r, o) => {\n                (null == e.blotName && e(n) || null != e.blotName && n instanceof e) && i.push(n), n instanceof t && (i = i.concat(n.descendants(e, r, s))), s -= o;\n              }), i;\n            }\n            detach() {\n              this.children.forEach(t => {\n                t.detach();\n              }), super.detach();\n            }\n            enforceAllowedChildren() {\n              let e = !1;\n              this.children.forEach(n => {\n                e || this.statics.allowedChildren.some(t => n instanceof t) || (n.statics.scope === r.BLOCK_BLOT ? (null != n.next && this.splitAfter(n), null != n.prev && this.splitAfter(n.prev), n.parent.unwrap(), e = !0) : n instanceof t ? n.unwrap() : n.remove());\n              });\n            }\n            formatAt(t, e, n, r) {\n              this.children.forEachAt(t, e, (t, e, i) => {\n                t.formatAt(e, i, n, r);\n              });\n            }\n            insertAt(t, e, n) {\n              const [r, i] = this.children.find(t);\n              if (r) r.insertAt(i, e, n);else {\n                const t = null == n ? this.scroll.create(\"text\", e) : this.scroll.create(e, n);\n                this.appendChild(t);\n              }\n            }\n            insertBefore(t, e) {\n              null != t.parent && t.parent.children.remove(t);\n              let n = null;\n              this.children.insertBefore(t, e || null), t.parent = this, null != e && (n = e.domNode), (this.domNode.parentNode !== t.domNode || this.domNode.nextSibling !== n) && this.domNode.insertBefore(t.domNode, n), t.attach();\n            }\n            length() {\n              return this.children.reduce((t, e) => t + e.length(), 0);\n            }\n            moveChildren(t, e) {\n              this.children.forEach(n => {\n                t.insertBefore(n, e);\n              });\n            }\n            optimize(t) {\n              if (super.optimize(t), this.enforceAllowedChildren(), null != this.uiNode && this.uiNode !== this.domNode.firstChild && this.domNode.insertBefore(this.uiNode, this.domNode.firstChild), 0 === this.children.length) if (null != this.statics.defaultChild) {\n                const t = this.scroll.create(this.statics.defaultChild.blotName);\n                this.appendChild(t);\n              } else this.remove();\n            }\n            path(e, n = !1) {\n              const [r, i] = this.children.find(e, n),\n                s = [[this, e]];\n              return r instanceof t ? s.concat(r.path(i, n)) : (null != r && s.push([r, i]), s);\n            }\n            removeChild(t) {\n              this.children.remove(t);\n            }\n            replaceWith(e, n) {\n              const r = \"string\" == typeof e ? this.scroll.create(e, n) : e;\n              return r instanceof t && this.moveChildren(r), super.replaceWith(r);\n            }\n            split(t, e = !1) {\n              if (!e) {\n                if (0 === t) return this;\n                if (t === this.length()) return this.next;\n              }\n              const n = this.clone();\n              return this.parent && this.parent.insertBefore(n, this.next || void 0), this.children.forEachAt(t, this.length(), (t, r, i) => {\n                const s = t.split(r, e);\n                null != s && n.appendChild(s);\n              }), n;\n            }\n            splitAfter(t) {\n              const e = this.clone();\n              for (; null != t.next;) e.appendChild(t.next);\n              return this.parent && this.parent.insertBefore(e, this.next || void 0), e;\n            }\n            unwrap() {\n              this.parent && this.moveChildren(this.parent, this.next || void 0), this.remove();\n            }\n            update(t, e) {\n              const n = [],\n                r = [];\n              t.forEach(t => {\n                t.target === this.domNode && \"childList\" === t.type && (n.push(...t.addedNodes), r.push(...t.removedNodes));\n              }), r.forEach(t => {\n                if (null != t.parentNode && \"IFRAME\" !== t.tagName && document.body.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_CONTAINED_BY) return;\n                const e = this.scroll.find(t);\n                null != e && (null == e.domNode.parentNode || e.domNode.parentNode === this.domNode) && e.detach();\n              }), n.filter(t => t.parentNode === this.domNode && t !== this.uiNode).sort((t, e) => t === e ? 0 : t.compareDocumentPosition(e) & Node.DOCUMENT_POSITION_FOLLOWING ? 1 : -1).forEach(t => {\n                let e = null;\n                null != t.nextSibling && (e = this.scroll.find(t.nextSibling));\n                const n = y(t, this.scroll);\n                (n.next !== e || null == n.next) && (null != n.parent && n.parent.removeChild(this), this.insertBefore(n, e || void 0));\n              }), this.enforceAllowedChildren();\n            }\n          };\n          v.uiClass = \"\";\n          const A = v,\n            x = class t extends A {\n              static create(t) {\n                return super.create(t);\n              }\n              static formats(e, n) {\n                const r = n.query(t.blotName);\n                if (null == r || e.tagName !== r.tagName) {\n                  if (\"string\" == typeof this.tagName) return !0;\n                  if (Array.isArray(this.tagName)) return e.tagName.toLowerCase();\n                }\n              }\n              constructor(t, e) {\n                super(t, e), this.attributes = new d(this.domNode);\n              }\n              format(e, n) {\n                if (e !== this.statics.blotName || n) {\n                  const t = this.scroll.query(e, r.INLINE);\n                  if (null == t) return;\n                  t instanceof i ? this.attributes.attribute(t, n) : n && (e !== this.statics.blotName || this.formats()[e] !== n) && this.replaceWith(e, n);\n                } else this.children.forEach(e => {\n                  e instanceof t || (e = e.wrap(t.blotName, !0)), this.attributes.copy(e);\n                }), this.unwrap();\n              }\n              formats() {\n                const t = this.attributes.values(),\n                  e = this.statics.formats(this.domNode, this.scroll);\n                return null != e && (t[this.statics.blotName] = e), t;\n              }\n              formatAt(t, e, n, i) {\n                null != this.formats()[n] || this.scroll.query(n, r.ATTRIBUTE) ? this.isolate(t, e).format(n, i) : super.formatAt(t, e, n, i);\n              }\n              optimize(e) {\n                super.optimize(e);\n                const n = this.formats();\n                if (0 === Object.keys(n).length) return this.unwrap();\n                const r = this.next;\n                r instanceof t && r.prev === this && function (t, e) {\n                  if (Object.keys(t).length !== Object.keys(e).length) return !1;\n                  for (const n in t) if (t[n] !== e[n]) return !1;\n                  return !0;\n                }(n, r.formats()) && (r.moveChildren(this), r.remove());\n              }\n              replaceWith(t, e) {\n                const n = super.replaceWith(t, e);\n                return this.attributes.copy(n), n;\n              }\n              update(t, e) {\n                super.update(t, e), t.some(t => t.target === this.domNode && \"attributes\" === t.type) && this.attributes.build();\n              }\n              wrap(e, n) {\n                const r = super.wrap(e, n);\n                return r instanceof t && this.attributes.move(r), r;\n              }\n            };\n          x.allowedChildren = [x, m], x.blotName = \"inline\", x.scope = r.INLINE_BLOT, x.tagName = \"SPAN\";\n          const N = x,\n            E = class t extends A {\n              static create(t) {\n                return super.create(t);\n              }\n              static formats(e, n) {\n                const r = n.query(t.blotName);\n                if (null == r || e.tagName !== r.tagName) {\n                  if (\"string\" == typeof this.tagName) return !0;\n                  if (Array.isArray(this.tagName)) return e.tagName.toLowerCase();\n                }\n              }\n              constructor(t, e) {\n                super(t, e), this.attributes = new d(this.domNode);\n              }\n              format(e, n) {\n                const s = this.scroll.query(e, r.BLOCK);\n                null != s && (s instanceof i ? this.attributes.attribute(s, n) : e !== this.statics.blotName || n ? n && (e !== this.statics.blotName || this.formats()[e] !== n) && this.replaceWith(e, n) : this.replaceWith(t.blotName));\n              }\n              formats() {\n                const t = this.attributes.values(),\n                  e = this.statics.formats(this.domNode, this.scroll);\n                return null != e && (t[this.statics.blotName] = e), t;\n              }\n              formatAt(t, e, n, i) {\n                null != this.scroll.query(n, r.BLOCK) ? this.format(n, i) : super.formatAt(t, e, n, i);\n              }\n              insertAt(t, e, n) {\n                if (null == n || null != this.scroll.query(e, r.INLINE)) super.insertAt(t, e, n);else {\n                  const r = this.split(t);\n                  if (null == r) throw new Error(\"Attempt to insertAt after block boundaries\");\n                  {\n                    const t = this.scroll.create(e, n);\n                    r.parent.insertBefore(t, r);\n                  }\n                }\n              }\n              replaceWith(t, e) {\n                const n = super.replaceWith(t, e);\n                return this.attributes.copy(n), n;\n              }\n              update(t, e) {\n                super.update(t, e), t.some(t => t.target === this.domNode && \"attributes\" === t.type) && this.attributes.build();\n              }\n            };\n          E.blotName = \"block\", E.scope = r.BLOCK_BLOT, E.tagName = \"P\", E.allowedChildren = [N, E, m];\n          const w = E,\n            q = class extends A {\n              checkMerge() {\n                return null !== this.next && this.next.statics.blotName === this.statics.blotName;\n              }\n              deleteAt(t, e) {\n                super.deleteAt(t, e), this.enforceAllowedChildren();\n              }\n              formatAt(t, e, n, r) {\n                super.formatAt(t, e, n, r), this.enforceAllowedChildren();\n              }\n              insertAt(t, e, n) {\n                super.insertAt(t, e, n), this.enforceAllowedChildren();\n              }\n              optimize(t) {\n                super.optimize(t), this.children.length > 0 && null != this.next && this.checkMerge() && (this.next.moveChildren(this), this.next.remove());\n              }\n            };\n          q.blotName = \"container\", q.scope = r.BLOCK_BLOT;\n          const k = q,\n            _ = class extends m {\n              static formats(t, e) {}\n              format(t, e) {\n                super.formatAt(0, this.length(), t, e);\n              }\n              formatAt(t, e, n, r) {\n                0 === t && e === this.length() ? this.format(n, r) : super.formatAt(t, e, n, r);\n              }\n              formats() {\n                return this.statics.formats(this.domNode, this.scroll);\n              }\n            },\n            L = {\n              attributes: !0,\n              characterData: !0,\n              characterDataOldValue: !0,\n              childList: !0,\n              subtree: !0\n            },\n            S = class extends A {\n              constructor(t, e) {\n                super(null, e), this.registry = t, this.scroll = this, this.build(), this.observer = new MutationObserver(t => {\n                  this.update(t);\n                }), this.observer.observe(this.domNode, L), this.attach();\n              }\n              create(t, e) {\n                return this.registry.create(this, t, e);\n              }\n              find(t, e = !1) {\n                const n = this.registry.find(t, e);\n                return n ? n.scroll === this ? n : e ? this.find(n.scroll.domNode.parentNode, !0) : null : null;\n              }\n              query(t, e = r.ANY) {\n                return this.registry.query(t, e);\n              }\n              register(...t) {\n                return this.registry.register(...t);\n              }\n              build() {\n                null != this.scroll && super.build();\n              }\n              detach() {\n                super.detach(), this.observer.disconnect();\n              }\n              deleteAt(t, e) {\n                this.update(), 0 === t && e === this.length() ? this.children.forEach(t => {\n                  t.remove();\n                }) : super.deleteAt(t, e);\n              }\n              formatAt(t, e, n, r) {\n                this.update(), super.formatAt(t, e, n, r);\n              }\n              insertAt(t, e, n) {\n                this.update(), super.insertAt(t, e, n);\n              }\n              optimize(t = [], e = {}) {\n                super.optimize(e);\n                const n = e.mutationsMap || new WeakMap();\n                let r = Array.from(this.observer.takeRecords());\n                for (; r.length > 0;) t.push(r.pop());\n                const i = (t, e = !0) => {\n                    null == t || t === this || null != t.domNode.parentNode && (n.has(t.domNode) || n.set(t.domNode, []), e && i(t.parent));\n                  },\n                  s = t => {\n                    n.has(t.domNode) && (t instanceof A && t.children.forEach(s), n.delete(t.domNode), t.optimize(e));\n                  };\n                let o = t;\n                for (let e = 0; o.length > 0; e += 1) {\n                  if (e >= 100) throw new Error(\"[Parchment] Maximum optimize iterations reached\");\n                  for (o.forEach(t => {\n                    const e = this.find(t.target, !0);\n                    null != e && (e.domNode === t.target && (\"childList\" === t.type ? (i(this.find(t.previousSibling, !1)), Array.from(t.addedNodes).forEach(t => {\n                      const e = this.find(t, !1);\n                      i(e, !1), e instanceof A && e.children.forEach(t => {\n                        i(t, !1);\n                      });\n                    })) : \"attributes\" === t.type && i(e.prev)), i(e));\n                  }), this.children.forEach(s), o = Array.from(this.observer.takeRecords()), r = o.slice(); r.length > 0;) t.push(r.pop());\n                }\n              }\n              update(t, e = {}) {\n                t = t || this.observer.takeRecords();\n                const n = new WeakMap();\n                t.map(t => {\n                  const e = this.find(t.target, !0);\n                  return null == e ? null : n.has(e.domNode) ? (n.get(e.domNode).push(t), null) : (n.set(e.domNode, [t]), e);\n                }).forEach(t => {\n                  null != t && t !== this && n.has(t.domNode) && t.update(n.get(t.domNode) || [], e);\n                }), e.mutationsMap = n, n.has(this.domNode) && super.update(n.get(this.domNode), e), this.optimize(t, e);\n              }\n            };\n          S.blotName = \"scroll\", S.defaultChild = w, S.allowedChildren = [w, k], S.scope = r.BLOCK_BLOT, S.tagName = \"DIV\";\n          const O = S,\n            T = class t extends m {\n              static create(t) {\n                return document.createTextNode(t);\n              }\n              static value(t) {\n                return t.data;\n              }\n              constructor(t, e) {\n                super(t, e), this.text = this.statics.value(this.domNode);\n              }\n              deleteAt(t, e) {\n                this.domNode.data = this.text = this.text.slice(0, t) + this.text.slice(t + e);\n              }\n              index(t, e) {\n                return this.domNode === t ? e : -1;\n              }\n              insertAt(t, e, n) {\n                null == n ? (this.text = this.text.slice(0, t) + e + this.text.slice(t), this.domNode.data = this.text) : super.insertAt(t, e, n);\n              }\n              length() {\n                return this.text.length;\n              }\n              optimize(e) {\n                super.optimize(e), this.text = this.statics.value(this.domNode), 0 === this.text.length ? this.remove() : this.next instanceof t && this.next.prev === this && (this.insertAt(this.length(), this.next.value()), this.next.remove());\n              }\n              position(t, e = !1) {\n                return [this.domNode, t];\n              }\n              split(t, e = !1) {\n                if (!e) {\n                  if (0 === t) return this;\n                  if (t === this.length()) return this.next;\n                }\n                const n = this.scroll.create(this.domNode.splitText(t));\n                return this.parent.insertBefore(n, this.next || void 0), this.text = this.statics.value(this.domNode), n;\n              }\n              update(t, e) {\n                t.some(t => \"characterData\" === t.type && t.target === this.domNode) && (this.text = this.statics.value(this.domNode));\n              }\n              value() {\n                return this.text;\n              }\n            };\n          T.blotName = \"text\", T.scope = r.INLINE_BLOT;\n          const j = T;\n        }\n      },\n      e = {};\n    function n(r) {\n      var i = e[r];\n      if (void 0 !== i) return i.exports;\n      var s = e[r] = {\n        id: r,\n        loaded: !1,\n        exports: {}\n      };\n      return t[r](s, s.exports, n), s.loaded = !0, s.exports;\n    }\n    n.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return n.d(e, {\n        a: e\n      }), e;\n    }, n.d = function (t, e) {\n      for (var r in e) n.o(e, r) && !n.o(t, r) && Object.defineProperty(t, r, {\n        enumerable: !0,\n        get: e[r]\n      });\n    }, n.g = function () {\n      if (\"object\" == typeof globalThis) return globalThis;\n      try {\n        return this || new Function(\"return this\")();\n      } catch (t) {\n        if (\"object\" == typeof window) return window;\n      }\n    }(), n.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, n.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, n.nmd = function (t) {\n      return t.paths = [], t.children || (t.children = []), t;\n    };\n    var r = {};\n    return function (_Class4, _Class5) {\n      \"use strict\";\n\n      n.d(r, {\n        default: function () {\n          return It;\n        }\n      });\n      var t = n(3729),\n        e = n(8276),\n        i = n(7912),\n        s = n(6003);\n      class o extends s.ClassAttributor {\n        add(t, e) {\n          let n = 0;\n          if (\"+1\" === e || \"-1\" === e) {\n            const r = this.value(t) || 0;\n            n = \"+1\" === e ? r + 1 : r - 1;\n          } else \"number\" == typeof e && (n = e);\n          return 0 === n ? (this.remove(t), !0) : super.add(t, n.toString());\n        }\n        canAdd(t, e) {\n          return super.canAdd(t, e) || super.canAdd(t, parseInt(e, 10));\n        }\n        value(t) {\n          return parseInt(super.value(t), 10) || void 0;\n        }\n      }\n      var l = new o(\"indent\", \"ql-indent\", {\n          scope: s.Scope.BLOCK,\n          whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n        }),\n        a = n(9698);\n      class c extends a.Ay {}\n      _defineProperty(c, \"blotName\", \"blockquote\");\n      _defineProperty(c, \"tagName\", \"blockquote\");\n      var u = c;\n      class h extends a.Ay {\n        static formats(t) {\n          return this.tagName.indexOf(t.tagName) + 1;\n        }\n      }\n      _defineProperty(h, \"blotName\", \"header\");\n      _defineProperty(h, \"tagName\", [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"]);\n      var d = h,\n        f = n(580),\n        p = n(6142);\n      class g extends f.A {}\n      g.blotName = \"list-container\", g.tagName = \"OL\";\n      class m extends a.Ay {\n        static create(t) {\n          const e = super.create();\n          return e.setAttribute(\"data-list\", t), e;\n        }\n        static formats(t) {\n          return t.getAttribute(\"data-list\") || void 0;\n        }\n        static register() {\n          p.Ay.register(g);\n        }\n        constructor(t, e) {\n          super(t, e);\n          const n = e.ownerDocument.createElement(\"span\"),\n            r = n => {\n              if (!t.isEnabled()) return;\n              const r = this.statics.formats(e, t);\n              \"checked\" === r ? (this.format(\"list\", \"unchecked\"), n.preventDefault()) : \"unchecked\" === r && (this.format(\"list\", \"checked\"), n.preventDefault());\n            };\n          n.addEventListener(\"mousedown\", r), n.addEventListener(\"touchstart\", r), this.attachUI(n);\n        }\n        format(t, e) {\n          t === this.statics.blotName && e ? this.domNode.setAttribute(\"data-list\", e) : super.format(t, e);\n        }\n      }\n      m.blotName = \"list\", m.tagName = \"LI\", g.allowedChildren = [m], m.requiredContainer = g;\n      var b = n(9541),\n        y = n(8638),\n        v = n(6772),\n        A = n(664),\n        x = n(4850);\n      class N extends x.A {\n        static create() {\n          return super.create();\n        }\n        static formats() {\n          return !0;\n        }\n        optimize(t) {\n          super.optimize(t), this.domNode.tagName !== this.statics.tagName[0] && this.replaceWith(this.statics.blotName);\n        }\n      }\n      _defineProperty(N, \"blotName\", \"bold\");\n      _defineProperty(N, \"tagName\", [\"STRONG\", \"B\"]);\n      var E = N;\n      class w extends x.A {\n        static create(t) {\n          const e = super.create(t);\n          return e.setAttribute(\"href\", this.sanitize(t)), e.setAttribute(\"rel\", \"noopener noreferrer\"), e.setAttribute(\"target\", \"_blank\"), e;\n        }\n        static formats(t) {\n          return t.getAttribute(\"href\");\n        }\n        static sanitize(t) {\n          return q(t, this.PROTOCOL_WHITELIST) ? t : this.SANITIZED_URL;\n        }\n        format(t, e) {\n          t === this.statics.blotName && e ? this.domNode.setAttribute(\"href\", this.constructor.sanitize(e)) : super.format(t, e);\n        }\n      }\n      _defineProperty(w, \"blotName\", \"link\");\n      _defineProperty(w, \"tagName\", \"A\");\n      _defineProperty(w, \"SANITIZED_URL\", \"about:blank\");\n      _defineProperty(w, \"PROTOCOL_WHITELIST\", [\"http\", \"https\", \"mailto\", \"tel\", \"sms\"]);\n      function q(t, e) {\n        const n = document.createElement(\"a\");\n        n.href = t;\n        const r = n.href.slice(0, n.href.indexOf(\":\"));\n        return e.indexOf(r) > -1;\n      }\n      class k extends x.A {\n        static create(t) {\n          return \"super\" === t ? document.createElement(\"sup\") : \"sub\" === t ? document.createElement(\"sub\") : super.create(t);\n        }\n        static formats(t) {\n          return \"SUB\" === t.tagName ? \"sub\" : \"SUP\" === t.tagName ? \"super\" : void 0;\n        }\n      }\n      _defineProperty(k, \"blotName\", \"script\");\n      _defineProperty(k, \"tagName\", [\"SUB\", \"SUP\"]);\n      var _ = k;\n      class L extends x.A {}\n      _defineProperty(L, \"blotName\", \"underline\");\n      _defineProperty(L, \"tagName\", \"U\");\n      var S = L,\n        O = n(746);\n      class T extends O.A {\n        static create(t) {\n          if (null == window.katex) throw new Error(\"Formula module requires KaTeX.\");\n          const e = super.create(t);\n          return \"string\" == typeof t && (window.katex.render(t, e, {\n            throwOnError: !1,\n            errorColor: \"#f00\"\n          }), e.setAttribute(\"data-value\", t)), e;\n        }\n        static value(t) {\n          return t.getAttribute(\"data-value\");\n        }\n        html() {\n          const {\n            formula: t\n          } = this.value();\n          return `<span>${t}</span>`;\n        }\n      }\n      _defineProperty(T, \"blotName\", \"formula\");\n      _defineProperty(T, \"className\", \"ql-formula\");\n      _defineProperty(T, \"tagName\", \"SPAN\");\n      var j = T;\n      const C = [\"alt\", \"height\", \"width\"];\n      class R extends s.EmbedBlot {\n        static create(t) {\n          const e = super.create(t);\n          return \"string\" == typeof t && e.setAttribute(\"src\", this.sanitize(t)), e;\n        }\n        static formats(t) {\n          return C.reduce((e, n) => (t.hasAttribute(n) && (e[n] = t.getAttribute(n)), e), {});\n        }\n        static match(t) {\n          return /\\.(jpe?g|gif|png)$/.test(t) || /^data:image\\/.+;base64/.test(t);\n        }\n        static sanitize(t) {\n          return q(t, [\"http\", \"https\", \"data\"]) ? t : \"//:0\";\n        }\n        static value(t) {\n          return t.getAttribute(\"src\");\n        }\n        format(t, e) {\n          C.indexOf(t) > -1 ? e ? this.domNode.setAttribute(t, e) : this.domNode.removeAttribute(t) : super.format(t, e);\n        }\n      }\n      _defineProperty(R, \"blotName\", \"image\");\n      _defineProperty(R, \"tagName\", \"IMG\");\n      var I = R;\n      const B = [\"height\", \"width\"];\n      class M extends a.zo {\n        static create(t) {\n          const e = super.create(t);\n          return e.setAttribute(\"frameborder\", \"0\"), e.setAttribute(\"allowfullscreen\", \"true\"), e.setAttribute(\"src\", this.sanitize(t)), e;\n        }\n        static formats(t) {\n          return B.reduce((e, n) => (t.hasAttribute(n) && (e[n] = t.getAttribute(n)), e), {});\n        }\n        static sanitize(t) {\n          return w.sanitize(t);\n        }\n        static value(t) {\n          return t.getAttribute(\"src\");\n        }\n        format(t, e) {\n          B.indexOf(t) > -1 ? e ? this.domNode.setAttribute(t, e) : this.domNode.removeAttribute(t) : super.format(t, e);\n        }\n        html() {\n          const {\n            video: t\n          } = this.value();\n          return `<a href=\"${t}\">${t}</a>`;\n        }\n      }\n      _defineProperty(M, \"blotName\", \"video\");\n      _defineProperty(M, \"className\", \"ql-video\");\n      _defineProperty(M, \"tagName\", \"IFRAME\");\n      var U = M,\n        D = n(9404),\n        P = n(5232),\n        z = n.n(P),\n        F = n(4266),\n        H = n(3036),\n        $ = n(4541),\n        V = n(5508),\n        K = n(584);\n      const W = new s.ClassAttributor(\"code-token\", \"hljs\", {\n        scope: s.Scope.INLINE\n      });\n      class Z extends x.A {\n        static formats(t, e) {\n          for (; null != t && t !== e.domNode;) {\n            if (t.classList && t.classList.contains(D.Ay.className)) return super.formats(t, e);\n            t = t.parentNode;\n          }\n        }\n        constructor(t, e, n) {\n          super(t, e, n), W.add(this.domNode, n);\n        }\n        format(t, e) {\n          t !== Z.blotName ? super.format(t, e) : e ? W.add(this.domNode, e) : (W.remove(this.domNode), this.domNode.classList.remove(this.statics.className));\n        }\n        optimize() {\n          super.optimize(...arguments), W.value(this.domNode) || this.unwrap();\n        }\n      }\n      Z.blotName = \"code-token\", Z.className = \"ql-token\";\n      class G extends D.Ay {\n        static create(t) {\n          const e = super.create(t);\n          return \"string\" == typeof t && e.setAttribute(\"data-language\", t), e;\n        }\n        static formats(t) {\n          return t.getAttribute(\"data-language\") || \"plain\";\n        }\n        static register() {}\n        format(t, e) {\n          t === this.statics.blotName && e ? this.domNode.setAttribute(\"data-language\", e) : super.format(t, e);\n        }\n        replaceWith(t, e) {\n          return this.formatAt(0, this.length(), Z.blotName, !1), super.replaceWith(t, e);\n        }\n      }\n      class X extends D.EJ {\n        attach() {\n          super.attach(), this.forceNext = !1, this.scroll.emitMount(this);\n        }\n        format(t, e) {\n          t === G.blotName && (this.forceNext = !0, this.children.forEach(n => {\n            n.format(t, e);\n          }));\n        }\n        formatAt(t, e, n, r) {\n          n === G.blotName && (this.forceNext = !0), super.formatAt(t, e, n, r);\n        }\n        highlight(t) {\n          let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n          if (null == this.children.head) return;\n          const n = `${Array.from(this.domNode.childNodes).filter(t => t !== this.uiNode).map(t => t.textContent).join(\"\\n\")}\\n`,\n            r = G.formats(this.children.head.domNode);\n          if (e || this.forceNext || this.cachedText !== n) {\n            if (n.trim().length > 0 || null == this.cachedText) {\n              const e = this.children.reduce((t, e) => t.concat((0, a.mG)(e, !1)), new (z())()),\n                i = t(n, r);\n              e.diff(i).reduce((t, e) => {\n                let {\n                  retain: n,\n                  attributes: r\n                } = e;\n                return n ? (r && Object.keys(r).forEach(e => {\n                  [G.blotName, Z.blotName].includes(e) && this.formatAt(t, n, e, r[e]);\n                }), t + n) : t;\n              }, 0);\n            }\n            this.cachedText = n, this.forceNext = !1;\n          }\n        }\n        html(t, e) {\n          const [n] = this.children.find(t);\n          return `<pre data-language=\"${n ? G.formats(n.domNode) : \"plain\"}\">\\n${(0, V.X)(this.code(t, e))}\\n</pre>`;\n        }\n        optimize(t) {\n          if (super.optimize(t), null != this.parent && null != this.children.head && null != this.uiNode) {\n            const t = G.formats(this.children.head.domNode);\n            t !== this.uiNode.value && (this.uiNode.value = t);\n          }\n        }\n      }\n      X.allowedChildren = [G], G.requiredContainer = X, G.allowedChildren = [Z, $.A, V.A, H.A];\n      class Q extends F.A {\n        static register() {\n          p.Ay.register(Z, !0), p.Ay.register(G, !0), p.Ay.register(X, !0);\n        }\n        constructor(t, e) {\n          if (super(t, e), null == this.options.hljs) throw new Error(\"Syntax module requires highlight.js. Please include the library on the page before Quill.\");\n          this.languages = this.options.languages.reduce((t, e) => {\n            let {\n              key: n\n            } = e;\n            return t[n] = !0, t;\n          }, {}), this.highlightBlot = this.highlightBlot.bind(this), this.initListener(), this.initTimer();\n        }\n        initListener() {\n          this.quill.on(p.Ay.events.SCROLL_BLOT_MOUNT, t => {\n            if (!(t instanceof X)) return;\n            const e = this.quill.root.ownerDocument.createElement(\"select\");\n            this.options.languages.forEach(t => {\n              let {\n                key: n,\n                label: r\n              } = t;\n              const i = e.ownerDocument.createElement(\"option\");\n              i.textContent = r, i.setAttribute(\"value\", n), e.appendChild(i);\n            }), e.addEventListener(\"change\", () => {\n              t.format(G.blotName, e.value), this.quill.root.focus(), this.highlight(t, !0);\n            }), null == t.uiNode && (t.attachUI(e), t.children.head && (e.value = G.formats(t.children.head.domNode)));\n          });\n        }\n        initTimer() {\n          let t = null;\n          this.quill.on(p.Ay.events.SCROLL_OPTIMIZE, () => {\n            t && clearTimeout(t), t = setTimeout(() => {\n              this.highlight(), t = null;\n            }, this.options.interval);\n          });\n        }\n        highlight() {\n          let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,\n            e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n          if (this.quill.selection.composing) return;\n          this.quill.update(p.Ay.sources.USER);\n          const n = this.quill.getSelection();\n          (null == t ? this.quill.scroll.descendants(X) : [t]).forEach(t => {\n            t.highlight(this.highlightBlot, e);\n          }), this.quill.update(p.Ay.sources.SILENT), null != n && this.quill.setSelection(n, p.Ay.sources.SILENT);\n        }\n        highlightBlot(t) {\n          let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"plain\";\n          if (e = this.languages[e] ? e : \"plain\", \"plain\" === e) return (0, V.X)(t).split(\"\\n\").reduce((t, n, r) => (0 !== r && t.insert(\"\\n\", {\n            [D.Ay.blotName]: e\n          }), t.insert(n)), new (z())());\n          const n = this.quill.root.ownerDocument.createElement(\"div\");\n          return n.classList.add(D.Ay.className), n.innerHTML = ((t, e, n) => {\n            if (\"string\" == typeof t.versionString) {\n              const r = t.versionString.split(\".\")[0];\n              if (parseInt(r, 10) >= 11) return t.highlight(n, {\n                language: e\n              }).value;\n            }\n            return t.highlight(e, n).value;\n          })(this.options.hljs, e, t), (0, K.hV)(this.quill.scroll, n, [(t, e) => {\n            const n = W.value(t);\n            return n ? e.compose(new (z())().retain(e.length(), {\n              [Z.blotName]: n\n            })) : e;\n          }], [(t, n) => t.data.split(\"\\n\").reduce((t, n, r) => (0 !== r && t.insert(\"\\n\", {\n            [D.Ay.blotName]: e\n          }), t.insert(n)), n)], new WeakMap());\n        }\n      }\n      Q.DEFAULTS = {\n        hljs: window.hljs,\n        interval: 1e3,\n        languages: [{\n          key: \"plain\",\n          label: \"Plain\"\n        }, {\n          key: \"bash\",\n          label: \"Bash\"\n        }, {\n          key: \"cpp\",\n          label: \"C++\"\n        }, {\n          key: \"cs\",\n          label: \"C#\"\n        }, {\n          key: \"css\",\n          label: \"CSS\"\n        }, {\n          key: \"diff\",\n          label: \"Diff\"\n        }, {\n          key: \"xml\",\n          label: \"HTML/XML\"\n        }, {\n          key: \"java\",\n          label: \"Java\"\n        }, {\n          key: \"javascript\",\n          label: \"JavaScript\"\n        }, {\n          key: \"markdown\",\n          label: \"Markdown\"\n        }, {\n          key: \"php\",\n          label: \"PHP\"\n        }, {\n          key: \"python\",\n          label: \"Python\"\n        }, {\n          key: \"ruby\",\n          label: \"Ruby\"\n        }, {\n          key: \"sql\",\n          label: \"SQL\"\n        }]\n      };\n      class J extends a.Ay {\n        static create(t) {\n          const e = super.create();\n          return t ? e.setAttribute(\"data-row\", t) : e.setAttribute(\"data-row\", nt()), e;\n        }\n        static formats(t) {\n          if (t.hasAttribute(\"data-row\")) return t.getAttribute(\"data-row\");\n        }\n        cellOffset() {\n          return this.parent ? this.parent.children.indexOf(this) : -1;\n        }\n        format(t, e) {\n          t === J.blotName && e ? this.domNode.setAttribute(\"data-row\", e) : super.format(t, e);\n        }\n        row() {\n          return this.parent;\n        }\n        rowOffset() {\n          return this.row() ? this.row().rowOffset() : -1;\n        }\n        table() {\n          return this.row() && this.row().table();\n        }\n      }\n      _defineProperty(J, \"blotName\", \"table\");\n      _defineProperty(J, \"tagName\", \"TD\");\n      class Y extends f.A {\n        checkMerge() {\n          if (super.checkMerge() && null != this.next.children.head) {\n            const t = this.children.head.formats(),\n              e = this.children.tail.formats(),\n              n = this.next.children.head.formats(),\n              r = this.next.children.tail.formats();\n            return t.table === e.table && t.table === n.table && t.table === r.table;\n          }\n          return !1;\n        }\n        optimize(t) {\n          super.optimize(t), this.children.forEach(t => {\n            if (null == t.next) return;\n            const e = t.formats(),\n              n = t.next.formats();\n            if (e.table !== n.table) {\n              const e = this.splitAfter(t);\n              e && e.optimize(), this.prev && this.prev.optimize();\n            }\n          });\n        }\n        rowOffset() {\n          return this.parent ? this.parent.children.indexOf(this) : -1;\n        }\n        table() {\n          return this.parent && this.parent.parent;\n        }\n      }\n      _defineProperty(Y, \"blotName\", \"table-row\");\n      _defineProperty(Y, \"tagName\", \"TR\");\n      class tt extends f.A {}\n      _defineProperty(tt, \"blotName\", \"table-body\");\n      _defineProperty(tt, \"tagName\", \"TBODY\");\n      class et extends f.A {\n        balanceCells() {\n          const t = this.descendants(Y),\n            e = t.reduce((t, e) => Math.max(e.children.length, t), 0);\n          t.forEach(t => {\n            new Array(e - t.children.length).fill(0).forEach(() => {\n              let e;\n              null != t.children.head && (e = J.formats(t.children.head.domNode));\n              const n = this.scroll.create(J.blotName, e);\n              t.appendChild(n), n.optimize();\n            });\n          });\n        }\n        cells(t) {\n          return this.rows().map(e => e.children.at(t));\n        }\n        deleteColumn(t) {\n          const [e] = this.descendant(tt);\n          null != e && null != e.children.head && e.children.forEach(e => {\n            const n = e.children.at(t);\n            null != n && n.remove();\n          });\n        }\n        insertColumn(t) {\n          const [e] = this.descendant(tt);\n          null != e && null != e.children.head && e.children.forEach(e => {\n            const n = e.children.at(t),\n              r = J.formats(e.children.head.domNode),\n              i = this.scroll.create(J.blotName, r);\n            e.insertBefore(i, n);\n          });\n        }\n        insertRow(t) {\n          const [e] = this.descendant(tt);\n          if (null == e || null == e.children.head) return;\n          const n = nt(),\n            r = this.scroll.create(Y.blotName);\n          e.children.head.children.forEach(() => {\n            const t = this.scroll.create(J.blotName, n);\n            r.appendChild(t);\n          });\n          const i = e.children.at(t);\n          e.insertBefore(r, i);\n        }\n        rows() {\n          const t = this.children.head;\n          return null == t ? [] : t.children.map(t => t);\n        }\n      }\n      _defineProperty(et, \"blotName\", \"table-container\");\n      _defineProperty(et, \"tagName\", \"TABLE\");\n      function nt() {\n        return `row-${Math.random().toString(36).slice(2, 6)}`;\n      }\n      et.allowedChildren = [tt], tt.requiredContainer = et, tt.allowedChildren = [Y], Y.requiredContainer = tt, Y.allowedChildren = [J], J.requiredContainer = Y;\n      class rt extends F.A {\n        static register() {\n          p.Ay.register(J), p.Ay.register(Y), p.Ay.register(tt), p.Ay.register(et);\n        }\n        constructor() {\n          super(...arguments), this.listenBalanceCells();\n        }\n        balanceTables() {\n          this.quill.scroll.descendants(et).forEach(t => {\n            t.balanceCells();\n          });\n        }\n        deleteColumn() {\n          const [t,, e] = this.getTable();\n          null != e && (t.deleteColumn(e.cellOffset()), this.quill.update(p.Ay.sources.USER));\n        }\n        deleteRow() {\n          const [, t] = this.getTable();\n          null != t && (t.remove(), this.quill.update(p.Ay.sources.USER));\n        }\n        deleteTable() {\n          const [t] = this.getTable();\n          if (null == t) return;\n          const e = t.offset();\n          t.remove(), this.quill.update(p.Ay.sources.USER), this.quill.setSelection(e, p.Ay.sources.SILENT);\n        }\n        getTable() {\n          let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.quill.getSelection();\n          if (null == t) return [null, null, null, -1];\n          const [e, n] = this.quill.getLine(t.index);\n          if (null == e || e.statics.blotName !== J.blotName) return [null, null, null, -1];\n          const r = e.parent;\n          return [r.parent.parent, r, e, n];\n        }\n        insertColumn(t) {\n          const e = this.quill.getSelection();\n          if (!e) return;\n          const [n, r, i] = this.getTable(e);\n          if (null == i) return;\n          const s = i.cellOffset();\n          n.insertColumn(s + t), this.quill.update(p.Ay.sources.USER);\n          let o = r.rowOffset();\n          0 === t && (o += 1), this.quill.setSelection(e.index + o, e.length, p.Ay.sources.SILENT);\n        }\n        insertColumnLeft() {\n          this.insertColumn(0);\n        }\n        insertColumnRight() {\n          this.insertColumn(1);\n        }\n        insertRow(t) {\n          const e = this.quill.getSelection();\n          if (!e) return;\n          const [n, r, i] = this.getTable(e);\n          if (null == i) return;\n          const s = r.rowOffset();\n          n.insertRow(s + t), this.quill.update(p.Ay.sources.USER), t > 0 ? this.quill.setSelection(e, p.Ay.sources.SILENT) : this.quill.setSelection(e.index + r.children.length, e.length, p.Ay.sources.SILENT);\n        }\n        insertRowAbove() {\n          this.insertRow(0);\n        }\n        insertRowBelow() {\n          this.insertRow(1);\n        }\n        insertTable(t, e) {\n          const n = this.quill.getSelection();\n          if (null == n) return;\n          const r = new Array(t).fill(0).reduce(t => {\n            const n = new Array(e).fill(\"\\n\").join(\"\");\n            return t.insert(n, {\n              table: nt()\n            });\n          }, new (z())().retain(n.index));\n          this.quill.updateContents(r, p.Ay.sources.USER), this.quill.setSelection(n.index, p.Ay.sources.SILENT), this.balanceTables();\n        }\n        listenBalanceCells() {\n          this.quill.on(p.Ay.events.SCROLL_OPTIMIZE, t => {\n            t.some(t => !![\"TD\", \"TR\", \"TBODY\", \"TABLE\"].includes(t.target.tagName) && (this.quill.once(p.Ay.events.TEXT_CHANGE, (t, e, n) => {\n              n === p.Ay.sources.USER && this.balanceTables();\n            }), !0));\n          });\n        }\n      }\n      var it = rt;\n      const st = (0, n(6078).A)(\"quill:toolbar\");\n      class ot extends F.A {\n        constructor(t, e) {\n          if (super(t, e), Array.isArray(this.options.container)) {\n            const e = document.createElement(\"div\");\n            e.setAttribute(\"role\", \"toolbar\"), function (t, e) {\n              Array.isArray(e[0]) || (e = [e]), e.forEach(e => {\n                const n = document.createElement(\"span\");\n                n.classList.add(\"ql-formats\"), e.forEach(t => {\n                  if (\"string\" == typeof t) lt(n, t);else {\n                    const e = Object.keys(t)[0],\n                      r = t[e];\n                    Array.isArray(r) ? function (t, e, n) {\n                      const r = document.createElement(\"select\");\n                      r.classList.add(`ql-${e}`), n.forEach(t => {\n                        const e = document.createElement(\"option\");\n                        !1 !== t ? e.setAttribute(\"value\", String(t)) : e.setAttribute(\"selected\", \"selected\"), r.appendChild(e);\n                      }), t.appendChild(r);\n                    }(n, e, r) : lt(n, e, r);\n                  }\n                }), t.appendChild(n);\n              });\n            }(e, this.options.container), t.container?.parentNode?.insertBefore(e, t.container), this.container = e;\n          } else \"string\" == typeof this.options.container ? this.container = document.querySelector(this.options.container) : this.container = this.options.container;\n          this.container instanceof HTMLElement ? (this.container.classList.add(\"ql-toolbar\"), this.controls = [], this.handlers = {}, this.options.handlers && Object.keys(this.options.handlers).forEach(t => {\n            const e = this.options.handlers?.[t];\n            e && this.addHandler(t, e);\n          }), Array.from(this.container.querySelectorAll(\"button, select\")).forEach(t => {\n            this.attach(t);\n          }), this.quill.on(p.Ay.events.EDITOR_CHANGE, () => {\n            const [t] = this.quill.selection.getRange();\n            this.update(t);\n          })) : st.error(\"Container required for toolbar\", this.options);\n        }\n        addHandler(t, e) {\n          this.handlers[t] = e;\n        }\n        attach(t) {\n          let e = Array.from(t.classList).find(t => 0 === t.indexOf(\"ql-\"));\n          if (!e) return;\n          if (e = e.slice(3), \"BUTTON\" === t.tagName && t.setAttribute(\"type\", \"button\"), null == this.handlers[e] && null == this.quill.scroll.query(e)) return void st.warn(\"ignoring attaching to nonexistent format\", e, t);\n          const n = \"SELECT\" === t.tagName ? \"change\" : \"click\";\n          t.addEventListener(n, n => {\n            let r;\n            if (\"SELECT\" === t.tagName) {\n              if (t.selectedIndex < 0) return;\n              const e = t.options[t.selectedIndex];\n              r = !e.hasAttribute(\"selected\") && (e.value || !1);\n            } else r = !t.classList.contains(\"ql-active\") && (t.value || !t.hasAttribute(\"value\")), n.preventDefault();\n            this.quill.focus();\n            const [i] = this.quill.selection.getRange();\n            if (null != this.handlers[e]) this.handlers[e].call(this, r);else if (this.quill.scroll.query(e).prototype instanceof s.EmbedBlot) {\n              if (r = prompt(`Enter ${e}`), !r) return;\n              this.quill.updateContents(new (z())().retain(i.index).delete(i.length).insert({\n                [e]: r\n              }), p.Ay.sources.USER);\n            } else this.quill.format(e, r, p.Ay.sources.USER);\n            this.update(i);\n          }), this.controls.push([e, t]);\n        }\n        update(t) {\n          const e = null == t ? {} : this.quill.getFormat(t);\n          this.controls.forEach(n => {\n            const [r, i] = n;\n            if (\"SELECT\" === i.tagName) {\n              let n = null;\n              if (null == t) n = null;else if (null == e[r]) n = i.querySelector(\"option[selected]\");else if (!Array.isArray(e[r])) {\n                let t = e[r];\n                \"string\" == typeof t && (t = t.replace(/\"/g, '\\\\\"')), n = i.querySelector(`option[value=\"${t}\"]`);\n              }\n              null == n ? (i.value = \"\", i.selectedIndex = -1) : n.selected = !0;\n            } else if (null == t) i.classList.remove(\"ql-active\"), i.setAttribute(\"aria-pressed\", \"false\");else if (i.hasAttribute(\"value\")) {\n              const t = e[r],\n                n = t === i.getAttribute(\"value\") || null != t && t.toString() === i.getAttribute(\"value\") || null == t && !i.getAttribute(\"value\");\n              i.classList.toggle(\"ql-active\", n), i.setAttribute(\"aria-pressed\", n.toString());\n            } else {\n              const t = null != e[r];\n              i.classList.toggle(\"ql-active\", t), i.setAttribute(\"aria-pressed\", t.toString());\n            }\n          });\n        }\n      }\n      function lt(t, e, n) {\n        const r = document.createElement(\"button\");\n        r.setAttribute(\"type\", \"button\"), r.classList.add(`ql-${e}`), r.setAttribute(\"aria-pressed\", \"false\"), null != n ? (r.value = n, r.setAttribute(\"aria-label\", `${e}: ${n}`)) : r.setAttribute(\"aria-label\", e), t.appendChild(r);\n      }\n      ot.DEFAULTS = {}, ot.DEFAULTS = {\n        container: null,\n        handlers: {\n          clean() {\n            const t = this.quill.getSelection();\n            if (null != t) if (0 === t.length) {\n              const t = this.quill.getFormat();\n              Object.keys(t).forEach(t => {\n                null != this.quill.scroll.query(t, s.Scope.INLINE) && this.quill.format(t, !1, p.Ay.sources.USER);\n              });\n            } else this.quill.removeFormat(t.index, t.length, p.Ay.sources.USER);\n          },\n          direction(t) {\n            const {\n              align: e\n            } = this.quill.getFormat();\n            \"rtl\" === t && null == e ? this.quill.format(\"align\", \"right\", p.Ay.sources.USER) : t || \"right\" !== e || this.quill.format(\"align\", !1, p.Ay.sources.USER), this.quill.format(\"direction\", t, p.Ay.sources.USER);\n          },\n          indent(t) {\n            const e = this.quill.getSelection(),\n              n = this.quill.getFormat(e),\n              r = parseInt(n.indent || 0, 10);\n            if (\"+1\" === t || \"-1\" === t) {\n              let e = \"+1\" === t ? 1 : -1;\n              \"rtl\" === n.direction && (e *= -1), this.quill.format(\"indent\", r + e, p.Ay.sources.USER);\n            }\n          },\n          link(t) {\n            !0 === t && (t = prompt(\"Enter link URL:\")), this.quill.format(\"link\", t, p.Ay.sources.USER);\n          },\n          list(t) {\n            const e = this.quill.getSelection(),\n              n = this.quill.getFormat(e);\n            \"check\" === t ? \"checked\" === n.list || \"unchecked\" === n.list ? this.quill.format(\"list\", !1, p.Ay.sources.USER) : this.quill.format(\"list\", \"unchecked\", p.Ay.sources.USER) : this.quill.format(\"list\", t, p.Ay.sources.USER);\n          }\n        }\n      };\n      const at = '<svg viewbox=\"0 0 18 18\"><polyline class=\"ql-even ql-stroke\" points=\"5 7 3 9 5 11\"/><polyline class=\"ql-even ql-stroke\" points=\"13 7 15 9 13 11\"/><line class=\"ql-stroke\" x1=\"10\" x2=\"8\" y1=\"5\" y2=\"13\"/></svg>';\n      var ct = {\n        align: {\n          \"\": '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"13\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"9\" y1=\"4\" y2=\"4\"/></svg>',\n          center: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"14\" x2=\"4\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"12\" x2=\"6\" y1=\"4\" y2=\"4\"/></svg>',\n          right: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"5\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"9\" y1=\"4\" y2=\"4\"/></svg>',\n          justify: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"4\" y2=\"4\"/></svg>'\n        },\n        background: '<svg viewbox=\"0 0 18 18\"><g class=\"ql-fill ql-color-label\"><polygon points=\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\"/><rect height=\"1\" width=\"1\" x=\"4\" y=\"4\"/><polygon points=\"6.817 5 6 5 6 6 6.38 6 6.817 5\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"6\"/><rect height=\"1\" width=\"1\" x=\"3\" y=\"5\"/><rect height=\"1\" width=\"1\" x=\"4\" y=\"7\"/><polygon points=\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"12\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"9\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"15\"/><polygon points=\"4.63 10 4 10 4 11 4.192 11 4.63 10\"/><rect height=\"1\" width=\"1\" x=\"3\" y=\"8\"/><path d=\"M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z\"/><path d=\"M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z\"/><path d=\"M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z\"/><rect height=\"1\" width=\"1\" x=\"12\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"11\" y=\"3\"/><path d=\"M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"3\"/><rect height=\"1\" width=\"1\" x=\"6\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"3\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"5\" y=\"3\"/><rect height=\"1\" width=\"1\" x=\"9\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"14\"/><polygon points=\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\"/><rect height=\"1\" width=\"1\" x=\"13\" y=\"7\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"5\"/><rect height=\"1\" width=\"1\" x=\"14\" y=\"6\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"8\"/><rect height=\"1\" width=\"1\" x=\"14\" y=\"9\"/><path d=\"M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z\"/><rect height=\"1\" width=\"1\" x=\"14\" y=\"3\"/><polygon points=\"12 6.868 12 6 11.62 6 12 6.868\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"12\" y=\"5\"/><rect height=\"1\" width=\"1\" x=\"13\" y=\"4\"/><polygon points=\"12.933 9 13 9 13 8 12.495 8 12.933 9\"/><rect height=\"1\" width=\"1\" x=\"9\" y=\"14\"/><rect height=\"1\" width=\"1\" x=\"8\" y=\"15\"/><path d=\"M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z\"/><rect height=\"1\" width=\"1\" x=\"5\" y=\"15\"/><path d=\"M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z\"/><rect height=\"1\" width=\"1\" x=\"11\" y=\"15\"/><path d=\"M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z\"/><rect height=\"1\" width=\"1\" x=\"14\" y=\"15\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"11\"/></g><polyline class=\"ql-stroke\" points=\"5.5 13 9 5 12.5 13\"/><line class=\"ql-stroke\" x1=\"11.63\" x2=\"6.38\" y1=\"11\" y2=\"11\"/></svg>',\n        blockquote: '<svg viewbox=\"0 0 18 18\"><rect class=\"ql-fill ql-stroke\" height=\"3\" width=\"3\" x=\"4\" y=\"5\"/><rect class=\"ql-fill ql-stroke\" height=\"3\" width=\"3\" x=\"11\" y=\"5\"/><path class=\"ql-even ql-fill ql-stroke\" d=\"M7,8c0,4.031-3,5-3,5\"/><path class=\"ql-even ql-fill ql-stroke\" d=\"M14,8c0,4.031-3,5-3,5\"/></svg>',\n        bold: '<svg viewbox=\"0 0 18 18\"><path class=\"ql-stroke\" d=\"M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z\"/><path class=\"ql-stroke\" d=\"M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z\"/></svg>',\n        clean: '<svg class=\"\" viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"5\" x2=\"13\" y1=\"3\" y2=\"3\"/><line class=\"ql-stroke\" x1=\"6\" x2=\"9.35\" y1=\"12\" y2=\"3\"/><line class=\"ql-stroke\" x1=\"11\" x2=\"15\" y1=\"11\" y2=\"15\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"11\" y1=\"11\" y2=\"15\"/><rect class=\"ql-fill\" height=\"1\" rx=\"0.5\" ry=\"0.5\" width=\"7\" x=\"2\" y=\"14\"/></svg>',\n        code: at,\n        \"code-block\": at,\n        color: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-color-label ql-stroke ql-transparent\" x1=\"3\" x2=\"15\" y1=\"15\" y2=\"15\"/><polyline class=\"ql-stroke\" points=\"5.5 11 9 3 12.5 11\"/><line class=\"ql-stroke\" x1=\"11.63\" x2=\"6.38\" y1=\"9\" y2=\"9\"/></svg>',\n        direction: {\n          \"\": '<svg viewbox=\"0 0 18 18\"><polygon class=\"ql-stroke ql-fill\" points=\"3 11 5 9 3 7 3 11\"/><line class=\"ql-stroke ql-fill\" x1=\"15\" x2=\"11\" y1=\"4\" y2=\"4\"/><path class=\"ql-fill\" d=\"M11,3a3,3,0,0,0,0,6h1V3H11Z\"/><rect class=\"ql-fill\" height=\"11\" width=\"1\" x=\"11\" y=\"4\"/><rect class=\"ql-fill\" height=\"11\" width=\"1\" x=\"13\" y=\"4\"/></svg>',\n          rtl: '<svg viewbox=\"0 0 18 18\"><polygon class=\"ql-stroke ql-fill\" points=\"15 12 13 10 15 8 15 12\"/><line class=\"ql-stroke ql-fill\" x1=\"9\" x2=\"5\" y1=\"4\" y2=\"4\"/><path class=\"ql-fill\" d=\"M5,3A3,3,0,0,0,5,9H6V3H5Z\"/><rect class=\"ql-fill\" height=\"11\" width=\"1\" x=\"5\" y=\"4\"/><rect class=\"ql-fill\" height=\"11\" width=\"1\" x=\"7\" y=\"4\"/></svg>'\n        },\n        formula: '<svg viewbox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z\"/><rect class=\"ql-fill\" height=\"1.6\" rx=\"0.8\" ry=\"0.8\" width=\"5\" x=\"5.15\" y=\"6.2\"/><path class=\"ql-fill\" d=\"M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z\"/></svg>',\n        header: {\n          1: '<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z\"/></svg>',\n          2: '<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z\"/></svg>',\n          3: '<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z\"/></svg>',\n          4: '<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z\"/></svg>',\n          5: '<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z\"/></svg>',\n          6: '<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z\"/></svg>'\n        },\n        italic: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"7\" x2=\"13\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"5\" x2=\"11\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"8\" x2=\"10\" y1=\"14\" y2=\"4\"/></svg>',\n        image: '<svg viewbox=\"0 0 18 18\"><rect class=\"ql-stroke\" height=\"10\" width=\"12\" x=\"3\" y=\"4\"/><circle class=\"ql-fill\" cx=\"6\" cy=\"7\" r=\"1\"/><polyline class=\"ql-even ql-fill\" points=\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\"/></svg>',\n        indent: {\n          \"+1\": '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"9\" y2=\"9\"/><polyline class=\"ql-fill ql-stroke\" points=\"3 7 3 11 5 9 3 7\"/></svg>',\n          \"-1\": '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"9\" y2=\"9\"/><polyline class=\"ql-stroke\" points=\"5 7 5 11 3 9 5 7\"/></svg>'\n        },\n        link: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"7\" x2=\"11\" y1=\"7\" y2=\"11\"/><path class=\"ql-even ql-stroke\" d=\"M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z\"/><path class=\"ql-even ql-stroke\" d=\"M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z\"/></svg>',\n        list: {\n          bullet: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"6\" x2=\"15\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"6\" x2=\"15\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"6\" x2=\"15\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"3\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"3\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"3\" y1=\"14\" y2=\"14\"/></svg>',\n          check: '<svg class=\"\" viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"4\" y2=\"4\"/><polyline class=\"ql-stroke\" points=\"3 4 4 5 6 3\"/><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"14\" y2=\"14\"/><polyline class=\"ql-stroke\" points=\"3 14 4 15 6 13\"/><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"9\" y2=\"9\"/><polyline class=\"ql-stroke\" points=\"3 9 4 10 6 8\"/></svg>',\n          ordered: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"7\" x2=\"15\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"7\" x2=\"15\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"7\" x2=\"15\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke ql-thin\" x1=\"2.5\" x2=\"4.5\" y1=\"5.5\" y2=\"5.5\"/><path class=\"ql-fill\" d=\"M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z\"/><path class=\"ql-stroke ql-thin\" d=\"M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156\"/><path class=\"ql-stroke ql-thin\" d=\"M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109\"/></svg>'\n        },\n        script: {\n          sub: '<svg viewbox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z\"/><path class=\"ql-fill\" d=\"M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z\"/></svg>',\n          super: '<svg viewbox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z\"/><path class=\"ql-fill\" d=\"M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z\"/></svg>'\n        },\n        strike: '<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke ql-thin\" x1=\"15.5\" x2=\"2.5\" y1=\"8.5\" y2=\"9.5\"/><path class=\"ql-fill\" d=\"M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z\"/><path class=\"ql-fill\" d=\"M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z\"/></svg>',\n        table: '<svg viewbox=\"0 0 18 18\"><rect class=\"ql-stroke\" height=\"12\" width=\"12\" x=\"3\" y=\"3\"/><rect class=\"ql-fill\" height=\"2\" width=\"3\" x=\"5\" y=\"5\"/><rect class=\"ql-fill\" height=\"2\" width=\"4\" x=\"9\" y=\"5\"/><g class=\"ql-fill ql-transparent\"><rect height=\"2\" width=\"3\" x=\"5\" y=\"8\"/><rect height=\"2\" width=\"4\" x=\"9\" y=\"8\"/><rect height=\"2\" width=\"3\" x=\"5\" y=\"11\"/><rect height=\"2\" width=\"4\" x=\"9\" y=\"11\"/></g></svg>',\n        underline: '<svg viewbox=\"0 0 18 18\"><path class=\"ql-stroke\" d=\"M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3\"/><rect class=\"ql-fill\" height=\"1\" rx=\"0.5\" ry=\"0.5\" width=\"12\" x=\"3\" y=\"15\"/></svg>',\n        video: '<svg viewbox=\"0 0 18 18\"><rect class=\"ql-stroke\" height=\"12\" width=\"12\" x=\"3\" y=\"3\"/><rect class=\"ql-fill\" height=\"12\" width=\"1\" x=\"5\" y=\"3\"/><rect class=\"ql-fill\" height=\"12\" width=\"1\" x=\"12\" y=\"3\"/><rect class=\"ql-fill\" height=\"2\" width=\"8\" x=\"5\" y=\"8\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"3\" y=\"5\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"3\" y=\"7\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"3\" y=\"10\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"3\" y=\"12\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"12\" y=\"5\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"12\" y=\"7\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"12\" y=\"10\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"12\" y=\"12\"/></svg>'\n      };\n      let ut = 0;\n      function ht(t, e) {\n        t.setAttribute(e, `${!(\"true\" === t.getAttribute(e))}`);\n      }\n      var dt = class {\n          constructor(t) {\n            this.select = t, this.container = document.createElement(\"span\"), this.buildPicker(), this.select.style.display = \"none\", this.select.parentNode.insertBefore(this.container, this.select), this.label.addEventListener(\"mousedown\", () => {\n              this.togglePicker();\n            }), this.label.addEventListener(\"keydown\", t => {\n              switch (t.key) {\n                case \"Enter\":\n                  this.togglePicker();\n                  break;\n                case \"Escape\":\n                  this.escape(), t.preventDefault();\n              }\n            }), this.select.addEventListener(\"change\", this.update.bind(this));\n          }\n          togglePicker() {\n            this.container.classList.toggle(\"ql-expanded\"), ht(this.label, \"aria-expanded\"), ht(this.options, \"aria-hidden\");\n          }\n          buildItem(t) {\n            const e = document.createElement(\"span\");\n            e.tabIndex = \"0\", e.setAttribute(\"role\", \"button\"), e.classList.add(\"ql-picker-item\");\n            const n = t.getAttribute(\"value\");\n            return n && e.setAttribute(\"data-value\", n), t.textContent && e.setAttribute(\"data-label\", t.textContent), e.addEventListener(\"click\", () => {\n              this.selectItem(e, !0);\n            }), e.addEventListener(\"keydown\", t => {\n              switch (t.key) {\n                case \"Enter\":\n                  this.selectItem(e, !0), t.preventDefault();\n                  break;\n                case \"Escape\":\n                  this.escape(), t.preventDefault();\n              }\n            }), e;\n          }\n          buildLabel() {\n            const t = document.createElement(\"span\");\n            return t.classList.add(\"ql-picker-label\"), t.innerHTML = '<svg viewbox=\"0 0 18 18\"><polygon class=\"ql-stroke\" points=\"7 11 9 13 11 11 7 11\"/><polygon class=\"ql-stroke\" points=\"7 7 9 5 11 7 7 7\"/></svg>', t.tabIndex = \"0\", t.setAttribute(\"role\", \"button\"), t.setAttribute(\"aria-expanded\", \"false\"), this.container.appendChild(t), t;\n          }\n          buildOptions() {\n            const t = document.createElement(\"span\");\n            t.classList.add(\"ql-picker-options\"), t.setAttribute(\"aria-hidden\", \"true\"), t.tabIndex = \"-1\", t.id = `ql-picker-options-${ut}`, ut += 1, this.label.setAttribute(\"aria-controls\", t.id), this.options = t, Array.from(this.select.options).forEach(e => {\n              const n = this.buildItem(e);\n              t.appendChild(n), !0 === e.selected && this.selectItem(n);\n            }), this.container.appendChild(t);\n          }\n          buildPicker() {\n            Array.from(this.select.attributes).forEach(t => {\n              this.container.setAttribute(t.name, t.value);\n            }), this.container.classList.add(\"ql-picker\"), this.label = this.buildLabel(), this.buildOptions();\n          }\n          escape() {\n            this.close(), setTimeout(() => this.label.focus(), 1);\n          }\n          close() {\n            this.container.classList.remove(\"ql-expanded\"), this.label.setAttribute(\"aria-expanded\", \"false\"), this.options.setAttribute(\"aria-hidden\", \"true\");\n          }\n          selectItem(t) {\n            let e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n            const n = this.container.querySelector(\".ql-selected\");\n            t !== n && (null != n && n.classList.remove(\"ql-selected\"), null != t && (t.classList.add(\"ql-selected\"), this.select.selectedIndex = Array.from(t.parentNode.children).indexOf(t), t.hasAttribute(\"data-value\") ? this.label.setAttribute(\"data-value\", t.getAttribute(\"data-value\")) : this.label.removeAttribute(\"data-value\"), t.hasAttribute(\"data-label\") ? this.label.setAttribute(\"data-label\", t.getAttribute(\"data-label\")) : this.label.removeAttribute(\"data-label\"), e && (this.select.dispatchEvent(new Event(\"change\")), this.close())));\n          }\n          update() {\n            let t;\n            if (this.select.selectedIndex > -1) {\n              const e = this.container.querySelector(\".ql-picker-options\").children[this.select.selectedIndex];\n              t = this.select.options[this.select.selectedIndex], this.selectItem(e);\n            } else this.selectItem(null);\n            const e = null != t && t !== this.select.querySelector(\"option[selected]\");\n            this.label.classList.toggle(\"ql-active\", e);\n          }\n        },\n        ft = class extends dt {\n          constructor(t, e) {\n            super(t), this.label.innerHTML = e, this.container.classList.add(\"ql-color-picker\"), Array.from(this.container.querySelectorAll(\".ql-picker-item\")).slice(0, 7).forEach(t => {\n              t.classList.add(\"ql-primary\");\n            });\n          }\n          buildItem(t) {\n            const e = super.buildItem(t);\n            return e.style.backgroundColor = t.getAttribute(\"value\") || \"\", e;\n          }\n          selectItem(t, e) {\n            super.selectItem(t, e);\n            const n = this.label.querySelector(\".ql-color-label\"),\n              r = t && t.getAttribute(\"data-value\") || \"\";\n            n && (\"line\" === n.tagName ? n.style.stroke = r : n.style.fill = r);\n          }\n        },\n        pt = class extends dt {\n          constructor(t, e) {\n            super(t), this.container.classList.add(\"ql-icon-picker\"), Array.from(this.container.querySelectorAll(\".ql-picker-item\")).forEach(t => {\n              t.innerHTML = e[t.getAttribute(\"data-value\") || \"\"];\n            }), this.defaultItem = this.container.querySelector(\".ql-selected\"), this.selectItem(this.defaultItem);\n          }\n          selectItem(t, e) {\n            super.selectItem(t, e);\n            const n = t || this.defaultItem;\n            if (null != n) {\n              if (this.label.innerHTML === n.innerHTML) return;\n              this.label.innerHTML = n.innerHTML;\n            }\n          }\n        },\n        gt = class {\n          constructor(t, e) {\n            this.quill = t, this.boundsContainer = e || document.body, this.root = t.addContainer(\"ql-tooltip\"), this.root.innerHTML = this.constructor.TEMPLATE, (t => {\n              const {\n                overflowY: e\n              } = getComputedStyle(t, null);\n              return \"visible\" !== e && \"clip\" !== e;\n            })(this.quill.root) && this.quill.root.addEventListener(\"scroll\", () => {\n              this.root.style.marginTop = -1 * this.quill.root.scrollTop + \"px\";\n            }), this.hide();\n          }\n          hide() {\n            this.root.classList.add(\"ql-hidden\");\n          }\n          position(t) {\n            const e = t.left + t.width / 2 - this.root.offsetWidth / 2,\n              n = t.bottom + this.quill.root.scrollTop;\n            this.root.style.left = `${e}px`, this.root.style.top = `${n}px`, this.root.classList.remove(\"ql-flip\");\n            const r = this.boundsContainer.getBoundingClientRect(),\n              i = this.root.getBoundingClientRect();\n            let s = 0;\n            if (i.right > r.right && (s = r.right - i.right, this.root.style.left = `${e + s}px`), i.left < r.left && (s = r.left - i.left, this.root.style.left = `${e + s}px`), i.bottom > r.bottom) {\n              const e = i.bottom - i.top,\n                r = t.bottom - t.top + e;\n              this.root.style.top = n - r + \"px\", this.root.classList.add(\"ql-flip\");\n            }\n            return s;\n          }\n          show() {\n            this.root.classList.remove(\"ql-editing\"), this.root.classList.remove(\"ql-hidden\");\n          }\n        },\n        mt = n(8347),\n        bt = n(5374),\n        yt = n(9609);\n      const vt = [!1, \"center\", \"right\", \"justify\"],\n        At = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"],\n        xt = [!1, \"serif\", \"monospace\"],\n        Nt = [\"1\", \"2\", \"3\", !1],\n        Et = [\"small\", !1, \"large\", \"huge\"];\n      class wt extends yt.A {\n        constructor(t, e) {\n          super(t, e);\n          const n = e => {\n            document.body.contains(t.root) ? (null == this.tooltip || this.tooltip.root.contains(e.target) || document.activeElement === this.tooltip.textbox || this.quill.hasFocus() || this.tooltip.hide(), null != this.pickers && this.pickers.forEach(t => {\n              t.container.contains(e.target) || t.close();\n            })) : document.body.removeEventListener(\"click\", n);\n          };\n          t.emitter.listenDOM(\"click\", document.body, n);\n        }\n        addModule(t) {\n          const e = super.addModule(t);\n          return \"toolbar\" === t && this.extendToolbar(e), e;\n        }\n        buildButtons(t, e) {\n          Array.from(t).forEach(t => {\n            (t.getAttribute(\"class\") || \"\").split(/\\s+/).forEach(n => {\n              if (n.startsWith(\"ql-\") && (n = n.slice(3), null != e[n])) if (\"direction\" === n) t.innerHTML = e[n][\"\"] + e[n].rtl;else if (\"string\" == typeof e[n]) t.innerHTML = e[n];else {\n                const r = t.value || \"\";\n                null != r && e[n][r] && (t.innerHTML = e[n][r]);\n              }\n            });\n          });\n        }\n        buildPickers(t, e) {\n          this.pickers = Array.from(t).map(t => {\n            if (t.classList.contains(\"ql-align\") && (null == t.querySelector(\"option\") && kt(t, vt), \"object\" == typeof e.align)) return new pt(t, e.align);\n            if (t.classList.contains(\"ql-background\") || t.classList.contains(\"ql-color\")) {\n              const n = t.classList.contains(\"ql-background\") ? \"background\" : \"color\";\n              return null == t.querySelector(\"option\") && kt(t, At, \"background\" === n ? \"#ffffff\" : \"#000000\"), new ft(t, e[n]);\n            }\n            return null == t.querySelector(\"option\") && (t.classList.contains(\"ql-font\") ? kt(t, xt) : t.classList.contains(\"ql-header\") ? kt(t, Nt) : t.classList.contains(\"ql-size\") && kt(t, Et)), new dt(t);\n          }), this.quill.on(bt.A.events.EDITOR_CHANGE, () => {\n            this.pickers.forEach(t => {\n              t.update();\n            });\n          });\n        }\n      }\n      wt.DEFAULTS = (0, mt.A)({}, yt.A.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              formula() {\n                this.quill.theme.tooltip.edit(\"formula\");\n              },\n              image() {\n                let t = this.container.querySelector(\"input.ql-image[type=file]\");\n                null == t && (t = document.createElement(\"input\"), t.setAttribute(\"type\", \"file\"), t.setAttribute(\"accept\", this.quill.uploader.options.mimetypes.join(\", \")), t.classList.add(\"ql-image\"), t.addEventListener(\"change\", () => {\n                  const e = this.quill.getSelection(!0);\n                  this.quill.uploader.upload(e, t.files), t.value = \"\";\n                }), this.container.appendChild(t)), t.click();\n              },\n              video() {\n                this.quill.theme.tooltip.edit(\"video\");\n              }\n            }\n          }\n        }\n      });\n      class qt extends gt {\n        constructor(t, e) {\n          super(t, e), this.textbox = this.root.querySelector('input[type=\"text\"]'), this.listen();\n        }\n        listen() {\n          this.textbox.addEventListener(\"keydown\", t => {\n            \"Enter\" === t.key ? (this.save(), t.preventDefault()) : \"Escape\" === t.key && (this.cancel(), t.preventDefault());\n          });\n        }\n        cancel() {\n          this.hide(), this.restoreFocus();\n        }\n        edit() {\n          let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"link\",\n            e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;\n          if (this.root.classList.remove(\"ql-hidden\"), this.root.classList.add(\"ql-editing\"), null == this.textbox) return;\n          null != e ? this.textbox.value = e : t !== this.root.getAttribute(\"data-mode\") && (this.textbox.value = \"\");\n          const n = this.quill.getBounds(this.quill.selection.savedRange);\n          null != n && this.position(n), this.textbox.select(), this.textbox.setAttribute(\"placeholder\", this.textbox.getAttribute(`data-${t}`) || \"\"), this.root.setAttribute(\"data-mode\", t);\n        }\n        restoreFocus() {\n          this.quill.focus({\n            preventScroll: !0\n          });\n        }\n        save() {\n          let {\n            value: t\n          } = this.textbox;\n          switch (this.root.getAttribute(\"data-mode\")) {\n            case \"link\":\n              {\n                const {\n                  scrollTop: e\n                } = this.quill.root;\n                this.linkRange ? (this.quill.formatText(this.linkRange, \"link\", t, bt.A.sources.USER), delete this.linkRange) : (this.restoreFocus(), this.quill.format(\"link\", t, bt.A.sources.USER)), this.quill.root.scrollTop = e;\n                break;\n              }\n            case \"video\":\n              t = function (t) {\n                let e = t.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || t.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n                return e ? `${e[1] || \"https\"}://www.youtube.com/embed/${e[2]}?showinfo=0` : (e = t.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) ? `${e[1] || \"https\"}://player.vimeo.com/video/${e[2]}/` : t;\n              }(t);\n            case \"formula\":\n              {\n                if (!t) break;\n                const e = this.quill.getSelection(!0);\n                if (null != e) {\n                  const n = e.index + e.length;\n                  this.quill.insertEmbed(n, this.root.getAttribute(\"data-mode\"), t, bt.A.sources.USER), \"formula\" === this.root.getAttribute(\"data-mode\") && this.quill.insertText(n + 1, \" \", bt.A.sources.USER), this.quill.setSelection(n + 2, bt.A.sources.USER);\n                }\n                break;\n              }\n          }\n          this.textbox.value = \"\", this.hide();\n        }\n      }\n      function kt(t, e) {\n        let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];\n        e.forEach(e => {\n          const r = document.createElement(\"option\");\n          e === n ? r.setAttribute(\"selected\", \"selected\") : r.setAttribute(\"value\", String(e)), t.appendChild(r);\n        });\n      }\n      var _t = n(8298);\n      const Lt = [[\"bold\", \"italic\", \"link\"], [{\n        header: 1\n      }, {\n        header: 2\n      }, \"blockquote\"]];\n      class St extends qt {\n        constructor(t, e) {\n          super(t, e), this.quill.on(bt.A.events.EDITOR_CHANGE, (t, e, n, r) => {\n            if (t === bt.A.events.SELECTION_CHANGE) if (null != e && e.length > 0 && r === bt.A.sources.USER) {\n              this.show(), this.root.style.left = \"0px\", this.root.style.width = \"\", this.root.style.width = `${this.root.offsetWidth}px`;\n              const t = this.quill.getLines(e.index, e.length);\n              if (1 === t.length) {\n                const t = this.quill.getBounds(e);\n                null != t && this.position(t);\n              } else {\n                const n = t[t.length - 1],\n                  r = this.quill.getIndex(n),\n                  i = Math.min(n.length() - 1, e.index + e.length - r),\n                  s = this.quill.getBounds(new _t.Q(r, i));\n                null != s && this.position(s);\n              }\n            } else document.activeElement !== this.textbox && this.quill.hasFocus() && this.hide();\n          });\n        }\n        listen() {\n          super.listen(), this.root.querySelector(\".ql-close\").addEventListener(\"click\", () => {\n            this.root.classList.remove(\"ql-editing\");\n          }), this.quill.on(bt.A.events.SCROLL_OPTIMIZE, () => {\n            setTimeout(() => {\n              if (this.root.classList.contains(\"ql-hidden\")) return;\n              const t = this.quill.getSelection();\n              if (null != t) {\n                const e = this.quill.getBounds(t);\n                null != e && this.position(e);\n              }\n            }, 1);\n          });\n        }\n        cancel() {\n          this.show();\n        }\n        position(t) {\n          const e = super.position(t),\n            n = this.root.querySelector(\".ql-tooltip-arrow\");\n          return n.style.marginLeft = \"\", 0 !== e && (n.style.marginLeft = -1 * e - n.offsetWidth / 2 + \"px\"), e;\n        }\n      }\n      _defineProperty(St, \"TEMPLATE\", ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', \"</div>\"].join(\"\"));\n      class Ot extends wt {\n        constructor(t, e) {\n          null != e.modules.toolbar && null == e.modules.toolbar.container && (e.modules.toolbar.container = Lt), super(t, e), this.quill.container.classList.add(\"ql-bubble\");\n        }\n        extendToolbar(t) {\n          this.tooltip = new St(this.quill, this.options.bounds), null != t.container && (this.tooltip.root.appendChild(t.container), this.buildButtons(t.container.querySelectorAll(\"button\"), ct), this.buildPickers(t.container.querySelectorAll(\"select\"), ct));\n        }\n      }\n      Ot.DEFAULTS = (0, mt.A)({}, wt.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              link(t) {\n                t ? this.quill.theme.tooltip.edit() : this.quill.format(\"link\", !1, p.Ay.sources.USER);\n              }\n            }\n          }\n        }\n      });\n      const Tt = [[{\n        header: [\"1\", \"2\", \"3\", !1]\n      }], [\"bold\", \"italic\", \"underline\", \"link\"], [{\n        list: \"ordered\"\n      }, {\n        list: \"bullet\"\n      }], [\"clean\"]];\n      class jt extends qt {\n        constructor(...args) {\n          super(...args);\n          _defineProperty(this, \"preview\", this.root.querySelector(\"a.ql-preview\"));\n        }\n        listen() {\n          super.listen(), this.root.querySelector(\"a.ql-action\").addEventListener(\"click\", t => {\n            this.root.classList.contains(\"ql-editing\") ? this.save() : this.edit(\"link\", this.preview.textContent), t.preventDefault();\n          }), this.root.querySelector(\"a.ql-remove\").addEventListener(\"click\", t => {\n            if (null != this.linkRange) {\n              const t = this.linkRange;\n              this.restoreFocus(), this.quill.formatText(t, \"link\", !1, bt.A.sources.USER), delete this.linkRange;\n            }\n            t.preventDefault(), this.hide();\n          }), this.quill.on(bt.A.events.SELECTION_CHANGE, (t, e, n) => {\n            if (null != t) {\n              if (0 === t.length && n === bt.A.sources.USER) {\n                const [e, n] = this.quill.scroll.descendant(w, t.index);\n                if (null != e) {\n                  this.linkRange = new _t.Q(t.index - n, e.length());\n                  const r = w.formats(e.domNode);\n                  this.preview.textContent = r, this.preview.setAttribute(\"href\", r), this.show();\n                  const i = this.quill.getBounds(this.linkRange);\n                  return void (null != i && this.position(i));\n                }\n              } else delete this.linkRange;\n              this.hide();\n            }\n          });\n        }\n        show() {\n          super.show(), this.root.removeAttribute(\"data-mode\");\n        }\n      }\n      _defineProperty(jt, \"TEMPLATE\", ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join(\"\"));\n      class Ct extends wt {\n        constructor(t, e) {\n          null != e.modules.toolbar && null == e.modules.toolbar.container && (e.modules.toolbar.container = Tt), super(t, e), this.quill.container.classList.add(\"ql-snow\");\n        }\n        extendToolbar(t) {\n          null != t.container && (t.container.classList.add(\"ql-snow\"), this.buildButtons(t.container.querySelectorAll(\"button\"), ct), this.buildPickers(t.container.querySelectorAll(\"select\"), ct), this.tooltip = new jt(this.quill, this.options.bounds), t.container.querySelector(\".ql-link\") && this.quill.keyboard.addBinding({\n            key: \"k\",\n            shortKey: !0\n          }, (e, n) => {\n            t.handlers.link.call(t, !n.format.link);\n          }));\n        }\n      }\n      Ct.DEFAULTS = (0, mt.A)({}, wt.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              link(t) {\n                if (t) {\n                  const t = this.quill.getSelection();\n                  if (null == t || 0 === t.length) return;\n                  let e = this.quill.getText(t);\n                  /^\\S+@\\S+\\.\\S+$/.test(e) && 0 !== e.indexOf(\"mailto:\") && (e = `mailto:${e}`);\n                  const {\n                    tooltip: n\n                  } = this.quill.theme;\n                  n.edit(\"link\", e);\n                } else this.quill.format(\"link\", !1, p.Ay.sources.USER);\n              }\n            }\n          }\n        }\n      });\n      var Rt = Ct;\n      t.default.register({\n        \"attributors/attribute/direction\": i.Mc,\n        \"attributors/class/align\": e.qh,\n        \"attributors/class/background\": b.l,\n        \"attributors/class/color\": y.g3,\n        \"attributors/class/direction\": i.sY,\n        \"attributors/class/font\": v.q,\n        \"attributors/class/size\": A.U,\n        \"attributors/style/align\": e.Hu,\n        \"attributors/style/background\": b.s,\n        \"attributors/style/color\": y.JM,\n        \"attributors/style/direction\": i.VL,\n        \"attributors/style/font\": v.z,\n        \"attributors/style/size\": A.r\n      }, !0), t.default.register({\n        \"formats/align\": e.qh,\n        \"formats/direction\": i.sY,\n        \"formats/indent\": l,\n        \"formats/background\": b.s,\n        \"formats/color\": y.JM,\n        \"formats/font\": v.q,\n        \"formats/size\": A.U,\n        \"formats/blockquote\": u,\n        \"formats/code-block\": D.Ay,\n        \"formats/header\": d,\n        \"formats/list\": m,\n        \"formats/bold\": E,\n        \"formats/code\": D.Cy,\n        \"formats/italic\": (_Class4 = class formats_italic extends E {}, _defineProperty(_Class4, \"blotName\", \"italic\"), _defineProperty(_Class4, \"tagName\", [\"EM\", \"I\"]), _Class4),\n        \"formats/link\": w,\n        \"formats/script\": _,\n        \"formats/strike\": (_Class5 = class formats_strike extends E {}, _defineProperty(_Class5, \"blotName\", \"strike\"), _defineProperty(_Class5, \"tagName\", [\"S\", \"STRIKE\"]), _Class5),\n        \"formats/underline\": S,\n        \"formats/formula\": j,\n        \"formats/image\": I,\n        \"formats/video\": U,\n        \"modules/syntax\": Q,\n        \"modules/table\": it,\n        \"modules/toolbar\": ot,\n        \"themes/bubble\": Ot,\n        \"themes/snow\": Rt,\n        \"ui/icons\": ct,\n        \"ui/picker\": dt,\n        \"ui/icon-picker\": pt,\n        \"ui/color-picker\": ft,\n        \"ui/tooltip\": gt\n      }, !0);\n      var It = t.default;\n    }(), r.default;\n  }();\n});","map":{"version":3,"names":["t","e","exports","module","define","amd","Quill","self","n","d","Ay","c","Ji","mG","h","zo","u","r","i","s","o","l","a","BlockBlot","constructor","args","_defineProperty","delta","cache","deleteAt","formatAt","scroll","query","Scope","BLOCK","length","format","Math","min","insertAt","split","shift","children","tail","reduce","insertBefore","head","A","remove","moveChildren","optimize","path","removeChild","arguments","clone","parent","next","blotName","tagName","defaultChild","allowedChildren","EmbedBlot","attach","attributes","AttributorStore","domNode","insert","value","formats","values","BLOCK_ATTRIBUTE","attribute","pop","map","create","forEach","descendants","LeafBlot","statics","scope","BLOCK_BLOT","prev","ContainerBlot","selection","textNode","document","createTextNode","CONTENTS","appendChild","savedLength","detach","offset","index","position","data","restore","composing","getNativeRange","lastChild","parentNode","text","join","start","node","end","startNode","startOffset","endNode","endOffset","update","some","type","target","range","isolate","unwrap","contentNode","createElement","setAttribute","Array","from","childNodes","leftGuard","rightGuard","_o","InlineBlot","compare","order","indexOf","BLOT","wrap","X","TextBlot","replace","default","R","f","p","g","updateContent","m","ScrollBlot","emitter","batch","enable","addEventListener","handleDragStart","batchStart","isArray","batchEnd","emitMount","emit","events","SCROLL_BLOT_MOUNT","emitUnmount","SCROLL_BLOT_UNMOUNT","emitEmbedUpdate","SCROLL_EMBED_UPDATE","line","endsWith","slice","INLINE_BLOT","insertContents","deltaToRenderBlocks","concat","descendant","key","b","AttributeMap","diff","Object","keys","find","createBlock","isEnabled","getAttribute","leaf","lines","Number","MAX_VALUE","forEachAt","push","SCROLL_OPTIMIZE","sources","USER","observer","takeRecords","filter","SCROLL_BEFORE_UPDATE","SCROLL_UPDATE","updateEmbedAt","preventDefault","INLINE","entries","Op","y","v","x","N","undo","redo","quill","on","EDITOR_CHANGE","SELECTION_CHANGE","SILENT","currentRange","TEXT_CHANGE","ignoreChange","options","userOnly","transform","record","w","keyboard","addBinding","shortKey","bind","shiftKey","test","navigator","platform","root","inputType","change","stack","getContents","invert","lastRecorded","updateContents","restoreSelection","clear","cutoff","ops","Date","now","delay","compose","maxStack","E","setSelection","delete","splice","transformPosition","q","k","caretRangeFromPoint","clientX","clientY","caretPositionFromPoint","createRange","setStart","offsetNode","setEnd","normalizeNative","normalizedToRange","dataTransfer","files","upload","mimetypes","includes","handler","call","DEFAULTS","Promise","FileReader","onload","result","readAsDataURL","all","then","image","retain","_","L","S","handleBeforeInput","userAgent","COMPOSITION_BEFORE_START","handleCompositionStart","deleteRange","Xo","replaceText","getFormat","composition","isComposing","defaultPrevented","getTargetRanges","collapsed","types","getData","getSelection","O","T","j","handleArrowKeys","handleNavigationShortcuts","event","ParentBlot","uiNode","getComputedStyle","direction","ctrlKey","ensureListeningToSelectionChange","selectionChangeDeadline","isListening","handleSelectionChange","once","getRangeAt","startContainer","setStartAfter","setEndAfter","removeAllRanges","addRange","C","register","_Class","querySelectorAll","get","handleDOM","domListeners","error","log","contains","listenDOM","COMPOSITION_START","COMPOSITION_BEFORE_END","COMPOSITION_END","API","WeakMap","console","level","_Class2","I","child","indent","html","list","outerHTML","innerHTML","Element","Q","getDelta","applyDelta","deleteText","formatLine","max","formatText","getHTML","getText","insertEmbed","insertText","isBlank","removeFormat","match","oldValue","oldRange","newRange","setupListeners","queueMicrotask","handleCompositionEnd","Node","getBoundingClientRect","abs","width","offsetWidth","height","offsetHeight","top","right","left","clientWidth","bottom","clientHeight","parseInt","isNaN","Registry","uiClass","debug","import","imports","attrName","warn","startsWith","B","Error","theme","modules","M","toolbar","container","U","registry","requiredContainer","bounds","trim","classList","add","set","addContainer","editor","addModule","clipboard","history","uploader","init","toggle","lastRange","getRange","D","convert","setContents","placeholder","readOnly","disable","allowReadOnlyEdits","blur","setRange","P","editReadOnly","focus","preventScroll","scrollSelectionIntoView","getBounds","getLength","getIndex","getLeaf","getLine","getLines","getModule","getSemanticHTML","hasFocus","off","scrollRectIntoView","ownerDocument","body","window","visualViewport","documentElement","scrollPaddingLeft","scrollPaddingRight","scrollPaddingTop","scrollPaddingBottom","defaultView","scrollBy","scrollLeft","scrollTop","parentElement","getRootNode","host","scrollIntoView","setText","parchment","querySelector","fromEntries","z","mouseDown","cursor","savedRange","lastNative","handleComposition","handleDragging","setTimeout","setNativeRange","native","Text","rangeCount","info","isConnected","activeElement","endContainer","rangeToNative","_n","Hu","gS","qh","whitelist","Attributor","ClassAttributor","StyleAttributor","a2","Cy","EJ","code","innerText","className","JM","g3","toString","Mc","VL","sY","hV","RegExp","id","element","nextElementSibling","replaceChild","createDocumentFragment","append","previousElementSibling","TEXT_NODE","previousSibling","nextSibling","ELEMENT_NODE","prototype","ATTRIBUTE","keyName","style","fontStyle","italic","textDecoration","underline","strike","fontWeight","bold","parseFloat","textIndent","onCaptureCopy","onCapturePaste","matchers","addMatcher","convertHTML","table","normalizeHTML","DOMParser","parseFromString","prepareMatching","dangerouslyPasteHTML","onCopy","clipboardData","setData","normalizeURIList","childElementCount","firstElementChild","onPaste","has","toLowerCase","nodeType","HTMLParagraphElement","firstChild","which","bindings","handleEnter","metaKey","altKey","handleBackspace","handleDelete","prefix","suffix","handleDeleteRange","listen","keyCode","empty","every","outdent","tab","header","getTable","blockquote","TAB","textContent","hasOwnProperty","fn","context","TypeError","_events","_eventsCount","__proto__","eventNames","getOwnPropertySymbols","listeners","listenerCount","removeListener","apply","removeAllListeners","addListener","prefixed","EventEmitter","substring","floor","ceil","charAt","unshift","charCodeAt","INSERT","DELETE","EQUAL","nmd","Function","F","H","$","size","V","K","W","Z","G","J","exec","IE_PROTO","Y","tt","et","nt","rt","Buffer","it","Symbol","st","Uint8Array","ot","getPrototypeOf","lt","at","propertyIsEnumerable","ct","ut","ht","isBuffer","dt","ft","Bt","pt","gt","mt","bt","yt","vt","zt","At","xt","Nt","Et","wt","qt","valueOf","kt","_t","Lt","St","__data__","Ot","Ft","Tt","jt","Wt","Ht","input","Ut","Vt","copy","Pt","Rt","Mt","Zt","Ct","buffer","byteOffset","byteLength","source","lastIndex","It","Kt","hash","string","getTag","Dt","ArrayBuffer","resolve","$t","String","process","binding","isTypedArray","toStringTag","name","message","Gt","defineProperty","OpIterator","fromCharCode","getEmbedTypeAndData","registerEmbed","handlers","unregisterEmbed","getHandler","chop","partition","changeLength","hasNext","peek","peekType","peekLength","rest","eachLine","substr","configurable","enumerable","writable","allocUnsafe","global","require","isMap","isSet","assigner","TYPE","LEVEL","INLINE_ATTRIBUTE","ANY","canAdd","removeAttribute","classes","tags","blots","block","inline","toUpperCase","build","move","cloneNode","replaceWith","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","iterator","attachUI","reverse","enforceAllowedChildren","splitAfter","addedNodes","removedNodes","sort","DOCUMENT_POSITION_FOLLOWING","checkMerge","characterData","characterDataOldValue","childList","subtree","MutationObserver","observe","disconnect","mutationsMap","mark","splitText","loaded","__esModule","globalThis","paths","_Class4","_Class5","sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","href","katex","render","throwOnError","errorColor","formula","hasAttribute","video","forceNext","highlight","cachedText","hljs","languages","highlightBlot","initListener","initTimer","label","clearTimeout","interval","versionString","language","cellOffset","row","rowOffset","balanceCells","fill","cells","rows","deleteColumn","insertColumn","insertRow","random","listenBalanceCells","balanceTables","deleteRow","deleteTable","insertColumnLeft","insertColumnRight","insertRowAbove","insertRowBelow","insertTable","HTMLElement","controls","addHandler","selectedIndex","prompt","selected","clean","align","link","center","justify","background","color","rtl","bullet","check","ordered","script","sub","super","select","buildPicker","display","togglePicker","escape","buildItem","tabIndex","selectItem","buildLabel","buildOptions","close","dispatchEvent","Event","backgroundColor","stroke","defaultItem","boundsContainer","TEMPLATE","overflowY","marginTop","hide","show","tooltip","textbox","pickers","removeEventListener","extendToolbar","buildButtons","buildPickers","edit","click","save","cancel","restoreFocus","linkRange","marginLeft","preview","formats_italic","formats_strike"],"sources":["webpack://Quill/webpack/universalModuleDefinition","webpack://Quill/src/blots/block.ts","webpack://Quill/src/blots/break.ts","webpack://Quill/src/blots/container.ts","webpack://Quill/src/blots/cursor.ts","webpack://Quill/src/blots/embed.ts","webpack://Quill/src/blots/inline.ts","webpack://Quill/src/blots/text.ts","webpack://Quill/src/blots/scroll.ts","webpack://Quill/src/modules/history.ts","webpack://Quill/src/modules/uploader.ts","webpack://Quill/src/modules/input.ts","webpack://Quill/src/modules/uiNode.ts","webpack://Quill/src/core.ts","webpack://Quill/src/core/emitter.ts","webpack://Quill/src/core/instances.ts","webpack://Quill/src/core/logger.ts","webpack://Quill/src/core/module.ts","webpack://Quill/src/core/editor.ts","webpack://Quill/src/core/composition.ts","webpack://Quill/src/core/utils/scrollRectIntoView.ts","webpack://Quill/src/core/utils/createRegistryWithFormats.ts","webpack://Quill/src/core/quill.ts","webpack://Quill/src/core/selection.ts","webpack://Quill/src/core/theme.ts","webpack://Quill/src/formats/align.ts","webpack://Quill/src/formats/background.ts","webpack://Quill/src/formats/code.ts","webpack://Quill/src/formats/color.ts","webpack://Quill/src/formats/direction.ts","webpack://Quill/src/formats/font.ts","webpack://Quill/src/formats/size.ts","webpack://Quill/src/modules/normalizeExternalHTML/normalizers/googleDocs.ts","webpack://Quill/src/modules/normalizeExternalHTML/normalizers/msWord.ts","webpack://Quill/src/modules/normalizeExternalHTML/index.ts","webpack://Quill/src/modules/clipboard.ts","webpack://Quill/src/modules/keyboard.ts","webpack://Quill/node_modules/eventemitter3/index.js","webpack://Quill/node_modules/fast-diff/diff.js","webpack://Quill/node_modules/lodash.clonedeep/index.js","webpack://Quill/node_modules/lodash.isequal/index.js","webpack://Quill/node_modules/quill-delta/src/AttributeMap.ts","webpack://Quill/node_modules/quill-delta/src/Delta.ts","webpack://Quill/node_modules/quill-delta/src/Op.ts","webpack://Quill/node_modules/quill-delta/src/OpIterator.ts","webpack://Quill/node_modules/lodash-es/_listCacheClear.js","webpack://Quill/node_modules/lodash-es/_assocIndexOf.js","webpack://Quill/node_modules/lodash-es/_listCacheDelete.js","webpack://Quill/node_modules/lodash-es/_ListCache.js","webpack://Quill/node_modules/lodash-es/_listCacheGet.js","webpack://Quill/node_modules/lodash-es/_listCacheHas.js","webpack://Quill/node_modules/lodash-es/_listCacheSet.js","webpack://Quill/node_modules/lodash-es/_Map.js","webpack://Quill/node_modules/lodash-es/_nativeCreate.js","webpack://Quill/node_modules/lodash-es/_hashGet.js","webpack://Quill/node_modules/lodash-es/_hashHas.js","webpack://Quill/node_modules/lodash-es/_Hash.js","webpack://Quill/node_modules/lodash-es/_hashClear.js","webpack://Quill/node_modules/lodash-es/_hashDelete.js","webpack://Quill/node_modules/lodash-es/_hashSet.js","webpack://Quill/node_modules/lodash-es/_getMapData.js","webpack://Quill/node_modules/lodash-es/_isKeyable.js","webpack://Quill/node_modules/lodash-es/_MapCache.js","webpack://Quill/node_modules/lodash-es/_mapCacheClear.js","webpack://Quill/node_modules/lodash-es/_mapCacheDelete.js","webpack://Quill/node_modules/lodash-es/_mapCacheGet.js","webpack://Quill/node_modules/lodash-es/_mapCacheHas.js","webpack://Quill/node_modules/lodash-es/_mapCacheSet.js","webpack://Quill/node_modules/lodash-es/_Stack.js","webpack://Quill/node_modules/lodash-es/_stackClear.js","webpack://Quill/node_modules/lodash-es/_stackDelete.js","webpack://Quill/node_modules/lodash-es/_stackGet.js","webpack://Quill/node_modules/lodash-es/_stackHas.js","webpack://Quill/node_modules/lodash-es/_stackSet.js","webpack://Quill/node_modules/lodash-es/_Symbol.js","webpack://Quill/node_modules/lodash-es/_Uint8Array.js","webpack://Quill/node_modules/lodash-es/_baseTimes.js","webpack://Quill/node_modules/lodash-es/_arrayLikeKeys.js","webpack://Quill/node_modules/lodash-es/_arrayPush.js","webpack://Quill/node_modules/lodash-es/_assignValue.js","webpack://Quill/node_modules/lodash-es/_baseAssignValue.js","webpack://Quill/node_modules/lodash-es/_baseGetAllKeys.js","webpack://Quill/node_modules/lodash-es/_getRawTag.js","webpack://Quill/node_modules/lodash-es/_objectToString.js","webpack://Quill/node_modules/lodash-es/_baseGetTag.js","webpack://Quill/node_modules/lodash-es/_baseUnary.js","webpack://Quill/node_modules/lodash-es/_cloneArrayBuffer.js","webpack://Quill/node_modules/lodash-es/_cloneBuffer.js","webpack://Quill/node_modules/lodash-es/_cloneTypedArray.js","webpack://Quill/node_modules/lodash-es/_copyArray.js","webpack://Quill/node_modules/lodash-es/_copyObject.js","webpack://Quill/node_modules/lodash-es/_defineProperty.js","webpack://Quill/node_modules/lodash-es/_freeGlobal.js","webpack://Quill/node_modules/lodash-es/_getAllKeys.js","webpack://Quill/node_modules/lodash-es/_isMasked.js","webpack://Quill/node_modules/lodash-es/_coreJsData.js","webpack://Quill/node_modules/lodash-es/_baseIsNative.js","webpack://Quill/node_modules/lodash-es/_getNative.js","webpack://Quill/node_modules/lodash-es/_getValue.js","webpack://Quill/node_modules/lodash-es/_getPrototype.js","webpack://Quill/node_modules/lodash-es/_arrayFilter.js","webpack://Quill/node_modules/lodash-es/_getSymbols.js","webpack://Quill/node_modules/lodash-es/_DataView.js","webpack://Quill/node_modules/lodash-es/_Promise.js","webpack://Quill/node_modules/lodash-es/_Set.js","webpack://Quill/node_modules/lodash-es/_WeakMap.js","webpack://Quill/node_modules/lodash-es/_getTag.js","webpack://Quill/node_modules/lodash-es/_baseCreate.js","webpack://Quill/node_modules/lodash-es/_initCloneObject.js","webpack://Quill/node_modules/lodash-es/_isIndex.js","webpack://Quill/node_modules/lodash-es/_isPrototype.js","webpack://Quill/node_modules/lodash-es/_nodeUtil.js","webpack://Quill/node_modules/lodash-es/_overArg.js","webpack://Quill/node_modules/lodash-es/_root.js","webpack://Quill/node_modules/lodash-es/_toSource.js","webpack://Quill/node_modules/lodash-es/_getSymbolsIn.js","webpack://Quill/node_modules/lodash-es/_getAllKeysIn.js","webpack://Quill/node_modules/lodash-es/_initCloneArray.js","webpack://Quill/node_modules/lodash-es/_cloneRegExp.js","webpack://Quill/node_modules/lodash-es/_cloneSymbol.js","webpack://Quill/node_modules/lodash-es/_initCloneByTag.js","webpack://Quill/node_modules/lodash-es/_cloneDataView.js","webpack://Quill/node_modules/lodash-es/isMap.js","webpack://Quill/node_modules/lodash-es/_baseIsMap.js","webpack://Quill/node_modules/lodash-es/isSet.js","webpack://Quill/node_modules/lodash-es/_baseIsSet.js","webpack://Quill/node_modules/lodash-es/_baseClone.js","webpack://Quill/node_modules/lodash-es/_copySymbolsIn.js","webpack://Quill/node_modules/lodash-es/_baseAssignIn.js","webpack://Quill/node_modules/lodash-es/_copySymbols.js","webpack://Quill/node_modules/lodash-es/_baseAssign.js","webpack://Quill/node_modules/lodash-es/_arrayEach.js","webpack://Quill/node_modules/lodash-es/cloneDeep.js","webpack://Quill/node_modules/lodash-es/eq.js","webpack://Quill/node_modules/lodash-es/_baseIsArguments.js","webpack://Quill/node_modules/lodash-es/isArguments.js","webpack://Quill/node_modules/lodash-es/isArray.js","webpack://Quill/node_modules/lodash-es/isArrayLike.js","webpack://Quill/node_modules/lodash-es/isBuffer.js","webpack://Quill/node_modules/lodash-es/stubFalse.js","webpack://Quill/node_modules/lodash-es/_SetCache.js","webpack://Quill/node_modules/lodash-es/_setCacheAdd.js","webpack://Quill/node_modules/lodash-es/_setCacheHas.js","webpack://Quill/node_modules/lodash-es/_arraySome.js","webpack://Quill/node_modules/lodash-es/_equalArrays.js","webpack://Quill/node_modules/lodash-es/_cacheHas.js","webpack://Quill/node_modules/lodash-es/_mapToArray.js","webpack://Quill/node_modules/lodash-es/_setToArray.js","webpack://Quill/node_modules/lodash-es/_equalByTag.js","webpack://Quill/node_modules/lodash-es/_equalObjects.js","webpack://Quill/node_modules/lodash-es/_baseIsEqualDeep.js","webpack://Quill/node_modules/lodash-es/_baseIsEqual.js","webpack://Quill/node_modules/lodash-es/isEqual.js","webpack://Quill/node_modules/lodash-es/isFunction.js","webpack://Quill/node_modules/lodash-es/isLength.js","webpack://Quill/node_modules/lodash-es/isObject.js","webpack://Quill/node_modules/lodash-es/isObjectLike.js","webpack://Quill/node_modules/lodash-es/_baseIsTypedArray.js","webpack://Quill/node_modules/lodash-es/isTypedArray.js","webpack://Quill/node_modules/lodash-es/_nativeKeys.js","webpack://Quill/node_modules/lodash-es/_baseKeys.js","webpack://Quill/node_modules/lodash-es/keys.js","webpack://Quill/node_modules/lodash-es/_baseKeysIn.js","webpack://Quill/node_modules/lodash-es/_nativeKeysIn.js","webpack://Quill/node_modules/lodash-es/keysIn.js","webpack://Quill/node_modules/lodash-es/_shortOut.js","webpack://Quill/node_modules/lodash-es/_createAssigner.js","webpack://Quill/node_modules/lodash-es/_assignMergeValue.js","webpack://Quill/node_modules/lodash-es/_baseFor.js","webpack://Quill/node_modules/lodash-es/_createBaseFor.js","webpack://Quill/node_modules/lodash-es/isPlainObject.js","webpack://Quill/node_modules/lodash-es/_safeGet.js","webpack://Quill/node_modules/lodash-es/_baseMergeDeep.js","webpack://Quill/node_modules/lodash-es/isArrayLikeObject.js","webpack://Quill/node_modules/lodash-es/toPlainObject.js","webpack://Quill/node_modules/lodash-es/_baseMerge.js","webpack://Quill/node_modules/lodash-es/identity.js","webpack://Quill/node_modules/lodash-es/_overRest.js","webpack://Quill/node_modules/lodash-es/_baseSetToString.js","webpack://Quill/node_modules/lodash-es/constant.js","webpack://Quill/node_modules/lodash-es/_setToString.js","webpack://Quill/node_modules/lodash-es/_baseRest.js","webpack://Quill/node_modules/lodash-es/_apply.js","webpack://Quill/node_modules/lodash-es/merge.js","webpack://Quill/node_modules/lodash-es/_isIterateeCall.js","webpack://Quill/node_modules/lodash-es/stubArray.js","webpack://Quill/node_modules/parchment/src/scope.ts","webpack://Quill/node_modules/parchment/src/attributor/attributor.ts","webpack://Quill/node_modules/parchment/src/error.ts","webpack://Quill/node_modules/parchment/src/registry.ts","webpack://Quill/node_modules/parchment/src/attributor/class.ts","webpack://Quill/node_modules/parchment/src/attributor/style.ts","webpack://Quill/node_modules/parchment/src/attributor/store.ts","webpack://Quill/node_modules/parchment/src/blot/abstract/shadow.ts","webpack://Quill/node_modules/parchment/src/blot/abstract/leaf.ts","webpack://Quill/node_modules/parchment/src/collection/linked-list.ts","webpack://Quill/node_modules/parchment/src/blot/abstract/parent.ts","webpack://Quill/node_modules/parchment/src/blot/inline.ts","webpack://Quill/node_modules/parchment/src/blot/block.ts","webpack://Quill/node_modules/parchment/src/blot/abstract/container.ts","webpack://Quill/node_modules/parchment/src/blot/embed.ts","webpack://Quill/node_modules/parchment/src/blot/scroll.ts","webpack://Quill/node_modules/parchment/src/blot/text.ts","webpack://Quill/webpack/bootstrap","webpack://Quill/webpack/runtime/compat get default export","webpack://Quill/webpack/runtime/define property getters","webpack://Quill/webpack/runtime/global","webpack://Quill/webpack/runtime/hasOwnProperty shorthand","webpack://Quill/webpack/runtime/make namespace object","webpack://Quill/webpack/runtime/node module decorator","webpack://Quill/src/formats/indent.ts","webpack://Quill/src/formats/blockquote.ts","webpack://Quill/src/formats/header.ts","webpack://Quill/src/formats/list.ts","webpack://Quill/src/formats/bold.ts","webpack://Quill/src/formats/link.ts","webpack://Quill/src/formats/script.ts","webpack://Quill/src/formats/underline.ts","webpack://Quill/src/formats/formula.ts","webpack://Quill/src/formats/image.ts","webpack://Quill/src/formats/video.ts","webpack://Quill/src/modules/syntax.ts","webpack://Quill/src/formats/table.ts","webpack://Quill/src/modules/table.ts","webpack://Quill/src/modules/toolbar.ts","webpack://Quill/src/ui/icons.ts","webpack://Quill/src/ui/picker.ts","webpack://Quill/src/ui/color-picker.ts","webpack://Quill/src/ui/icon-picker.ts","webpack://Quill/src/ui/tooltip.ts","webpack://Quill/src/themes/base.ts","webpack://Quill/src/themes/bubble.ts","webpack://Quill/src/themes/snow.ts","webpack://Quill/src/quill.ts","webpack://Quill/src/formats/italic.ts","webpack://Quill/src/formats/strike.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(self, function() {\nreturn ","import {\n  AttributorStore,\n  BlockBlot,\n  EmbedBlot,\n  LeafBlot,\n  Scope,\n} from 'parchment';\nimport type { Blot, Parent } from 'parchment';\nimport Delta from 'quill-delta';\nimport Break from './break.js';\nimport Inline from './inline.js';\nimport TextBlot from './text.js';\n\nconst NEWLINE_LENGTH = 1;\n\nclass Block extends BlockBlot {\n  cache: { delta?: Delta | null; length?: number } = {};\n\n  delta(): Delta {\n    if (this.cache.delta == null) {\n      this.cache.delta = blockDelta(this);\n    }\n    return this.cache.delta;\n  }\n\n  deleteAt(index: number, length: number) {\n    super.deleteAt(index, length);\n    this.cache = {};\n  }\n\n  formatAt(index: number, length: number, name: string, value: unknown) {\n    if (length <= 0) return;\n    if (this.scroll.query(name, Scope.BLOCK)) {\n      if (index + length === this.length()) {\n        this.format(name, value);\n      }\n    } else {\n      super.formatAt(\n        index,\n        Math.min(length, this.length() - index - 1),\n        name,\n        value,\n      );\n    }\n    this.cache = {};\n  }\n\n  insertAt(index: number, value: string, def?: unknown) {\n    if (def != null) {\n      super.insertAt(index, value, def);\n      this.cache = {};\n      return;\n    }\n    if (value.length === 0) return;\n    const lines = value.split('\\n');\n    const text = lines.shift() as string;\n    if (text.length > 0) {\n      if (index < this.length() - 1 || this.children.tail == null) {\n        super.insertAt(Math.min(index, this.length() - 1), text);\n      } else {\n        this.children.tail.insertAt(this.children.tail.length(), text);\n      }\n      this.cache = {};\n    }\n    // TODO: Fix this next time the file is edited.\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let block: Blot | this = this;\n    lines.reduce((lineIndex, line) => {\n      // @ts-expect-error Fix me later\n      block = block.split(lineIndex, true);\n      block.insertAt(0, line);\n      return line.length;\n    }, index + text.length);\n  }\n\n  insertBefore(blot: Blot, ref?: Blot | null) {\n    const { head } = this.children;\n    super.insertBefore(blot, ref);\n    if (head instanceof Break) {\n      head.remove();\n    }\n    this.cache = {};\n  }\n\n  length() {\n    if (this.cache.length == null) {\n      this.cache.length = super.length() + NEWLINE_LENGTH;\n    }\n    return this.cache.length;\n  }\n\n  moveChildren(target: Parent, ref?: Blot | null) {\n    super.moveChildren(target, ref);\n    this.cache = {};\n  }\n\n  optimize(context: { [key: string]: any }) {\n    super.optimize(context);\n    this.cache = {};\n  }\n\n  path(index: number) {\n    return super.path(index, true);\n  }\n\n  removeChild(child: Blot) {\n    super.removeChild(child);\n    this.cache = {};\n  }\n\n  split(index: number, force: boolean | undefined = false): Blot | null {\n    if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n      const clone = this.clone();\n      if (index === 0) {\n        this.parent.insertBefore(clone, this);\n        return this;\n      }\n      this.parent.insertBefore(clone, this.next);\n      return clone;\n    }\n    const next = super.split(index, force);\n    this.cache = {};\n    return next;\n  }\n}\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = Break;\nBlock.allowedChildren = [Break, Inline, EmbedBlot, TextBlot];\n\nclass BlockEmbed extends EmbedBlot {\n  attributes: AttributorStore;\n  domNode: HTMLElement;\n\n  attach() {\n    super.attach();\n    this.attributes = new AttributorStore(this.domNode);\n  }\n\n  delta() {\n    return new Delta().insert(this.value(), {\n      ...this.formats(),\n      ...this.attributes.values(),\n    });\n  }\n\n  format(name: string, value: unknown) {\n    const attribute = this.scroll.query(name, Scope.BLOCK_ATTRIBUTE);\n    if (attribute != null) {\n      // @ts-expect-error TODO: Scroll#query() should return Attributor when scope is attribute\n      this.attributes.attribute(attribute, value);\n    }\n  }\n\n  formatAt(index: number, length: number, name: string, value: unknown) {\n    this.format(name, value);\n  }\n\n  insertAt(index: number, value: string, def?: unknown) {\n    if (def != null) {\n      super.insertAt(index, value, def);\n      return;\n    }\n    const lines = value.split('\\n');\n    const text = lines.pop();\n    const blocks = lines.map((line) => {\n      const block = this.scroll.create(Block.blotName);\n      block.insertAt(0, line);\n      return block;\n    });\n    const ref = this.split(index);\n    blocks.forEach((block) => {\n      this.parent.insertBefore(block, ref);\n    });\n    if (text) {\n      this.parent.insertBefore(this.scroll.create('text', text), ref);\n    }\n  }\n}\nBlockEmbed.scope = Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\nfunction blockDelta(blot: BlockBlot, filter = true) {\n  return blot\n    .descendants(LeafBlot)\n    .reduce((delta, leaf) => {\n      if (leaf.length() === 0) {\n        return delta;\n      }\n      return delta.insert(leaf.value(), bubbleFormats(leaf, {}, filter));\n    }, new Delta())\n    .insert('\\n', bubbleFormats(blot));\n}\n\nfunction bubbleFormats(\n  blot: Blot | null,\n  formats: Record<string, unknown> = {},\n  filter = true,\n): Record<string, unknown> {\n  if (blot == null) return formats;\n  if ('formats' in blot && typeof blot.formats === 'function') {\n    formats = {\n      ...formats,\n      ...blot.formats(),\n    };\n    if (filter) {\n      // exclude syntax highlighting from deltas and getFormat()\n      delete formats['code-token'];\n    }\n  }\n  if (\n    blot.parent == null ||\n    blot.parent.statics.blotName === 'scroll' ||\n    blot.parent.statics.scope !== blot.statics.scope\n  ) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats, filter);\n}\n\nexport { blockDelta, bubbleFormats, BlockEmbed, Block as default };\n","import { EmbedBlot } from 'parchment';\n\nclass Break extends EmbedBlot {\n  static value() {\n    return undefined;\n  }\n\n  optimize() {\n    if (this.prev || this.next) {\n      this.remove();\n    }\n  }\n\n  length() {\n    return 0;\n  }\n\n  value() {\n    return '';\n  }\n}\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexport default Break;\n","import { ContainerBlot } from 'parchment';\n\nclass Container extends ContainerBlot {}\n\nexport default Container;\n","import { EmbedBlot, Scope } from 'parchment';\nimport type { Parent, ScrollBlot } from 'parchment';\nimport type Selection from '../core/selection.js';\nimport TextBlot from './text.js';\nimport type { EmbedContextRange } from './embed.js';\n\nclass Cursor extends EmbedBlot {\n  static blotName = 'cursor';\n  static className = 'ql-cursor';\n  static tagName = 'span';\n  static CONTENTS = '\\uFEFF'; // Zero width no break space\n\n  static value() {\n    return undefined;\n  }\n\n  selection: Selection;\n  textNode: Text;\n  savedLength: number;\n\n  constructor(scroll: ScrollBlot, domNode: HTMLElement, selection: Selection) {\n    super(scroll, domNode);\n    this.selection = selection;\n    this.textNode = document.createTextNode(Cursor.CONTENTS);\n    this.domNode.appendChild(this.textNode);\n    this.savedLength = 0;\n  }\n\n  detach() {\n    // super.detach() will also clear domNode.__blot\n    if (this.parent != null) this.parent.removeChild(this);\n  }\n\n  format(name: string, value: unknown) {\n    if (this.savedLength !== 0) {\n      super.format(name, value);\n      return;\n    }\n    // TODO: Fix this next time the file is edited.\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let target: Parent | this = this;\n    let index = 0;\n    while (target != null && target.statics.scope !== Scope.BLOCK_BLOT) {\n      index += target.offset(target.parent);\n      target = target.parent;\n    }\n    if (target != null) {\n      this.savedLength = Cursor.CONTENTS.length;\n      // @ts-expect-error TODO: allow empty context in Parchment\n      target.optimize();\n      target.formatAt(index, Cursor.CONTENTS.length, name, value);\n      this.savedLength = 0;\n    }\n  }\n\n  index(node: Node, offset: number) {\n    if (node === this.textNode) return 0;\n    return super.index(node, offset);\n  }\n\n  length() {\n    return this.savedLength;\n  }\n\n  position(): [Text, number] {\n    return [this.textNode, this.textNode.data.length];\n  }\n\n  remove() {\n    super.remove();\n    // @ts-expect-error Fix me later\n    this.parent = null;\n  }\n\n  restore(): EmbedContextRange | null {\n    if (this.selection.composing || this.parent == null) return null;\n    const range = this.selection.getNativeRange();\n    // Browser may push down styles/nodes inside the cursor blot.\n    // https://dvcs.w3.org/hg/editing/raw-file/tip/editing.html#push-down-values\n    while (\n      this.domNode.lastChild != null &&\n      this.domNode.lastChild !== this.textNode\n    ) {\n      // @ts-expect-error Fix me later\n      this.domNode.parentNode.insertBefore(\n        this.domNode.lastChild,\n        this.domNode,\n      );\n    }\n\n    const prevTextBlot = this.prev instanceof TextBlot ? this.prev : null;\n    const prevTextLength = prevTextBlot ? prevTextBlot.length() : 0;\n    const nextTextBlot = this.next instanceof TextBlot ? this.next : null;\n    // @ts-expect-error TODO: make TextBlot.text public\n    const nextText = nextTextBlot ? nextTextBlot.text : '';\n    const { textNode } = this;\n    // take text from inside this blot and reset it\n    const newText = textNode.data.split(Cursor.CONTENTS).join('');\n    textNode.data = Cursor.CONTENTS;\n\n    // proactively merge TextBlots around cursor so that optimization\n    // doesn't lose the cursor.  the reason we are here in cursor.restore\n    // could be that the user clicked in prevTextBlot or nextTextBlot, or\n    // the user typed something.\n    let mergedTextBlot;\n    if (prevTextBlot) {\n      mergedTextBlot = prevTextBlot;\n      if (newText || nextTextBlot) {\n        prevTextBlot.insertAt(prevTextBlot.length(), newText + nextText);\n        if (nextTextBlot) {\n          nextTextBlot.remove();\n        }\n      }\n    } else if (nextTextBlot) {\n      mergedTextBlot = nextTextBlot;\n      nextTextBlot.insertAt(0, newText);\n    } else {\n      const newTextNode = document.createTextNode(newText);\n      mergedTextBlot = this.scroll.create(newTextNode);\n      this.parent.insertBefore(mergedTextBlot, this);\n    }\n\n    this.remove();\n    if (range) {\n      // calculate selection to restore\n      const remapOffset = (node: Node, offset: number) => {\n        if (prevTextBlot && node === prevTextBlot.domNode) {\n          return offset;\n        }\n        if (node === textNode) {\n          return prevTextLength + offset - 1;\n        }\n        if (nextTextBlot && node === nextTextBlot.domNode) {\n          return prevTextLength + newText.length + offset;\n        }\n        return null;\n      };\n\n      const start = remapOffset(range.start.node, range.start.offset);\n      const end = remapOffset(range.end.node, range.end.offset);\n      if (start !== null && end !== null) {\n        return {\n          startNode: mergedTextBlot.domNode,\n          startOffset: start,\n          endNode: mergedTextBlot.domNode,\n          endOffset: end,\n        };\n      }\n    }\n    return null;\n  }\n\n  update(mutations: MutationRecord[], context: Record<string, unknown>) {\n    if (\n      mutations.some((mutation) => {\n        return (\n          mutation.type === 'characterData' && mutation.target === this.textNode\n        );\n      })\n    ) {\n      const range = this.restore();\n      if (range) context.range = range;\n    }\n  }\n\n  // Avoid .ql-cursor being a descendant of `<a/>`.\n  // The reason is Safari pushes down `<a/>` on text insertion.\n  // That will cause DOM nodes not sync with the model.\n  //\n  // For example ({I} is the caret), given the markup:\n  //    <a><span class=\"ql-cursor\">\\uFEFF{I}</span></a>\n  // When typing a char \"x\", `<a/>` will be pushed down inside the `<span>` first:\n  //    <span class=\"ql-cursor\"><a>\\uFEFF{I}</a></span>\n  // And then \"x\" will be inserted after `<a/>`:\n  //    <span class=\"ql-cursor\"><a>\\uFEFF</a>d{I}</span>\n  optimize(context?: unknown) {\n    // @ts-expect-error Fix me later\n    super.optimize(context);\n\n    let { parent } = this;\n    while (parent) {\n      if (parent.domNode.tagName === 'A') {\n        this.savedLength = Cursor.CONTENTS.length;\n        // @ts-expect-error TODO: make isolate generic\n        parent.isolate(this.offset(parent), this.length()).unwrap();\n        this.savedLength = 0;\n        break;\n      }\n      parent = parent.parent;\n    }\n  }\n\n  value() {\n    return '';\n  }\n}\n\nexport default Cursor;\n","import type { ScrollBlot } from 'parchment';\nimport { EmbedBlot } from 'parchment';\nimport TextBlot from './text.js';\n\nconst GUARD_TEXT = '\\uFEFF';\n\nexport interface EmbedContextRange {\n  startNode: Node | Text;\n  startOffset: number;\n  endNode?: Node | Text;\n  endOffset?: number;\n}\n\nclass Embed extends EmbedBlot {\n  contentNode: HTMLSpanElement;\n  leftGuard: Text;\n  rightGuard: Text;\n\n  constructor(scroll: ScrollBlot, node: Node) {\n    super(scroll, node);\n    this.contentNode = document.createElement('span');\n    this.contentNode.setAttribute('contenteditable', 'false');\n    Array.from(this.domNode.childNodes).forEach((childNode) => {\n      this.contentNode.appendChild(childNode);\n    });\n    this.leftGuard = document.createTextNode(GUARD_TEXT);\n    this.rightGuard = document.createTextNode(GUARD_TEXT);\n    this.domNode.appendChild(this.leftGuard);\n    this.domNode.appendChild(this.contentNode);\n    this.domNode.appendChild(this.rightGuard);\n  }\n\n  index(node: Node, offset: number) {\n    if (node === this.leftGuard) return 0;\n    if (node === this.rightGuard) return 1;\n    return super.index(node, offset);\n  }\n\n  restore(node: Text): EmbedContextRange | null {\n    let range: EmbedContextRange | null = null;\n    let textNode: Text;\n    const text = node.data.split(GUARD_TEXT).join('');\n    if (node === this.leftGuard) {\n      if (this.prev instanceof TextBlot) {\n        const prevLength = this.prev.length();\n        this.prev.insertAt(prevLength, text);\n        range = {\n          startNode: this.prev.domNode,\n          startOffset: prevLength + text.length,\n        };\n      } else {\n        textNode = document.createTextNode(text);\n        this.parent.insertBefore(this.scroll.create(textNode), this);\n        range = {\n          startNode: textNode,\n          startOffset: text.length,\n        };\n      }\n    } else if (node === this.rightGuard) {\n      if (this.next instanceof TextBlot) {\n        this.next.insertAt(0, text);\n        range = {\n          startNode: this.next.domNode,\n          startOffset: text.length,\n        };\n      } else {\n        textNode = document.createTextNode(text);\n        this.parent.insertBefore(this.scroll.create(textNode), this.next);\n        range = {\n          startNode: textNode,\n          startOffset: text.length,\n        };\n      }\n    }\n    node.data = GUARD_TEXT;\n    return range;\n  }\n\n  update(mutations: MutationRecord[], context: Record<string, unknown>) {\n    mutations.forEach((mutation) => {\n      if (\n        mutation.type === 'characterData' &&\n        (mutation.target === this.leftGuard ||\n          mutation.target === this.rightGuard)\n      ) {\n        const range = this.restore(mutation.target as Text);\n        if (range) context.range = range;\n      }\n    });\n  }\n}\n\nexport default Embed;\n","import { EmbedBlot, InlineBlot, Scope } from 'parchment';\nimport type { BlotConstructor } from 'parchment';\nimport Break from './break.js';\nimport Text from './text.js';\n\nclass Inline extends InlineBlot {\n  static allowedChildren: BlotConstructor[] = [Inline, Break, EmbedBlot, Text];\n  // Lower index means deeper in the DOM tree, since not found (-1) is for embeds\n  static order = [\n    'cursor',\n    'inline', // Must be lower\n    'link', // Chrome wants <a> to be lower\n    'underline',\n    'strike',\n    'italic',\n    'bold',\n    'script',\n    'code', // Must be higher\n  ];\n\n  static compare(self: string, other: string) {\n    const selfIndex = Inline.order.indexOf(self);\n    const otherIndex = Inline.order.indexOf(other);\n    if (selfIndex >= 0 || otherIndex >= 0) {\n      return selfIndex - otherIndex;\n    }\n    if (self === other) {\n      return 0;\n    }\n    if (self < other) {\n      return -1;\n    }\n    return 1;\n  }\n\n  formatAt(index: number, length: number, name: string, value: unknown) {\n    if (\n      Inline.compare(this.statics.blotName, name) < 0 &&\n      this.scroll.query(name, Scope.BLOT)\n    ) {\n      const blot = this.isolate(index, length);\n      if (value) {\n        blot.wrap(name, value);\n      }\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  optimize(context: { [key: string]: any }) {\n    super.optimize(context);\n    if (\n      this.parent instanceof Inline &&\n      Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0\n    ) {\n      const parent = this.parent.isolate(this.offset(), this.length());\n      // @ts-expect-error TODO: make isolate generic\n      this.moveChildren(parent);\n      parent.wrap(this);\n    }\n  }\n}\n\nexport default Inline;\n","import { TextBlot } from 'parchment';\n\nclass Text extends TextBlot {}\n\nfunction escapeText(text: string) {\n  return text.replace(/[&<>\"']/g, (s) => {\n    // https://lodash.com/docs#escape\n    const entityMap: Record<string, string> = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;',\n    };\n    return entityMap[s];\n  });\n}\n\nexport { Text as default, escapeText };\n","import { ContainerBlot, LeafBlot, Scope, ScrollBlot } from 'parchment';\nimport type { Blot, Parent, EmbedBlot, ParentBlot, Registry } from 'parchment';\nimport Delta, { AttributeMap, Op } from 'quill-delta';\nimport Emitter from '../core/emitter.js';\nimport type { EmitterSource } from '../core/emitter.js';\nimport Block, { BlockEmbed, bubbleFormats } from './block.js';\nimport Break from './break.js';\nimport Container from './container.js';\n\ntype RenderBlock =\n  | {\n      type: 'blockEmbed';\n      attributes: AttributeMap;\n      key: string;\n      value: unknown;\n    }\n  | { type: 'block'; attributes: AttributeMap; delta: Delta };\n\nfunction isLine(blot: unknown): blot is Block | BlockEmbed {\n  return blot instanceof Block || blot instanceof BlockEmbed;\n}\n\ninterface UpdatableEmbed {\n  updateContent(change: unknown): void;\n}\n\nfunction isUpdatable(blot: Blot): blot is Blot & UpdatableEmbed {\n  return typeof (blot as unknown as any).updateContent === 'function';\n}\n\nclass Scroll extends ScrollBlot {\n  static blotName = 'scroll';\n  static className = 'ql-editor';\n  static tagName = 'DIV';\n  static defaultChild = Block;\n  static allowedChildren = [Block, BlockEmbed, Container];\n\n  emitter: Emitter;\n  batch: false | MutationRecord[];\n\n  constructor(\n    registry: Registry,\n    domNode: HTMLDivElement,\n    { emitter }: { emitter: Emitter },\n  ) {\n    super(registry, domNode);\n    this.emitter = emitter;\n    this.batch = false;\n    this.optimize();\n    this.enable();\n    this.domNode.addEventListener('dragstart', (e) => this.handleDragStart(e));\n  }\n\n  batchStart() {\n    if (!Array.isArray(this.batch)) {\n      this.batch = [];\n    }\n  }\n\n  batchEnd() {\n    if (!this.batch) return;\n    const mutations = this.batch;\n    this.batch = false;\n    this.update(mutations);\n  }\n\n  emitMount(blot: Blot) {\n    this.emitter.emit(Emitter.events.SCROLL_BLOT_MOUNT, blot);\n  }\n\n  emitUnmount(blot: Blot) {\n    this.emitter.emit(Emitter.events.SCROLL_BLOT_UNMOUNT, blot);\n  }\n\n  emitEmbedUpdate(blot: Blot, change: unknown) {\n    this.emitter.emit(Emitter.events.SCROLL_EMBED_UPDATE, blot, change);\n  }\n\n  deleteAt(index: number, length: number) {\n    const [first, offset] = this.line(index);\n    const [last] = this.line(index + length);\n    super.deleteAt(index, length);\n    if (last != null && first !== last && offset > 0) {\n      if (first instanceof BlockEmbed || last instanceof BlockEmbed) {\n        this.optimize();\n        return;\n      }\n      const ref =\n        last.children.head instanceof Break ? null : last.children.head;\n      // @ts-expect-error\n      first.moveChildren(last, ref);\n      // @ts-expect-error\n      first.remove();\n    }\n    this.optimize();\n  }\n\n  enable(enabled = true) {\n    this.domNode.setAttribute('contenteditable', enabled ? 'true' : 'false');\n  }\n\n  formatAt(index: number, length: number, format: string, value: unknown) {\n    super.formatAt(index, length, format, value);\n    this.optimize();\n  }\n\n  insertAt(index: number, value: string, def?: unknown) {\n    if (index >= this.length()) {\n      if (def == null || this.scroll.query(value, Scope.BLOCK) == null) {\n        const blot = this.scroll.create(this.statics.defaultChild.blotName);\n        this.appendChild(blot);\n        if (def == null && value.endsWith('\\n')) {\n          blot.insertAt(0, value.slice(0, -1), def);\n        } else {\n          blot.insertAt(0, value, def);\n        }\n      } else {\n        const embed = this.scroll.create(value, def);\n        this.appendChild(embed);\n      }\n    } else {\n      super.insertAt(index, value, def);\n    }\n    this.optimize();\n  }\n\n  insertBefore(blot: Blot, ref?: Blot | null) {\n    if (blot.statics.scope === Scope.INLINE_BLOT) {\n      const wrapper = this.scroll.create(\n        this.statics.defaultChild.blotName,\n      ) as Parent;\n      wrapper.appendChild(blot);\n      super.insertBefore(wrapper, ref);\n    } else {\n      super.insertBefore(blot, ref);\n    }\n  }\n\n  insertContents(index: number, delta: Delta) {\n    const renderBlocks = this.deltaToRenderBlocks(\n      delta.concat(new Delta().insert('\\n')),\n    );\n    const last = renderBlocks.pop();\n    if (last == null) return;\n\n    this.batchStart();\n\n    const first = renderBlocks.shift();\n    if (first) {\n      const shouldInsertNewlineChar =\n        first.type === 'block' &&\n        (first.delta.length() === 0 ||\n          (!this.descendant(BlockEmbed, index)[0] && index < this.length()));\n      const delta =\n        first.type === 'block'\n          ? first.delta\n          : new Delta().insert({ [first.key]: first.value });\n      insertInlineContents(this, index, delta);\n      const newlineCharLength = first.type === 'block' ? 1 : 0;\n      const lineEndIndex = index + delta.length() + newlineCharLength;\n      if (shouldInsertNewlineChar) {\n        this.insertAt(lineEndIndex - 1, '\\n');\n      }\n\n      const formats = bubbleFormats(this.line(index)[0]);\n      const attributes = AttributeMap.diff(formats, first.attributes) || {};\n      Object.keys(attributes).forEach((name) => {\n        this.formatAt(lineEndIndex - 1, 1, name, attributes[name]);\n      });\n\n      index = lineEndIndex;\n    }\n\n    let [refBlot, refBlotOffset] = this.children.find(index);\n    if (renderBlocks.length) {\n      if (refBlot) {\n        refBlot = refBlot.split(refBlotOffset);\n        refBlotOffset = 0;\n      }\n\n      renderBlocks.forEach((renderBlock) => {\n        if (renderBlock.type === 'block') {\n          const block = this.createBlock(\n            renderBlock.attributes,\n            refBlot || undefined,\n          );\n          insertInlineContents(block, 0, renderBlock.delta);\n        } else {\n          const blockEmbed = this.create(\n            renderBlock.key,\n            renderBlock.value,\n          ) as EmbedBlot;\n          this.insertBefore(blockEmbed, refBlot || undefined);\n          Object.keys(renderBlock.attributes).forEach((name) => {\n            blockEmbed.format(name, renderBlock.attributes[name]);\n          });\n        }\n      });\n    }\n\n    if (last.type === 'block' && last.delta.length()) {\n      const offset = refBlot\n        ? refBlot.offset(refBlot.scroll) + refBlotOffset\n        : this.length();\n      insertInlineContents(this, offset, last.delta);\n    }\n\n    this.batchEnd();\n    this.optimize();\n  }\n\n  isEnabled() {\n    return this.domNode.getAttribute('contenteditable') === 'true';\n  }\n\n  leaf(index: number): [LeafBlot | null, number] {\n    const last = this.path(index).pop();\n    if (!last) {\n      return [null, -1];\n    }\n\n    const [blot, offset] = last;\n    return blot instanceof LeafBlot ? [blot, offset] : [null, -1];\n  }\n\n  line(index: number): [Block | BlockEmbed | null, number] {\n    if (index === this.length()) {\n      return this.line(index - 1);\n    }\n    // @ts-expect-error TODO: make descendant() generic\n    return this.descendant(isLine, index);\n  }\n\n  lines(index = 0, length = Number.MAX_VALUE): (Block | BlockEmbed)[] {\n    const getLines = (\n      blot: ParentBlot,\n      blotIndex: number,\n      blotLength: number,\n    ) => {\n      let lines: (Block | BlockEmbed)[] = [];\n      let lengthLeft = blotLength;\n      blot.children.forEachAt(\n        blotIndex,\n        blotLength,\n        (child, childIndex, childLength) => {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof ContainerBlot) {\n            lines = lines.concat(getLines(child, childIndex, lengthLeft));\n          }\n          lengthLeft -= childLength;\n        },\n      );\n      return lines;\n    };\n    return getLines(this, index, length);\n  }\n\n  optimize(context?: { [key: string]: any }): void;\n  optimize(\n    mutations?: MutationRecord[],\n    context?: { [key: string]: any },\n  ): void;\n  optimize(mutations = [], context = {}) {\n    if (this.batch) return;\n    super.optimize(mutations, context);\n    if (mutations.length > 0) {\n      this.emitter.emit(Emitter.events.SCROLL_OPTIMIZE, mutations, context);\n    }\n  }\n\n  path(index: number) {\n    return super.path(index).slice(1); // Exclude self\n  }\n\n  remove() {\n    // Never remove self\n  }\n\n  update(source?: EmitterSource): void;\n  update(mutations?: MutationRecord[]): void;\n  update(mutations?: MutationRecord[] | EmitterSource): void {\n    if (this.batch) {\n      if (Array.isArray(mutations)) {\n        this.batch = this.batch.concat(mutations);\n      }\n      return;\n    }\n    let source: EmitterSource = Emitter.sources.USER;\n    if (typeof mutations === 'string') {\n      source = mutations;\n    }\n    if (!Array.isArray(mutations)) {\n      mutations = this.observer.takeRecords();\n    }\n    mutations = mutations.filter(({ target }) => {\n      const blot = this.find(target, true);\n      return blot && !isUpdatable(blot);\n    });\n    if (mutations.length > 0) {\n      this.emitter.emit(Emitter.events.SCROLL_BEFORE_UPDATE, source, mutations);\n    }\n    super.update(mutations.concat([])); // pass copy\n    if (mutations.length > 0) {\n      this.emitter.emit(Emitter.events.SCROLL_UPDATE, source, mutations);\n    }\n  }\n\n  updateEmbedAt(index: number, key: string, change: unknown) {\n    // Currently it only supports top-level embeds (BlockEmbed).\n    // We can update `ParentBlot` in parchment to support inline embeds.\n    const [blot] = this.descendant((b: Blot) => b instanceof BlockEmbed, index);\n    if (blot && blot.statics.blotName === key && isUpdatable(blot)) {\n      blot.updateContent(change);\n    }\n  }\n\n  protected handleDragStart(event: DragEvent) {\n    event.preventDefault();\n  }\n\n  private deltaToRenderBlocks(delta: Delta) {\n    const renderBlocks: RenderBlock[] = [];\n\n    let currentBlockDelta = new Delta();\n    delta.forEach((op) => {\n      const insert = op?.insert;\n      if (!insert) return;\n      if (typeof insert === 'string') {\n        const splitted = insert.split('\\n');\n        splitted.slice(0, -1).forEach((text) => {\n          currentBlockDelta.insert(text, op.attributes);\n          renderBlocks.push({\n            type: 'block',\n            delta: currentBlockDelta,\n            attributes: op.attributes ?? {},\n          });\n          currentBlockDelta = new Delta();\n        });\n        const last = splitted[splitted.length - 1];\n        if (last) {\n          currentBlockDelta.insert(last, op.attributes);\n        }\n      } else {\n        const key = Object.keys(insert)[0];\n        if (!key) return;\n        if (this.query(key, Scope.INLINE)) {\n          currentBlockDelta.push(op);\n        } else {\n          if (currentBlockDelta.length()) {\n            renderBlocks.push({\n              type: 'block',\n              delta: currentBlockDelta,\n              attributes: {},\n            });\n          }\n          currentBlockDelta = new Delta();\n          renderBlocks.push({\n            type: 'blockEmbed',\n            key,\n            value: insert[key],\n            attributes: op.attributes ?? {},\n          });\n        }\n      }\n    });\n\n    if (currentBlockDelta.length()) {\n      renderBlocks.push({\n        type: 'block',\n        delta: currentBlockDelta,\n        attributes: {},\n      });\n    }\n\n    return renderBlocks;\n  }\n\n  private createBlock(attributes: AttributeMap, refBlot?: Blot) {\n    let blotName: string | undefined;\n    const formats: AttributeMap = {};\n\n    Object.entries(attributes).forEach(([key, value]) => {\n      const isBlockBlot = this.query(key, Scope.BLOCK & Scope.BLOT) != null;\n      if (isBlockBlot) {\n        blotName = key;\n      } else {\n        formats[key] = value;\n      }\n    });\n\n    const block = this.create(\n      blotName || this.statics.defaultChild.blotName,\n      blotName ? attributes[blotName] : undefined,\n    ) as ParentBlot;\n\n    this.insertBefore(block, refBlot || undefined);\n\n    const length = block.length();\n    Object.entries(formats).forEach(([key, value]) => {\n      block.formatAt(0, length, key, value);\n    });\n\n    return block;\n  }\n}\n\nfunction insertInlineContents(\n  parent: ParentBlot,\n  index: number,\n  inlineContents: Delta,\n) {\n  inlineContents.reduce((index, op) => {\n    const length = Op.length(op);\n    let attributes = op.attributes || {};\n    if (op.insert != null) {\n      if (typeof op.insert === 'string') {\n        const text = op.insert;\n        parent.insertAt(index, text);\n        const [leaf] = parent.descendant(LeafBlot, index);\n        const formats = bubbleFormats(leaf);\n        attributes = AttributeMap.diff(formats, attributes) || {};\n      } else if (typeof op.insert === 'object') {\n        const key = Object.keys(op.insert)[0]; // There should only be one key\n        if (key == null) return index;\n        parent.insertAt(index, key, op.insert[key]);\n        const isInlineEmbed = parent.scroll.query(key, Scope.INLINE) != null;\n        if (isInlineEmbed) {\n          const [leaf] = parent.descendant(LeafBlot, index);\n          const formats = bubbleFormats(leaf);\n          attributes = AttributeMap.diff(formats, attributes) || {};\n        }\n      }\n    }\n    Object.keys(attributes).forEach((key) => {\n      parent.formatAt(index, length, key, attributes[key]);\n    });\n    return index + length;\n  }, index);\n}\n\nexport default Scroll;\n","import { Scope } from 'parchment';\nimport type Delta from 'quill-delta';\nimport Module from '../core/module.js';\nimport Quill from '../core/quill.js';\nimport type Scroll from '../blots/scroll.js';\nimport type { Range } from '../core/selection.js';\n\nexport interface HistoryOptions {\n  userOnly: boolean;\n  delay: number;\n  maxStack: number;\n}\n\nexport interface StackItem {\n  delta: Delta;\n  range: Range | null;\n}\n\ninterface Stack {\n  undo: StackItem[];\n  redo: StackItem[];\n}\n\nclass History extends Module<HistoryOptions> {\n  static DEFAULTS: HistoryOptions = {\n    delay: 1000,\n    maxStack: 100,\n    userOnly: false,\n  };\n\n  lastRecorded = 0;\n  ignoreChange = false;\n  stack: Stack = { undo: [], redo: [] };\n  currentRange: Range | null = null;\n\n  constructor(quill: Quill, options: Partial<HistoryOptions>) {\n    super(quill, options);\n    this.quill.on(\n      Quill.events.EDITOR_CHANGE,\n      (eventName, value, oldValue, source) => {\n        if (eventName === Quill.events.SELECTION_CHANGE) {\n          if (value && source !== Quill.sources.SILENT) {\n            this.currentRange = value;\n          }\n        } else if (eventName === Quill.events.TEXT_CHANGE) {\n          if (!this.ignoreChange) {\n            if (!this.options.userOnly || source === Quill.sources.USER) {\n              this.record(value, oldValue);\n            } else {\n              this.transform(value);\n            }\n          }\n\n          this.currentRange = transformRange(this.currentRange, value);\n        }\n      },\n    );\n\n    this.quill.keyboard.addBinding(\n      { key: 'z', shortKey: true },\n      this.undo.bind(this),\n    );\n    this.quill.keyboard.addBinding(\n      { key: ['z', 'Z'], shortKey: true, shiftKey: true },\n      this.redo.bind(this),\n    );\n    if (/Win/i.test(navigator.platform)) {\n      this.quill.keyboard.addBinding(\n        { key: 'y', shortKey: true },\n        this.redo.bind(this),\n      );\n    }\n\n    this.quill.root.addEventListener('beforeinput', (event) => {\n      if (event.inputType === 'historyUndo') {\n        this.undo();\n        event.preventDefault();\n      } else if (event.inputType === 'historyRedo') {\n        this.redo();\n        event.preventDefault();\n      }\n    });\n  }\n\n  change(source: 'undo' | 'redo', dest: 'redo' | 'undo') {\n    if (this.stack[source].length === 0) return;\n    const item = this.stack[source].pop();\n    if (!item) return;\n    const base = this.quill.getContents();\n    const inverseDelta = item.delta.invert(base);\n    this.stack[dest].push({\n      delta: inverseDelta,\n      range: transformRange(item.range, inverseDelta),\n    });\n    this.lastRecorded = 0;\n    this.ignoreChange = true;\n    this.quill.updateContents(item.delta, Quill.sources.USER);\n    this.ignoreChange = false;\n\n    this.restoreSelection(item);\n  }\n\n  clear() {\n    this.stack = { undo: [], redo: [] };\n  }\n\n  cutoff() {\n    this.lastRecorded = 0;\n  }\n\n  record(changeDelta: Delta, oldDelta: Delta) {\n    if (changeDelta.ops.length === 0) return;\n    this.stack.redo = [];\n    let undoDelta = changeDelta.invert(oldDelta);\n    let undoRange = this.currentRange;\n    const timestamp = Date.now();\n    if (\n      // @ts-expect-error Fix me later\n      this.lastRecorded + this.options.delay > timestamp &&\n      this.stack.undo.length > 0\n    ) {\n      const item = this.stack.undo.pop();\n      if (item) {\n        undoDelta = undoDelta.compose(item.delta);\n        undoRange = item.range;\n      }\n    } else {\n      this.lastRecorded = timestamp;\n    }\n    if (undoDelta.length() === 0) return;\n    this.stack.undo.push({ delta: undoDelta, range: undoRange });\n    // @ts-expect-error Fix me later\n    if (this.stack.undo.length > this.options.maxStack) {\n      this.stack.undo.shift();\n    }\n  }\n\n  redo() {\n    this.change('redo', 'undo');\n  }\n\n  transform(delta: Delta) {\n    transformStack(this.stack.undo, delta);\n    transformStack(this.stack.redo, delta);\n  }\n\n  undo() {\n    this.change('undo', 'redo');\n  }\n\n  protected restoreSelection(stackItem: StackItem) {\n    if (stackItem.range) {\n      this.quill.setSelection(stackItem.range, Quill.sources.USER);\n    } else {\n      const index = getLastChangeIndex(this.quill.scroll, stackItem.delta);\n      this.quill.setSelection(index, Quill.sources.USER);\n    }\n  }\n}\n\nfunction transformStack(stack: StackItem[], delta: Delta) {\n  let remoteDelta = delta;\n  for (let i = stack.length - 1; i >= 0; i -= 1) {\n    const oldItem = stack[i];\n    stack[i] = {\n      delta: remoteDelta.transform(oldItem.delta, true),\n      range: oldItem.range && transformRange(oldItem.range, remoteDelta),\n    };\n    remoteDelta = oldItem.delta.transform(remoteDelta);\n    if (stack[i].delta.length() === 0) {\n      stack.splice(i, 1);\n    }\n  }\n}\n\nfunction endsWithNewlineChange(scroll: Scroll, delta: Delta) {\n  const lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some((attr) => {\n      return scroll.query(attr, Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(scroll: Scroll, delta: Delta) {\n  const deleteLength = delta.reduce((length, op) => {\n    return length + (op.delete || 0);\n  }, 0);\n  let changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(scroll, delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nfunction transformRange(range: Range | null, delta: Delta) {\n  if (!range) return range;\n  const start = delta.transformPosition(range.index);\n  const end = delta.transformPosition(range.index + range.length);\n  return { index: start, length: end - start };\n}\n\nexport { History as default, getLastChangeIndex };\n","import Delta from 'quill-delta';\nimport type Quill from '../core/quill.js';\nimport Emitter from '../core/emitter.js';\nimport Module from '../core/module.js';\nimport type { Range } from '../core/selection.js';\n\ninterface UploaderOptions {\n  mimetypes: string[];\n  handler: (this: { quill: Quill }, range: Range, files: File[]) => void;\n}\n\nclass Uploader extends Module<UploaderOptions> {\n  static DEFAULTS: UploaderOptions;\n\n  constructor(quill: Quill, options: Partial<UploaderOptions>) {\n    super(quill, options);\n    quill.root.addEventListener('drop', (e) => {\n      e.preventDefault();\n      let native: ReturnType<typeof document.createRange> | null = null;\n      if (document.caretRangeFromPoint) {\n        native = document.caretRangeFromPoint(e.clientX, e.clientY);\n        // @ts-expect-error\n      } else if (document.caretPositionFromPoint) {\n        // @ts-expect-error\n        const position = document.caretPositionFromPoint(e.clientX, e.clientY);\n        native = document.createRange();\n        native.setStart(position.offsetNode, position.offset);\n        native.setEnd(position.offsetNode, position.offset);\n      }\n\n      const normalized = native && quill.selection.normalizeNative(native);\n      if (normalized) {\n        const range = quill.selection.normalizedToRange(normalized);\n        if (e.dataTransfer?.files) {\n          this.upload(range, e.dataTransfer.files);\n        }\n      }\n    });\n  }\n\n  upload(range: Range, files: FileList | File[]) {\n    const uploads: File[] = [];\n    Array.from(files).forEach((file) => {\n      if (file && this.options.mimetypes?.includes(file.type)) {\n        uploads.push(file);\n      }\n    });\n    if (uploads.length > 0) {\n      // @ts-expect-error Fix me later\n      this.options.handler.call(this, range, uploads);\n    }\n  }\n}\n\nUploader.DEFAULTS = {\n  mimetypes: ['image/png', 'image/jpeg'],\n  handler(range: Range, files: File[]) {\n    if (!this.quill.scroll.query('image')) {\n      return;\n    }\n    const promises = files.map<Promise<string>>((file) => {\n      return new Promise((resolve) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n          resolve(reader.result as string);\n        };\n        reader.readAsDataURL(file);\n      });\n    });\n    Promise.all(promises).then((images) => {\n      const update = images.reduce((delta: Delta, image) => {\n        return delta.insert({ image });\n      }, new Delta().retain(range.index).delete(range.length)) as Delta;\n      this.quill.updateContents(update, Emitter.sources.USER);\n      this.quill.setSelection(\n        range.index + images.length,\n        Emitter.sources.SILENT,\n      );\n    });\n  },\n};\n\nexport default Uploader;\n","import Delta from 'quill-delta';\nimport Module from '../core/module.js';\nimport Quill from '../core/quill.js';\nimport type { Range } from '../core/selection.js';\nimport { deleteRange } from './keyboard.js';\n\nconst INSERT_TYPES = ['insertText', 'insertReplacementText'];\n\nclass Input extends Module {\n  constructor(quill: Quill, options: Record<string, never>) {\n    super(quill, options);\n\n    quill.root.addEventListener('beforeinput', (event) => {\n      this.handleBeforeInput(event);\n    });\n\n    // Gboard with English input on Android triggers `compositionstart` sometimes even\n    // users are not going to type anything.\n    if (!/Android/i.test(navigator.userAgent)) {\n      quill.on(Quill.events.COMPOSITION_BEFORE_START, () => {\n        this.handleCompositionStart();\n      });\n    }\n  }\n\n  private deleteRange(range: Range) {\n    deleteRange({ range, quill: this.quill });\n  }\n\n  private replaceText(range: Range, text = '') {\n    if (range.length === 0) return false;\n\n    if (text) {\n      // Follow the native behavior that inherits the formats of the first character\n      const formats = this.quill.getFormat(range.index, 1);\n      this.deleteRange(range);\n      this.quill.updateContents(\n        new Delta().retain(range.index).insert(text, formats),\n        Quill.sources.USER,\n      );\n    } else {\n      this.deleteRange(range);\n    }\n\n    this.quill.setSelection(range.index + text.length, 0, Quill.sources.SILENT);\n    return true;\n  }\n\n  private handleBeforeInput(event: InputEvent) {\n    if (\n      this.quill.composition.isComposing ||\n      event.defaultPrevented ||\n      !INSERT_TYPES.includes(event.inputType)\n    ) {\n      return;\n    }\n\n    const staticRange = event.getTargetRanges\n      ? event.getTargetRanges()[0]\n      : null;\n    if (!staticRange || staticRange.collapsed === true) {\n      return;\n    }\n\n    const text = getPlainTextFromInputEvent(event);\n    if (text == null) {\n      return;\n    }\n    const normalized = this.quill.selection.normalizeNative(staticRange);\n    const range = normalized\n      ? this.quill.selection.normalizedToRange(normalized)\n      : null;\n    if (range && this.replaceText(range, text)) {\n      event.preventDefault();\n    }\n  }\n\n  private handleCompositionStart() {\n    const range = this.quill.getSelection();\n    if (range) {\n      this.replaceText(range);\n    }\n  }\n}\n\nfunction getPlainTextFromInputEvent(event: InputEvent) {\n  // When `inputType` is \"insertText\":\n  // - `event.data` should be string (Safari uses `event.dataTransfer`).\n  // - `event.dataTransfer` should be null.\n  // When `inputType` is \"insertReplacementText\":\n  // - `event.data` should be null.\n  // - `event.dataTransfer` should contain \"text/plain\" data.\n\n  if (typeof event.data === 'string') {\n    return event.data;\n  }\n  if (event.dataTransfer?.types.includes('text/plain')) {\n    return event.dataTransfer.getData('text/plain');\n  }\n  return null;\n}\n\nexport default Input;\n","import { ParentBlot } from 'parchment';\nimport Module from '../core/module.js';\nimport Quill from '../core/quill.js';\n\nconst isMac = /Mac/i.test(navigator.platform);\n\n// Export for testing\nexport const TTL_FOR_VALID_SELECTION_CHANGE = 100;\n\n// A loose check to determine if the shortcut can move the caret before a UI node:\n// <ANY_PARENT>[CARET]<div class=\"ql-ui\"></div>[CONTENT]</ANY_PARENT>\nconst canMoveCaretBeforeUINode = (event: KeyboardEvent) => {\n  if (\n    event.key === 'ArrowLeft' ||\n    event.key === 'ArrowRight' || // RTL scripts or moving from the end of the previous line\n    event.key === 'ArrowUp' ||\n    event.key === 'ArrowDown' ||\n    event.key === 'Home'\n  ) {\n    return true;\n  }\n\n  if (isMac && event.key === 'a' && event.ctrlKey === true) {\n    return true;\n  }\n\n  return false;\n};\n\nclass UINode extends Module {\n  isListening = false;\n  selectionChangeDeadline = 0;\n\n  constructor(quill: Quill, options: Record<string, never>) {\n    super(quill, options);\n\n    this.handleArrowKeys();\n    this.handleNavigationShortcuts();\n  }\n\n  private handleArrowKeys() {\n    this.quill.keyboard.addBinding({\n      key: ['ArrowLeft', 'ArrowRight'],\n      offset: 0,\n      shiftKey: null,\n      handler(range, { line, event }) {\n        if (!(line instanceof ParentBlot) || !line.uiNode) {\n          return true;\n        }\n\n        const isRTL = getComputedStyle(line.domNode)['direction'] === 'rtl';\n        if (\n          (isRTL && event.key !== 'ArrowRight') ||\n          (!isRTL && event.key !== 'ArrowLeft')\n        ) {\n          return true;\n        }\n\n        this.quill.setSelection(\n          range.index - 1,\n          range.length + (event.shiftKey ? 1 : 0),\n          Quill.sources.USER,\n        );\n        return false;\n      },\n    });\n  }\n\n  private handleNavigationShortcuts() {\n    this.quill.root.addEventListener('keydown', (event) => {\n      if (!event.defaultPrevented && canMoveCaretBeforeUINode(event)) {\n        this.ensureListeningToSelectionChange();\n      }\n    });\n  }\n\n  /**\n   * We only listen to the `selectionchange` event when\n   * there is an intention of moving the caret to the beginning using shortcuts.\n   * This is primarily implemented to prevent infinite loops, as we are changing\n   * the selection within the handler of a `selectionchange` event.\n   */\n  private ensureListeningToSelectionChange() {\n    this.selectionChangeDeadline = Date.now() + TTL_FOR_VALID_SELECTION_CHANGE;\n\n    if (this.isListening) return;\n    this.isListening = true;\n\n    const listener = () => {\n      this.isListening = false;\n\n      if (Date.now() <= this.selectionChangeDeadline) {\n        this.handleSelectionChange();\n      }\n    };\n\n    document.addEventListener('selectionchange', listener, {\n      once: true,\n    });\n  }\n\n  private handleSelectionChange() {\n    const selection = document.getSelection();\n    if (!selection) return;\n    const range = selection.getRangeAt(0);\n    if (range.collapsed !== true || range.startOffset !== 0) return;\n\n    const line = this.quill.scroll.find(range.startContainer);\n    if (!(line instanceof ParentBlot) || !line.uiNode) return;\n\n    const newRange = document.createRange();\n    newRange.setStartAfter(line.uiNode);\n    newRange.setEndAfter(line.uiNode);\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n}\n\nexport default UINode;\n","import Quill, { Parchment, Range } from './core/quill.js';\nimport type {\n  Bounds,\n  DebugLevel,\n  EmitterSource,\n  ExpandedQuillOptions,\n  QuillOptions,\n} from './core/quill.js';\n\nimport Block, { BlockEmbed } from './blots/block.js';\nimport Break from './blots/break.js';\nimport Container from './blots/container.js';\nimport Cursor from './blots/cursor.js';\nimport Embed from './blots/embed.js';\nimport Inline from './blots/inline.js';\nimport Scroll from './blots/scroll.js';\nimport TextBlot from './blots/text.js';\n\nimport Clipboard from './modules/clipboard.js';\nimport History from './modules/history.js';\nimport Keyboard from './modules/keyboard.js';\nimport Uploader from './modules/uploader.js';\nimport Delta, { Op, OpIterator, AttributeMap } from 'quill-delta';\nimport Input from './modules/input.js';\nimport UINode from './modules/uiNode.js';\n\nexport { default as Module } from './core/module.js';\nexport { Delta, Op, OpIterator, AttributeMap, Parchment, Range };\nexport type {\n  Bounds,\n  DebugLevel,\n  EmitterSource,\n  ExpandedQuillOptions,\n  QuillOptions,\n};\n\nQuill.register({\n  'blots/block': Block,\n  'blots/block/embed': BlockEmbed,\n  'blots/break': Break,\n  'blots/container': Container,\n  'blots/cursor': Cursor,\n  'blots/embed': Embed,\n  'blots/inline': Inline,\n  'blots/scroll': Scroll,\n  'blots/text': TextBlot,\n\n  'modules/clipboard': Clipboard,\n  'modules/history': History,\n  'modules/keyboard': Keyboard,\n  'modules/uploader': Uploader,\n  'modules/input': Input,\n  'modules/uiNode': UINode,\n});\n\nexport default Quill;\n","import { EventEmitter } from 'eventemitter3';\nimport instances from './instances.js';\nimport logger from './logger.js';\n\nconst debug = logger('quill:events');\nconst EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach((eventName) => {\n  document.addEventListener(eventName, (...args) => {\n    Array.from(document.querySelectorAll('.ql-container')).forEach((node) => {\n      const quill = instances.get(node);\n      if (quill && quill.emitter) {\n        quill.emitter.handleDOM(...args);\n      }\n    });\n  });\n});\n\nclass Emitter extends EventEmitter<string> {\n  static events = {\n    EDITOR_CHANGE: 'editor-change',\n    SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n    SCROLL_BLOT_MOUNT: 'scroll-blot-mount',\n    SCROLL_BLOT_UNMOUNT: 'scroll-blot-unmount',\n    SCROLL_OPTIMIZE: 'scroll-optimize',\n    SCROLL_UPDATE: 'scroll-update',\n    SCROLL_EMBED_UPDATE: 'scroll-embed-update',\n    SELECTION_CHANGE: 'selection-change',\n    TEXT_CHANGE: 'text-change',\n    COMPOSITION_BEFORE_START: 'composition-before-start',\n    COMPOSITION_START: 'composition-start',\n    COMPOSITION_BEFORE_END: 'composition-before-end',\n    COMPOSITION_END: 'composition-end',\n  } as const;\n\n  static sources = {\n    API: 'api',\n    SILENT: 'silent',\n    USER: 'user',\n  } as const;\n\n  protected domListeners: Record<string, { node: Node; handler: Function }[]>;\n\n  constructor() {\n    super();\n    this.domListeners = {};\n    this.on('error', debug.error);\n  }\n\n  emit(...args: unknown[]): boolean {\n    debug.log.call(debug, ...args);\n    // @ts-expect-error\n    return super.emit(...args);\n  }\n\n  handleDOM(event: Event, ...args: unknown[]) {\n    (this.domListeners[event.type] || []).forEach(({ node, handler }) => {\n      if (event.target === node || node.contains(event.target as Node)) {\n        handler(event, ...args);\n      }\n    });\n  }\n\n  listenDOM(eventName: string, node: Node, handler: EventListener) {\n    if (!this.domListeners[eventName]) {\n      this.domListeners[eventName] = [];\n    }\n    this.domListeners[eventName].push({ node, handler });\n  }\n}\n\nexport type EmitterSource =\n  (typeof Emitter.sources)[keyof typeof Emitter.sources];\n\nexport default Emitter;\n","import type Quill from '../core.js';\n\nexport default new WeakMap<Node, Quill>();\n","const levels = ['error', 'warn', 'log', 'info'] as const;\nexport type DebugLevel = (typeof levels)[number];\nlet level: DebugLevel | false = 'warn';\n\nfunction debug(method: DebugLevel, ...args: unknown[]) {\n  if (level) {\n    if (levels.indexOf(method) <= levels.indexOf(level)) {\n      console[method](...args); // eslint-disable-line no-console\n    }\n  }\n}\n\nfunction namespace(\n  ns: string,\n): Record<DebugLevel, (...args: unknown[]) => void> {\n  return levels.reduce(\n    (logger, method) => {\n      logger[method] = debug.bind(console, method, ns);\n      return logger;\n    },\n    {} as Record<DebugLevel, (...args: unknown[]) => void>,\n  );\n}\n\nnamespace.level = (newLevel: DebugLevel | false) => {\n  level = newLevel;\n};\ndebug.level = namespace.level;\n\nexport default namespace;\n","import type Quill from './quill.js';\n\nabstract class Module<T extends {} = {}> {\n  static DEFAULTS = {};\n\n  constructor(\n    public quill: Quill,\n    protected options: Partial<T> = {},\n  ) {}\n}\n\nexport default Module;\n","import { cloneDeep, isEqual, merge } from 'lodash-es';\nimport { LeafBlot, EmbedBlot, Scope, ParentBlot } from 'parchment';\nimport type { Blot } from 'parchment';\nimport Delta, { AttributeMap, Op } from 'quill-delta';\nimport Block, { BlockEmbed, bubbleFormats } from '../blots/block.js';\nimport Break from '../blots/break.js';\nimport CursorBlot from '../blots/cursor.js';\nimport type Scroll from '../blots/scroll.js';\nimport TextBlot, { escapeText } from '../blots/text.js';\nimport { Range } from './selection.js';\n\nconst ASCII = /^[ -~]*$/;\n\ntype SelectionInfo = {\n  newRange: Range;\n  oldRange: Range;\n};\n\nclass Editor {\n  scroll: Scroll;\n  delta: Delta;\n\n  constructor(scroll: Scroll) {\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  applyDelta(delta: Delta): Delta {\n    this.scroll.update();\n    let scrollLength = this.scroll.length();\n    this.scroll.batchStart();\n    const normalizedDelta = normalizeDelta(delta);\n    const deleteDelta = new Delta();\n    const normalizedOps = splitOpLines(normalizedDelta.ops.slice());\n    normalizedOps.reduce((index, op) => {\n      const length = Op.length(op);\n      let attributes = op.attributes || {};\n      let isImplicitNewlinePrepended = false;\n      let isImplicitNewlineAppended = false;\n      if (op.insert != null) {\n        deleteDelta.retain(length);\n        if (typeof op.insert === 'string') {\n          const text = op.insert;\n          isImplicitNewlineAppended =\n            !text.endsWith('\\n') &&\n            (scrollLength <= index ||\n              !!this.scroll.descendant(BlockEmbed, index)[0]);\n          this.scroll.insertAt(index, text);\n          const [line, offset] = this.scroll.line(index);\n          let formats = merge({}, bubbleFormats(line));\n          if (line instanceof Block) {\n            const [leaf] = line.descendant(LeafBlot, offset);\n            if (leaf) {\n              formats = merge(formats, bubbleFormats(leaf));\n            }\n          }\n          attributes = AttributeMap.diff(formats, attributes) || {};\n        } else if (typeof op.insert === 'object') {\n          const key = Object.keys(op.insert)[0]; // There should only be one key\n          if (key == null) return index;\n          const isInlineEmbed = this.scroll.query(key, Scope.INLINE) != null;\n          if (isInlineEmbed) {\n            if (\n              scrollLength <= index ||\n              !!this.scroll.descendant(BlockEmbed, index)[0]\n            ) {\n              isImplicitNewlineAppended = true;\n            }\n          } else if (index > 0) {\n            const [leaf, offset] = this.scroll.descendant(LeafBlot, index - 1);\n            if (leaf instanceof TextBlot) {\n              const text = leaf.value();\n              if (text[offset] !== '\\n') {\n                isImplicitNewlinePrepended = true;\n              }\n            } else if (\n              leaf instanceof EmbedBlot &&\n              leaf.statics.scope === Scope.INLINE_BLOT\n            ) {\n              isImplicitNewlinePrepended = true;\n            }\n          }\n          this.scroll.insertAt(index, key, op.insert[key]);\n\n          if (isInlineEmbed) {\n            const [leaf] = this.scroll.descendant(LeafBlot, index);\n            if (leaf) {\n              const formats = merge({}, bubbleFormats(leaf));\n              attributes = AttributeMap.diff(formats, attributes) || {};\n            }\n          }\n        }\n        scrollLength += length;\n      } else {\n        deleteDelta.push(op);\n\n        if (op.retain !== null && typeof op.retain === 'object') {\n          const key = Object.keys(op.retain)[0];\n          if (key == null) return index;\n          this.scroll.updateEmbedAt(index, key, op.retain[key]);\n        }\n      }\n      Object.keys(attributes).forEach((name) => {\n        this.scroll.formatAt(index, length, name, attributes[name]);\n      });\n      const prependedLength = isImplicitNewlinePrepended ? 1 : 0;\n      const addedLength = isImplicitNewlineAppended ? 1 : 0;\n      scrollLength += prependedLength + addedLength;\n      deleteDelta.retain(prependedLength);\n      deleteDelta.delete(addedLength);\n      return index + length + prependedLength + addedLength;\n    }, 0);\n    deleteDelta.reduce((index, op) => {\n      if (typeof op.delete === 'number') {\n        this.scroll.deleteAt(index, op.delete);\n        return index;\n      }\n      return index + Op.length(op);\n    }, 0);\n    this.scroll.batchEnd();\n    this.scroll.optimize();\n    return this.update(normalizedDelta);\n  }\n\n  deleteText(index: number, length: number): Delta {\n    this.scroll.deleteAt(index, length);\n    return this.update(new Delta().retain(index).delete(length));\n  }\n\n  formatLine(\n    index: number,\n    length: number,\n    formats: Record<string, unknown> = {},\n  ): Delta {\n    this.scroll.update();\n    Object.keys(formats).forEach((format) => {\n      this.scroll.lines(index, Math.max(length, 1)).forEach((line) => {\n        line.format(format, formats[format]);\n      });\n    });\n    this.scroll.optimize();\n    const delta = new Delta().retain(index).retain(length, cloneDeep(formats));\n    return this.update(delta);\n  }\n\n  formatText(\n    index: number,\n    length: number,\n    formats: Record<string, unknown> = {},\n  ): Delta {\n    Object.keys(formats).forEach((format) => {\n      this.scroll.formatAt(index, length, format, formats[format]);\n    });\n    const delta = new Delta().retain(index).retain(length, cloneDeep(formats));\n    return this.update(delta);\n  }\n\n  getContents(index: number, length: number): Delta {\n    return this.delta.slice(index, index + length);\n  }\n\n  getDelta(): Delta {\n    return this.scroll.lines().reduce((delta, line) => {\n      return delta.concat(line.delta());\n    }, new Delta());\n  }\n\n  getFormat(index: number, length = 0): Record<string, unknown> {\n    let lines: (Block | BlockEmbed)[] = [];\n    let leaves: LeafBlot[] = [];\n    if (length === 0) {\n      this.scroll.path(index).forEach((path) => {\n        const [blot] = path;\n        if (blot instanceof Block) {\n          lines.push(blot);\n        } else if (blot instanceof LeafBlot) {\n          leaves.push(blot);\n        }\n      });\n    } else {\n      lines = this.scroll.lines(index, length);\n      leaves = this.scroll.descendants(LeafBlot, index, length);\n    }\n    const [lineFormats, leafFormats] = [lines, leaves].map((blots) => {\n      const blot = blots.shift();\n      if (blot == null) return {};\n      let formats = bubbleFormats(blot);\n      while (Object.keys(formats).length > 0) {\n        const blot = blots.shift();\n        if (blot == null) return formats;\n        formats = combineFormats(bubbleFormats(blot), formats);\n      }\n      return formats;\n    });\n    return { ...lineFormats, ...leafFormats };\n  }\n\n  getHTML(index: number, length: number): string {\n    const [line, lineOffset] = this.scroll.line(index);\n    if (line) {\n      const lineLength = line.length();\n      const isWithinLine = line.length() >= lineOffset + length;\n      if (isWithinLine && !(lineOffset === 0 && length === lineLength)) {\n        return convertHTML(line, lineOffset, length, true);\n      }\n      return convertHTML(this.scroll, index, length, true);\n    }\n    return '';\n  }\n\n  getText(index: number, length: number): string {\n    return this.getContents(index, length)\n      .filter((op) => typeof op.insert === 'string')\n      .map((op) => op.insert)\n      .join('');\n  }\n\n  insertContents(index: number, contents: Delta): Delta {\n    const normalizedDelta = normalizeDelta(contents);\n    const change = new Delta().retain(index).concat(normalizedDelta);\n    this.scroll.insertContents(index, normalizedDelta);\n    return this.update(change);\n  }\n\n  insertEmbed(index: number, embed: string, value: unknown): Delta {\n    this.scroll.insertAt(index, embed, value);\n    return this.update(new Delta().retain(index).insert({ [embed]: value }));\n  }\n\n  insertText(\n    index: number,\n    text: string,\n    formats: Record<string, unknown> = {},\n  ): Delta {\n    text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n    this.scroll.insertAt(index, text);\n    Object.keys(formats).forEach((format) => {\n      this.scroll.formatAt(index, text.length, format, formats[format]);\n    });\n    return this.update(\n      new Delta().retain(index).insert(text, cloneDeep(formats)),\n    );\n  }\n\n  isBlank(): boolean {\n    if (this.scroll.children.length === 0) return true;\n    if (this.scroll.children.length > 1) return false;\n    const blot = this.scroll.children.head;\n    if (blot?.statics.blotName !== Block.blotName) return false;\n    const block = blot as Block;\n    if (block.children.length > 1) return false;\n    return block.children.head instanceof Break;\n  }\n\n  removeFormat(index: number, length: number): Delta {\n    const text = this.getText(index, length);\n    const [line, offset] = this.scroll.line(index + length);\n    let suffixLength = 0;\n    let suffix = new Delta();\n    if (line != null) {\n      suffixLength = line.length() - offset;\n      suffix = line\n        .delta()\n        .slice(offset, offset + suffixLength - 1)\n        .insert('\\n');\n    }\n    const contents = this.getContents(index, length + suffixLength);\n    const diff = contents.diff(new Delta().insert(text).concat(suffix));\n    const delta = new Delta().retain(index).concat(diff);\n    return this.applyDelta(delta);\n  }\n\n  update(\n    change: Delta | null,\n    mutations: MutationRecord[] = [],\n    selectionInfo: SelectionInfo | undefined = undefined,\n  ): Delta {\n    const oldDelta = this.delta;\n    if (\n      mutations.length === 1 &&\n      mutations[0].type === 'characterData' &&\n      // @ts-expect-error Fix me later\n      mutations[0].target.data.match(ASCII) &&\n      this.scroll.find(mutations[0].target)\n    ) {\n      // Optimization for character changes\n      const textBlot = this.scroll.find(mutations[0].target) as Blot;\n      const formats = bubbleFormats(textBlot);\n      const index = textBlot.offset(this.scroll);\n      // @ts-expect-error Fix me later\n      const oldValue = mutations[0].oldValue.replace(CursorBlot.CONTENTS, '');\n      const oldText = new Delta().insert(oldValue);\n      // @ts-expect-error\n      const newText = new Delta().insert(textBlot.value());\n      const relativeSelectionInfo = selectionInfo && {\n        oldRange: shiftRange(selectionInfo.oldRange, -index),\n        newRange: shiftRange(selectionInfo.newRange, -index),\n      };\n      const diffDelta = new Delta()\n        .retain(index)\n        .concat(oldText.diff(newText, relativeSelectionInfo));\n      change = diffDelta.reduce((delta, op) => {\n        if (op.insert) {\n          return delta.insert(op.insert, formats);\n        }\n        return delta.push(op);\n      }, new Delta());\n      this.delta = oldDelta.compose(change);\n    } else {\n      this.delta = this.getDelta();\n      if (!change || !isEqual(oldDelta.compose(change), this.delta)) {\n        change = oldDelta.diff(this.delta, selectionInfo);\n      }\n    }\n    return change;\n  }\n}\n\ninterface ListItem {\n  child: Blot;\n  offset: number;\n  length: number;\n  indent: number;\n  type: string;\n}\nfunction convertListHTML(\n  items: ListItem[],\n  lastIndent: number,\n  types: string[],\n): string {\n  if (items.length === 0) {\n    const [endTag] = getListType(types.pop());\n    if (lastIndent <= 0) {\n      return `</li></${endTag}>`;\n    }\n    return `</li></${endTag}>${convertListHTML([], lastIndent - 1, types)}`;\n  }\n  const [{ child, offset, length, indent, type }, ...rest] = items;\n  const [tag, attribute] = getListType(type);\n  if (indent > lastIndent) {\n    types.push(type);\n    if (indent === lastIndent + 1) {\n      return `<${tag}><li${attribute}>${convertHTML(\n        child,\n        offset,\n        length,\n      )}${convertListHTML(rest, indent, types)}`;\n    }\n    return `<${tag}><li>${convertListHTML(items, lastIndent + 1, types)}`;\n  }\n  const previousType = types[types.length - 1];\n  if (indent === lastIndent && type === previousType) {\n    return `</li><li${attribute}>${convertHTML(\n      child,\n      offset,\n      length,\n    )}${convertListHTML(rest, indent, types)}`;\n  }\n  const [endTag] = getListType(types.pop());\n  return `</li></${endTag}>${convertListHTML(items, lastIndent - 1, types)}`;\n}\n\nfunction convertHTML(\n  blot: Blot,\n  index: number,\n  length: number,\n  isRoot = false,\n): string {\n  if ('html' in blot && typeof blot.html === 'function') {\n    return blot.html(index, length);\n  }\n  if (blot instanceof TextBlot) {\n    return escapeText(blot.value().slice(index, index + length));\n  }\n  if (blot instanceof ParentBlot) {\n    // TODO fix API\n    if (blot.statics.blotName === 'list-container') {\n      const items: any[] = [];\n      blot.children.forEachAt(index, length, (child, offset, childLength) => {\n        const formats =\n          'formats' in child && typeof child.formats === 'function'\n            ? child.formats()\n            : {};\n        items.push({\n          child,\n          offset,\n          length: childLength,\n          indent: formats.indent || 0,\n          type: formats.list,\n        });\n      });\n      return convertListHTML(items, -1, []);\n    }\n    const parts: string[] = [];\n    blot.children.forEachAt(index, length, (child, offset, childLength) => {\n      parts.push(convertHTML(child, offset, childLength));\n    });\n    if (isRoot || blot.statics.blotName === 'list') {\n      return parts.join('');\n    }\n    const { outerHTML, innerHTML } = blot.domNode as Element;\n    const [start, end] = outerHTML.split(`>${innerHTML}<`);\n    // TODO cleanup\n    if (start === '<table') {\n      return `<table style=\"border: 1px solid #000;\">${parts.join('')}<${end}`;\n    }\n    return `${start}>${parts.join('')}<${end}`;\n  }\n  return blot.domNode instanceof Element ? blot.domNode.outerHTML : '';\n}\n\nfunction combineFormats(\n  formats: Record<string, unknown>,\n  combined: Record<string, unknown>,\n): Record<string, unknown> {\n  return Object.keys(combined).reduce(\n    (merged, name) => {\n      if (formats[name] == null) return merged;\n      const combinedValue = combined[name];\n      if (combinedValue === formats[name]) {\n        merged[name] = combinedValue;\n      } else if (Array.isArray(combinedValue)) {\n        if (combinedValue.indexOf(formats[name]) < 0) {\n          merged[name] = combinedValue.concat([formats[name]]);\n        } else {\n          // If style already exists, don't add to an array, but don't lose other styles\n          merged[name] = combinedValue;\n        }\n      } else {\n        merged[name] = [combinedValue, formats[name]];\n      }\n      return merged;\n    },\n    {} as Record<string, unknown>,\n  );\n}\n\nfunction getListType(type: string | undefined) {\n  const tag = type === 'ordered' ? 'ol' : 'ul';\n  switch (type) {\n    case 'checked':\n      return [tag, ' data-list=\"checked\"'];\n    case 'unchecked':\n      return [tag, ' data-list=\"unchecked\"'];\n    default:\n      return [tag, ''];\n  }\n}\n\nfunction normalizeDelta(delta: Delta) {\n  return delta.reduce((normalizedDelta, op) => {\n    if (typeof op.insert === 'string') {\n      const text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return normalizedDelta.insert(text, op.attributes);\n    }\n    return normalizedDelta.push(op);\n  }, new Delta());\n}\n\nfunction shiftRange({ index, length }: Range, amount: number) {\n  return new Range(index + amount, length);\n}\n\nfunction splitOpLines(ops: Op[]) {\n  const split: Op[] = [];\n  ops.forEach((op) => {\n    if (typeof op.insert === 'string') {\n      const lines = op.insert.split('\\n');\n      lines.forEach((line, index) => {\n        if (index) split.push({ insert: '\\n', attributes: op.attributes });\n        if (line) split.push({ insert: line, attributes: op.attributes });\n      });\n    } else {\n      split.push(op);\n    }\n  });\n\n  return split;\n}\n\nexport default Editor;\n","import Embed from '../blots/embed.js';\nimport type Scroll from '../blots/scroll.js';\nimport Emitter from './emitter.js';\n\nclass Composition {\n  isComposing = false;\n\n  constructor(\n    private scroll: Scroll,\n    private emitter: Emitter,\n  ) {\n    this.setupListeners();\n  }\n\n  private setupListeners() {\n    this.scroll.domNode.addEventListener('compositionstart', (event) => {\n      if (!this.isComposing) {\n        this.handleCompositionStart(event);\n      }\n    });\n\n    this.scroll.domNode.addEventListener('compositionend', (event) => {\n      if (this.isComposing) {\n        // Webkit makes DOM changes after compositionend, so we use microtask to\n        // ensure the order.\n        // https://bugs.webkit.org/show_bug.cgi?id=31902\n        queueMicrotask(() => {\n          this.handleCompositionEnd(event);\n        });\n      }\n    });\n  }\n\n  private handleCompositionStart(event: CompositionEvent) {\n    const blot =\n      event.target instanceof Node\n        ? this.scroll.find(event.target, true)\n        : null;\n\n    if (blot && !(blot instanceof Embed)) {\n      this.emitter.emit(Emitter.events.COMPOSITION_BEFORE_START, event);\n      this.scroll.batchStart();\n      this.emitter.emit(Emitter.events.COMPOSITION_START, event);\n      this.isComposing = true;\n    }\n  }\n\n  private handleCompositionEnd(event: CompositionEvent) {\n    this.emitter.emit(Emitter.events.COMPOSITION_BEFORE_END, event);\n    this.scroll.batchEnd();\n    this.emitter.emit(Emitter.events.COMPOSITION_END, event);\n    this.isComposing = false;\n  }\n}\n\nexport default Composition;\n","export type Rect = {\n  top: number;\n  right: number;\n  bottom: number;\n  left: number;\n};\n\nconst getParentElement = (element: Node): Element | null =>\n  element.parentElement || (element.getRootNode() as ShadowRoot).host || null;\n\nconst getElementRect = (element: Element): Rect => {\n  const rect = element.getBoundingClientRect();\n  const scaleX =\n    ('offsetWidth' in element &&\n      Math.abs(rect.width) / (element as HTMLElement).offsetWidth) ||\n    1;\n  const scaleY =\n    ('offsetHeight' in element &&\n      Math.abs(rect.height) / (element as HTMLElement).offsetHeight) ||\n    1;\n  return {\n    top: rect.top,\n    right: rect.left + element.clientWidth * scaleX,\n    bottom: rect.top + element.clientHeight * scaleY,\n    left: rect.left,\n  };\n};\n\nconst paddingValueToInt = (value: string) => {\n  const number = parseInt(value, 10);\n  return Number.isNaN(number) ? 0 : number;\n};\n\n// Follow the steps described in https://www.w3.org/TR/cssom-view-1/#element-scrolling-members,\n// assuming that the scroll option is set to 'nearest'.\nconst getScrollDistance = (\n  targetStart: number,\n  targetEnd: number,\n  scrollStart: number,\n  scrollEnd: number,\n  scrollPaddingStart: number,\n  scrollPaddingEnd: number,\n) => {\n  if (targetStart < scrollStart && targetEnd > scrollEnd) {\n    return 0;\n  }\n\n  if (targetStart < scrollStart) {\n    return -(scrollStart - targetStart + scrollPaddingStart);\n  }\n\n  if (targetEnd > scrollEnd) {\n    return targetEnd - targetStart > scrollEnd - scrollStart\n      ? targetStart + scrollPaddingStart - scrollStart\n      : targetEnd - scrollEnd + scrollPaddingEnd;\n  }\n  return 0;\n};\n\nconst scrollRectIntoView = (root: HTMLElement, targetRect: Rect) => {\n  const document = root.ownerDocument;\n\n  let rect = targetRect;\n\n  let current: Element | null = root;\n  while (current) {\n    const isDocumentBody: boolean = current === document.body;\n    const bounding = isDocumentBody\n      ? {\n          top: 0,\n          right:\n            window.visualViewport?.width ??\n            document.documentElement.clientWidth,\n          bottom:\n            window.visualViewport?.height ??\n            document.documentElement.clientHeight,\n          left: 0,\n        }\n      : getElementRect(current);\n\n    const style = getComputedStyle(current);\n    const scrollDistanceX = getScrollDistance(\n      rect.left,\n      rect.right,\n      bounding.left,\n      bounding.right,\n      paddingValueToInt(style.scrollPaddingLeft),\n      paddingValueToInt(style.scrollPaddingRight),\n    );\n    const scrollDistanceY = getScrollDistance(\n      rect.top,\n      rect.bottom,\n      bounding.top,\n      bounding.bottom,\n      paddingValueToInt(style.scrollPaddingTop),\n      paddingValueToInt(style.scrollPaddingBottom),\n    );\n    if (scrollDistanceX || scrollDistanceY) {\n      if (isDocumentBody) {\n        document.defaultView?.scrollBy(scrollDistanceX, scrollDistanceY);\n      } else {\n        const { scrollLeft, scrollTop } = current;\n        if (scrollDistanceY) {\n          current.scrollTop += scrollDistanceY;\n        }\n        if (scrollDistanceX) {\n          current.scrollLeft += scrollDistanceX;\n        }\n        const scrolledLeft = current.scrollLeft - scrollLeft;\n        const scrolledTop = current.scrollTop - scrollTop;\n        rect = {\n          left: rect.left - scrolledLeft,\n          top: rect.top - scrolledTop,\n          right: rect.right - scrolledLeft,\n          bottom: rect.bottom - scrolledTop,\n        };\n      }\n    }\n\n    current =\n      isDocumentBody || style.position === 'fixed'\n        ? null\n        : getParentElement(current);\n  }\n};\n\nexport default scrollRectIntoView;\n","import { Registry } from 'parchment';\n\nconst MAX_REGISTER_ITERATIONS = 100;\nconst CORE_FORMATS = ['block', 'break', 'cursor', 'inline', 'scroll', 'text'];\n\nconst createRegistryWithFormats = (\n  formats: string[],\n  sourceRegistry: Registry,\n  debug: { error: (errorMessage: string) => void },\n) => {\n  const registry = new Registry();\n  CORE_FORMATS.forEach((name) => {\n    const coreBlot = sourceRegistry.query(name);\n    if (coreBlot) registry.register(coreBlot);\n  });\n\n  formats.forEach((name) => {\n    let format = sourceRegistry.query(name);\n    if (!format) {\n      debug.error(\n        `Cannot register \"${name}\" specified in \"formats\" config. Are you sure it was registered?`,\n      );\n    }\n    let iterations = 0;\n    while (format) {\n      registry.register(format);\n      format = 'blotName' in format ? format.requiredContainer ?? null : null;\n\n      iterations += 1;\n      if (iterations > MAX_REGISTER_ITERATIONS) {\n        debug.error(\n          `Cycle detected in registering blot requiredContainer: \"${name}\"`,\n        );\n        break;\n      }\n    }\n  });\n\n  return registry;\n};\n\nexport default createRegistryWithFormats;\n","import { merge } from 'lodash-es';\nimport * as Parchment from 'parchment';\nimport type { Op } from 'quill-delta';\nimport Delta from 'quill-delta';\nimport type { BlockEmbed } from '../blots/block.js';\nimport type Block from '../blots/block.js';\nimport type Scroll from '../blots/scroll.js';\nimport type Clipboard from '../modules/clipboard.js';\nimport type History from '../modules/history.js';\nimport type Keyboard from '../modules/keyboard.js';\nimport type Uploader from '../modules/uploader.js';\nimport Editor from './editor.js';\nimport Emitter from './emitter.js';\nimport type { EmitterSource } from './emitter.js';\nimport instances from './instances.js';\nimport logger from './logger.js';\nimport type { DebugLevel } from './logger.js';\nimport Module from './module.js';\nimport Selection, { Range } from './selection.js';\nimport type { Bounds } from './selection.js';\nimport Composition from './composition.js';\nimport Theme from './theme.js';\nimport type { ThemeConstructor } from './theme.js';\nimport scrollRectIntoView from './utils/scrollRectIntoView.js';\nimport type { Rect } from './utils/scrollRectIntoView.js';\nimport createRegistryWithFormats from './utils/createRegistryWithFormats.js';\n\nconst debug = logger('quill');\n\nconst globalRegistry = new Parchment.Registry();\nParchment.ParentBlot.uiClass = 'ql-ui';\n\n/**\n * Options for initializing a Quill instance\n */\nexport interface QuillOptions {\n  theme?: string;\n  debug?: DebugLevel | boolean;\n  registry?: Parchment.Registry;\n  /**\n   * Whether to disable the editing\n   * @default false\n   */\n  readOnly?: boolean;\n\n  /**\n   * Placeholder text to display when the editor is empty\n   * @default \"\"\n   */\n  placeholder?: string;\n  bounds?: HTMLElement | string | null;\n  modules?: Record<string, unknown>;\n\n  /**\n   * A list of formats that are recognized and can exist within the editor contents.\n   * `null` means all formats are allowed.\n   * @default null\n   */\n  formats?: string[] | null;\n}\n\n/**\n * Similar to QuillOptions, but with all properties expanded to their default values,\n * and all selectors resolved to HTMLElements.\n */\nexport interface ExpandedQuillOptions\n  extends Omit<QuillOptions, 'theme' | 'formats'> {\n  theme: ThemeConstructor;\n  registry: Parchment.Registry;\n  container: HTMLElement;\n  modules: Record<string, unknown>;\n  bounds?: HTMLElement | null;\n  readOnly: boolean;\n}\n\nclass Quill {\n  static DEFAULTS = {\n    bounds: null,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true,\n      uploader: true,\n    },\n    placeholder: '',\n    readOnly: false,\n    registry: globalRegistry,\n    theme: 'default',\n  } satisfies Partial<QuillOptions>;\n  static events = Emitter.events;\n  static sources = Emitter.sources;\n  static version = typeof QUILL_VERSION === 'undefined' ? 'dev' : QUILL_VERSION;\n\n  static imports: Record<string, unknown> = {\n    delta: Delta,\n    parchment: Parchment,\n    'core/module': Module,\n    'core/theme': Theme,\n  };\n\n  static debug(limit: DebugLevel | boolean) {\n    if (limit === true) {\n      limit = 'log';\n    }\n    logger.level(limit);\n  }\n\n  static find(node: Node, bubble = false) {\n    return instances.get(node) || globalRegistry.find(node, bubble);\n  }\n\n  static import(name: 'core/module'): typeof Module;\n  static import(name: `themes/${string}`): typeof Theme;\n  static import(name: 'parchment'): typeof Parchment;\n  static import(name: 'delta'): typeof Delta;\n  static import(name: string): unknown;\n  static import(name: string) {\n    if (this.imports[name] == null) {\n      debug.error(`Cannot import ${name}. Are you sure it was registered?`);\n    }\n    return this.imports[name];\n  }\n\n  static register(\n    targets: Record<\n      string,\n      | Parchment.RegistryDefinition\n      | Record<string, unknown> // any objects\n      | Theme\n      | Module\n      | Function // ES5 constructors\n    >,\n    overwrite?: boolean,\n  ): void;\n  static register(\n    target: Parchment.RegistryDefinition,\n    overwrite?: boolean,\n  ): void;\n  static register(path: string, target: any, overwrite?: boolean): void;\n  static register(...args: any[]): void {\n    if (typeof args[0] !== 'string') {\n      const target = args[0];\n      const overwrite = !!args[1];\n\n      const name = 'attrName' in target ? target.attrName : target.blotName;\n      if (typeof name === 'string') {\n        // Shortcut for formats:\n        // register(Blot | Attributor, overwrite)\n        this.register(`formats/${name}`, target, overwrite);\n      } else {\n        Object.keys(target).forEach((key) => {\n          this.register(key, target[key], overwrite);\n        });\n      }\n    } else {\n      const path = args[0];\n      const target = args[1];\n      const overwrite = !!args[2];\n\n      if (this.imports[path] != null && !overwrite) {\n        debug.warn(`Overwriting ${path} with`, target);\n      }\n      this.imports[path] = target;\n      if (\n        (path.startsWith('blots/') || path.startsWith('formats/')) &&\n        target &&\n        typeof target !== 'boolean' &&\n        target.blotName !== 'abstract'\n      ) {\n        globalRegistry.register(target);\n      }\n      if (typeof target.register === 'function') {\n        target.register(globalRegistry);\n      }\n    }\n  }\n\n  container: HTMLElement;\n  root: HTMLDivElement;\n  scroll: Scroll;\n  emitter: Emitter;\n  protected allowReadOnlyEdits: boolean;\n  editor: Editor;\n  composition: Composition;\n  selection: Selection;\n\n  theme: Theme;\n  keyboard: Keyboard;\n  clipboard: Clipboard;\n  history: History;\n  uploader: Uploader;\n\n  options: ExpandedQuillOptions;\n\n  constructor(container: HTMLElement | string, options: QuillOptions = {}) {\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      debug.error('Invalid Quill container', container);\n      return;\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    const html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    instances.set(this.container, this);\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.emitter = new Emitter();\n    const scrollBlotName = Parchment.ScrollBlot.blotName;\n    const ScrollBlot = this.options.registry.query(scrollBlotName);\n    if (!ScrollBlot || !('blotName' in ScrollBlot)) {\n      throw new Error(\n        `Cannot initialize Quill without \"${scrollBlotName}\" blot`,\n      );\n    }\n    this.scroll = new ScrollBlot(this.options.registry, this.root, {\n      emitter: this.emitter,\n    }) as Scroll;\n    this.editor = new Editor(this.scroll);\n    this.selection = new Selection(this.scroll, this.emitter);\n    this.composition = new Composition(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options); // eslint-disable-line new-cap\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.uploader = this.theme.addModule('uploader');\n    this.theme.addModule('input');\n    this.theme.addModule('uiNode');\n    this.theme.init();\n    this.emitter.on(Emitter.events.EDITOR_CHANGE, (type) => {\n      if (type === Emitter.events.TEXT_CHANGE) {\n        this.root.classList.toggle('ql-blank', this.editor.isBlank());\n      }\n    });\n    this.emitter.on(Emitter.events.SCROLL_UPDATE, (source, mutations) => {\n      const oldRange = this.selection.lastRange;\n      const [newRange] = this.selection.getRange();\n      const selectionInfo =\n        oldRange && newRange ? { oldRange, newRange } : undefined;\n      modify.call(\n        this,\n        () => this.editor.update(null, mutations, selectionInfo),\n        source,\n      );\n    });\n    this.emitter.on(Emitter.events.SCROLL_EMBED_UPDATE, (blot, delta) => {\n      const oldRange = this.selection.lastRange;\n      const [newRange] = this.selection.getRange();\n      const selectionInfo =\n        oldRange && newRange ? { oldRange, newRange } : undefined;\n      modify.call(\n        this,\n        () => {\n          const change = new Delta()\n            .retain(blot.offset(this))\n            .retain({ [blot.statics.blotName]: delta });\n          return this.editor.update(change, [], selectionInfo);\n        },\n        Quill.sources.USER,\n      );\n    });\n    if (html) {\n      const contents = this.clipboard.convert({\n        html: `${html}<p><br></p>`,\n        text: '\\n',\n      });\n      this.setContents(contents);\n    }\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n    this.allowReadOnlyEdits = false;\n  }\n\n  addContainer(container: string, refNode?: Node | null): HTMLDivElement;\n  addContainer(container: HTMLElement, refNode?: Node | null): HTMLElement;\n  addContainer(\n    container: string | HTMLElement,\n    refNode: Node | null = null,\n  ): HTMLDivElement | HTMLElement {\n    if (typeof container === 'string') {\n      const className = container;\n      container = document.createElement('div');\n      container.classList.add(className);\n    }\n    this.container.insertBefore(container, refNode);\n    return container;\n  }\n\n  blur() {\n    this.selection.setRange(null);\n  }\n\n  deleteText(range: Range, source?: EmitterSource): Delta;\n  deleteText(index: number, length: number, source?: EmitterSource): Delta;\n  deleteText(\n    index: number | Range,\n    length?: number | EmitterSource,\n    source?: EmitterSource,\n  ): Delta {\n    // @ts-expect-error\n    [index, length, , source] = overload(index, length, source);\n    return modify.call(\n      this,\n      () => {\n        return this.editor.deleteText(index, length);\n      },\n      source,\n      index,\n      -1 * length,\n    );\n  }\n\n  disable() {\n    this.enable(false);\n  }\n\n  editReadOnly<T>(modifier: () => T): T {\n    this.allowReadOnlyEdits = true;\n    const value = modifier();\n    this.allowReadOnlyEdits = false;\n    return value;\n  }\n\n  enable(enabled = true) {\n    this.scroll.enable(enabled);\n    this.container.classList.toggle('ql-disabled', !enabled);\n  }\n\n  focus(options: { preventScroll?: boolean } = {}) {\n    this.selection.focus();\n    if (!options.preventScroll) {\n      this.scrollSelectionIntoView();\n    }\n  }\n\n  format(\n    name: string,\n    value: unknown,\n    source: EmitterSource = Emitter.sources.API,\n  ): Delta {\n    return modify.call(\n      this,\n      () => {\n        const range = this.getSelection(true);\n        let change = new Delta();\n        if (range == null) return change;\n        if (this.scroll.query(name, Parchment.Scope.BLOCK)) {\n          change = this.editor.formatLine(range.index, range.length, {\n            [name]: value,\n          });\n        } else if (range.length === 0) {\n          this.selection.format(name, value);\n          return change;\n        } else {\n          change = this.editor.formatText(range.index, range.length, {\n            [name]: value,\n          });\n        }\n        this.setSelection(range, Emitter.sources.SILENT);\n        return change;\n      },\n      source,\n    );\n  }\n\n  formatLine(\n    index: number,\n    length: number,\n    formats: Record<string, unknown>,\n    source?: EmitterSource,\n  ): Delta;\n  formatLine(\n    index: number,\n    length: number,\n    name: string,\n    value?: unknown,\n    source?: EmitterSource,\n  ): Delta;\n  formatLine(\n    index: number,\n    length: number,\n    name: string | Record<string, unknown>,\n    value?: unknown | EmitterSource,\n    source?: EmitterSource,\n  ): Delta {\n    let formats: Record<string, unknown>;\n    // eslint-disable-next-line prefer-const\n    [index, length, formats, source] = overload(\n      index,\n      length,\n      // @ts-expect-error\n      name,\n      value,\n      source,\n    );\n    return modify.call(\n      this,\n      () => {\n        return this.editor.formatLine(index, length, formats);\n      },\n      source,\n      index,\n      0,\n    );\n  }\n\n  formatText(\n    range: Range,\n    name: string,\n    value: unknown,\n    source?: EmitterSource,\n  ): Delta;\n  formatText(\n    index: number,\n    length: number,\n    name: string,\n    value: unknown,\n    source?: EmitterSource,\n  ): Delta;\n  formatText(\n    index: number,\n    length: number,\n    formats: Record<string, unknown>,\n    source?: EmitterSource,\n  ): Delta;\n  formatText(\n    index: number | Range,\n    length: number | string,\n    name: string | unknown,\n    value?: unknown | EmitterSource,\n    source?: EmitterSource,\n  ): Delta {\n    let formats: Record<string, unknown>;\n    // eslint-disable-next-line prefer-const\n    [index, length, formats, source] = overload(\n      // @ts-expect-error\n      index,\n      length,\n      name,\n      value,\n      source,\n    );\n    return modify.call(\n      this,\n      () => {\n        return this.editor.formatText(index, length, formats);\n      },\n      source,\n      index,\n      0,\n    );\n  }\n\n  getBounds(index: number | Range, length = 0): Bounds | null {\n    let bounds: Bounds | null = null;\n    if (typeof index === 'number') {\n      bounds = this.selection.getBounds(index, length);\n    } else {\n      bounds = this.selection.getBounds(index.index, index.length);\n    }\n    if (!bounds) return null;\n    const containerBounds = this.container.getBoundingClientRect();\n    return {\n      bottom: bounds.bottom - containerBounds.top,\n      height: bounds.height,\n      left: bounds.left - containerBounds.left,\n      right: bounds.right - containerBounds.left,\n      top: bounds.top - containerBounds.top,\n      width: bounds.width,\n    };\n  }\n\n  getContents(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getContents(index, length);\n  }\n\n  getFormat(index?: number, length?: number): { [format: string]: unknown };\n  getFormat(range?: Range): {\n    [format: string]: unknown;\n  };\n  getFormat(\n    index: Range | number = this.getSelection(true),\n    length = 0,\n  ): { [format: string]: unknown } {\n    if (typeof index === 'number') {\n      return this.editor.getFormat(index, length);\n    }\n    return this.editor.getFormat(index.index, index.length);\n  }\n\n  getIndex(blot: Parchment.Blot) {\n    return blot.offset(this.scroll);\n  }\n\n  getLength() {\n    return this.scroll.length();\n  }\n\n  getLeaf(index: number) {\n    return this.scroll.leaf(index);\n  }\n\n  getLine(index: number) {\n    return this.scroll.line(index);\n  }\n\n  getLines(range: Range): (Block | BlockEmbed)[];\n  getLines(index?: number, length?: number): (Block | BlockEmbed)[];\n  getLines(\n    index: Range | number = 0,\n    length = Number.MAX_VALUE,\n  ): (Block | BlockEmbed)[] {\n    if (typeof index !== 'number') {\n      return this.scroll.lines(index.index, index.length);\n    }\n    return this.scroll.lines(index, length);\n  }\n\n  getModule(name: string) {\n    return this.theme.modules[name];\n  }\n\n  getSelection(focus: true): Range;\n  getSelection(focus?: boolean): Range | null;\n  getSelection(focus = false): Range | null {\n    if (focus) this.focus();\n    this.update(); // Make sure we access getRange with editor in consistent state\n    return this.selection.getRange()[0];\n  }\n\n  getSemanticHTML(range: Range): string;\n  getSemanticHTML(index?: number, length?: number): string;\n  getSemanticHTML(index: Range | number = 0, length?: number) {\n    if (typeof index === 'number') {\n      length = length ?? this.getLength() - index;\n    }\n    // @ts-expect-error\n    [index, length] = overload(index, length);\n    return this.editor.getHTML(index, length);\n  }\n\n  getText(range?: Range): string;\n  getText(index?: number, length?: number): string;\n  getText(index: Range | number = 0, length?: number): string {\n    if (typeof index === 'number') {\n      length = length ?? this.getLength() - index;\n    }\n    // @ts-expect-error\n    [index, length] = overload(index, length);\n    return this.editor.getText(index, length);\n  }\n\n  hasFocus() {\n    return this.selection.hasFocus();\n  }\n\n  insertEmbed(\n    index: number,\n    embed: string,\n    value: unknown,\n    source: EmitterSource = Quill.sources.API,\n  ): Delta {\n    return modify.call(\n      this,\n      () => {\n        return this.editor.insertEmbed(index, embed, value);\n      },\n      source,\n      index,\n    );\n  }\n\n  insertText(index: number, text: string, source?: EmitterSource): Delta;\n  insertText(\n    index: number,\n    text: string,\n    formats: Record<string, unknown>,\n    source?: EmitterSource,\n  ): Delta;\n  insertText(\n    index: number,\n    text: string,\n    name: string,\n    value: unknown,\n    source?: EmitterSource,\n  ): Delta;\n  insertText(\n    index: number,\n    text: string,\n    name?: string | Record<string, unknown> | EmitterSource,\n    value?: unknown,\n    source?: EmitterSource,\n  ): Delta {\n    let formats: Record<string, unknown>;\n    // eslint-disable-next-line prefer-const\n    // @ts-expect-error\n    [index, , formats, source] = overload(index, 0, name, value, source);\n    return modify.call(\n      this,\n      () => {\n        return this.editor.insertText(index, text, formats);\n      },\n      source,\n      index,\n      text.length,\n    );\n  }\n\n  isEnabled() {\n    return this.scroll.isEnabled();\n  }\n\n  off(...args: Parameters<(typeof Emitter)['prototype']['off']>) {\n    return this.emitter.off(...args);\n  }\n\n  on(\n    event: (typeof Emitter)['events']['TEXT_CHANGE'],\n    handler: (delta: Delta, oldContent: Delta, source: EmitterSource) => void,\n  ): Emitter;\n  on(\n    event: (typeof Emitter)['events']['SELECTION_CHANGE'],\n    handler: (range: Range, oldRange: Range, source: EmitterSource) => void,\n  ): Emitter;\n  on(\n    event: (typeof Emitter)['events']['EDITOR_CHANGE'],\n    handler: (\n      ...args:\n        | [\n            (typeof Emitter)['events']['TEXT_CHANGE'],\n            Delta,\n            Delta,\n            EmitterSource,\n          ]\n        | [\n            (typeof Emitter)['events']['SELECTION_CHANGE'],\n            Range,\n            Range,\n            EmitterSource,\n          ]\n    ) => void,\n  ): Emitter;\n  on(event: string, ...args: unknown[]): Emitter;\n  on(...args: Parameters<(typeof Emitter)['prototype']['on']>): Emitter {\n    return this.emitter.on(...args);\n  }\n\n  once(...args: Parameters<(typeof Emitter)['prototype']['once']>) {\n    return this.emitter.once(...args);\n  }\n\n  removeFormat(index: number, length: number, source?: EmitterSource): Delta {\n    [index, length, , source] = overload(index, length, source);\n    return modify.call(\n      this,\n      () => {\n        return this.editor.removeFormat(index, length);\n      },\n      source,\n      index,\n    );\n  }\n\n  scrollRectIntoView(rect: Rect) {\n    scrollRectIntoView(this.root, rect);\n  }\n\n  /**\n   * @deprecated Use Quill#scrollSelectionIntoView() instead.\n   */\n  scrollIntoView() {\n    console.warn(\n      'Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead.',\n    );\n    this.scrollSelectionIntoView();\n  }\n\n  /**\n   * Scroll the current selection into the visible area.\n   * If the selection is already visible, no scrolling will occur.\n   */\n  scrollSelectionIntoView() {\n    const range = this.selection.lastRange;\n    const bounds = range && this.selection.getBounds(range.index, range.length);\n    if (bounds) {\n      this.scrollRectIntoView(bounds);\n    }\n  }\n\n  setContents(\n    delta: Delta | Op[],\n    source: EmitterSource = Emitter.sources.API,\n  ): Delta {\n    return modify.call(\n      this,\n      () => {\n        delta = new Delta(delta);\n        const length = this.getLength();\n        // Quill will set empty editor to \\n\n        const delete1 = this.editor.deleteText(0, length);\n        const applied = this.editor.insertContents(0, delta);\n        // Remove extra \\n from empty editor initialization\n        const delete2 = this.editor.deleteText(this.getLength() - 1, 1);\n        return delete1.compose(applied).compose(delete2);\n      },\n      source,\n    );\n  }\n  setSelection(range: Range | null, source?: EmitterSource): void;\n  setSelection(index: number, source?: EmitterSource): void;\n  setSelection(index: number, length?: number, source?: EmitterSource): void;\n  setSelection(index: number, source?: EmitterSource): void;\n  setSelection(\n    index: Range | null | number,\n    length?: EmitterSource | number,\n    source?: EmitterSource,\n  ): void {\n    if (index == null) {\n      // @ts-expect-error https://github.com/microsoft/TypeScript/issues/22609\n      this.selection.setRange(null, length || Quill.sources.API);\n    } else {\n      // @ts-expect-error\n      [index, length, , source] = overload(index, length, source);\n      this.selection.setRange(new Range(Math.max(0, index), length), source);\n      if (source !== Emitter.sources.SILENT) {\n        this.scrollSelectionIntoView();\n      }\n    }\n  }\n\n  setText(text: string, source: EmitterSource = Emitter.sources.API) {\n    const delta = new Delta().insert(text);\n    return this.setContents(delta, source);\n  }\n\n  update(source: EmitterSource = Emitter.sources.USER) {\n    const change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n    this.selection.update(source);\n    // TODO this is usually undefined\n    return change;\n  }\n\n  updateContents(\n    delta: Delta | Op[],\n    source: EmitterSource = Emitter.sources.API,\n  ): Delta {\n    return modify.call(\n      this,\n      () => {\n        delta = new Delta(delta);\n        return this.editor.applyDelta(delta);\n      },\n      source,\n      true,\n    );\n  }\n}\n\nfunction resolveSelector(selector: string | HTMLElement | null | undefined) {\n  return typeof selector === 'string'\n    ? document.querySelector<HTMLElement>(selector)\n    : selector;\n}\n\nfunction expandModuleConfig(config: Record<string, unknown> | undefined) {\n  return Object.entries(config ?? {}).reduce(\n    (expanded, [key, value]) => ({\n      ...expanded,\n      [key]: value === true ? {} : value,\n    }),\n    {} as Record<string, unknown>,\n  );\n}\n\nfunction omitUndefinedValuesFromOptions(obj: QuillOptions) {\n  return Object.fromEntries(\n    Object.entries(obj).filter((entry) => entry[1] !== undefined),\n  );\n}\n\nfunction expandConfig(\n  containerOrSelector: HTMLElement | string,\n  options: QuillOptions,\n): ExpandedQuillOptions {\n  const container = resolveSelector(containerOrSelector);\n  if (!container) {\n    throw new Error('Invalid Quill container');\n  }\n\n  const shouldUseDefaultTheme =\n    !options.theme || options.theme === Quill.DEFAULTS.theme;\n  const theme = shouldUseDefaultTheme\n    ? Theme\n    : Quill.import(`themes/${options.theme}`);\n  if (!theme) {\n    throw new Error(`Invalid theme ${options.theme}. Did you register it?`);\n  }\n\n  const { modules: quillModuleDefaults, ...quillDefaults } = Quill.DEFAULTS;\n  const { modules: themeModuleDefaults, ...themeDefaults } = theme.DEFAULTS;\n\n  let userModuleOptions = expandModuleConfig(options.modules);\n  // Special case toolbar shorthand\n  if (\n    userModuleOptions != null &&\n    userModuleOptions.toolbar &&\n    userModuleOptions.toolbar.constructor !== Object\n  ) {\n    userModuleOptions = {\n      ...userModuleOptions,\n      toolbar: { container: userModuleOptions.toolbar },\n    };\n  }\n\n  const modules: ExpandedQuillOptions['modules'] = merge(\n    {},\n    expandModuleConfig(quillModuleDefaults),\n    expandModuleConfig(themeModuleDefaults),\n    userModuleOptions,\n  );\n\n  const config = {\n    ...quillDefaults,\n    ...omitUndefinedValuesFromOptions(themeDefaults),\n    ...omitUndefinedValuesFromOptions(options),\n  };\n\n  let registry = options.registry;\n  if (registry) {\n    if (options.formats) {\n      debug.warn('Ignoring \"formats\" option because \"registry\" is specified');\n    }\n  } else {\n    registry = options.formats\n      ? createRegistryWithFormats(options.formats, config.registry, debug)\n      : config.registry;\n  }\n\n  return {\n    ...config,\n    registry,\n    container,\n    theme,\n    modules: Object.entries(modules).reduce(\n      (modulesWithDefaults, [name, value]) => {\n        if (!value) return modulesWithDefaults;\n\n        const moduleClass = Quill.import(`modules/${name}`);\n        if (moduleClass == null) {\n          debug.error(\n            `Cannot load ${name} module. Are you sure you registered it?`,\n          );\n          return modulesWithDefaults;\n        }\n        return {\n          ...modulesWithDefaults,\n          // @ts-expect-error\n          [name]: merge({}, moduleClass.DEFAULTS || {}, value),\n        };\n      },\n      {},\n    ),\n    bounds: resolveSelector(config.bounds),\n  };\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(\n  modifier: () => Delta,\n  source: EmitterSource,\n  index: number | boolean,\n  shift: number | null,\n) {\n  if (\n    !this.isEnabled() &&\n    source === Emitter.sources.USER &&\n    !this.allowReadOnlyEdits\n  ) {\n    return new Delta();\n  }\n  let range = index == null ? null : this.getSelection();\n  const oldDelta = this.editor.delta;\n  const change = modifier();\n  if (range != null) {\n    if (index === true) {\n      index = range.index; // eslint-disable-line prefer-destructuring\n    }\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      // @ts-expect-error index should always be number\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, Emitter.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    const args = [Emitter.events.TEXT_CHANGE, change, oldDelta, source];\n    this.emitter.emit(Emitter.events.EDITOR_CHANGE, ...args);\n    if (source !== Emitter.sources.SILENT) {\n      this.emitter.emit(...args);\n    }\n  }\n  return change;\n}\n\ntype NormalizedIndexLength = [\n  number,\n  number,\n  Record<string, unknown>,\n  EmitterSource,\n];\nfunction overload(index: number, source?: EmitterSource): NormalizedIndexLength;\nfunction overload(\n  index: number,\n  length: number,\n  source?: EmitterSource,\n): NormalizedIndexLength;\nfunction overload(\n  index: number,\n  length: number,\n  format: string,\n  value: unknown,\n  source?: EmitterSource,\n): NormalizedIndexLength;\nfunction overload(\n  index: number,\n  length: number,\n  format: Record<string, unknown>,\n  source?: EmitterSource,\n): NormalizedIndexLength;\nfunction overload(range: Range, source?: EmitterSource): NormalizedIndexLength;\nfunction overload(\n  range: Range,\n  format: string,\n  value: unknown,\n  source?: EmitterSource,\n): NormalizedIndexLength;\nfunction overload(\n  range: Range,\n  format: Record<string, unknown>,\n  source?: EmitterSource,\n): NormalizedIndexLength;\nfunction overload(\n  index: Range | number,\n  length?: number | string | Record<string, unknown> | EmitterSource,\n  name?: string | unknown | Record<string, unknown> | EmitterSource,\n  value?: unknown | EmitterSource,\n  source?: EmitterSource,\n): NormalizedIndexLength {\n  let formats: Record<string, unknown> = {};\n  // @ts-expect-error\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      // @ts-expect-error\n      source = value;\n      value = name;\n      name = length;\n      // @ts-expect-error\n      length = index.length; // eslint-disable-line prefer-destructuring\n      // @ts-expect-error\n      index = index.index; // eslint-disable-line prefer-destructuring\n    } else {\n      // @ts-expect-error\n      length = index.length; // eslint-disable-line prefer-destructuring\n      // @ts-expect-error\n      index = index.index; // eslint-disable-line prefer-destructuring\n    }\n  } else if (typeof length !== 'number') {\n    // @ts-expect-error\n    source = value;\n    value = name;\n    name = length;\n    length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if (typeof name === 'object') {\n    // @ts-expect-error Fix me later\n    formats = name;\n    // @ts-expect-error\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      // @ts-expect-error\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || Emitter.sources.API;\n  // @ts-expect-error\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range: Range, change: Delta, source?: EmitterSource): Range;\nfunction shiftRange(\n  range: Range,\n  index: number,\n  length?: number,\n  source?: EmitterSource,\n): Range;\nfunction shiftRange(\n  range: Range,\n  index: number | Delta,\n  lengthOrSource?: number | EmitterSource,\n  source?: EmitterSource,\n) {\n  const length = typeof lengthOrSource === 'number' ? lengthOrSource : 0;\n  if (range == null) return null;\n  let start;\n  let end;\n  // @ts-expect-error -- TODO: add a better type guard around `index`\n  if (index && typeof index.transformPosition === 'function') {\n    [start, end] = [range.index, range.index + range.length].map((pos) =>\n      // @ts-expect-error -- TODO: add a better type guard around `index`\n      index.transformPosition(pos, source !== Emitter.sources.USER),\n    );\n  } else {\n    [start, end] = [range.index, range.index + range.length].map((pos) => {\n      // @ts-expect-error -- TODO: add a better type guard around `index`\n      if (pos < index || (pos === index && source === Emitter.sources.USER))\n        return pos;\n      if (length >= 0) {\n        return pos + length;\n      }\n      // @ts-expect-error -- TODO: add a better type guard around `index`\n      return Math.max(index, pos + length);\n    });\n  }\n  return new Range(start, end - start);\n}\n\nexport type { Bounds, DebugLevel, EmitterSource };\nexport { Parchment, Range };\n\nexport { globalRegistry, expandConfig, overload, Quill as default };\n","import { LeafBlot, Scope } from 'parchment';\nimport { cloneDeep, isEqual } from 'lodash-es';\nimport Emitter from './emitter.js';\nimport type { EmitterSource } from './emitter.js';\nimport logger from './logger.js';\nimport type Cursor from '../blots/cursor.js';\nimport type Scroll from '../blots/scroll.js';\n\nconst debug = logger('quill:selection');\n\ntype NativeRange = AbstractRange;\n\ninterface NormalizedRange {\n  start: {\n    node: NativeRange['startContainer'];\n    offset: NativeRange['startOffset'];\n  };\n  end: { node: NativeRange['endContainer']; offset: NativeRange['endOffset'] };\n  native: NativeRange;\n}\n\nexport interface Bounds {\n  bottom: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  width: number;\n}\n\nexport class Range {\n  constructor(\n    public index: number,\n    public length = 0,\n  ) {}\n}\n\nclass Selection {\n  scroll: Scroll;\n  emitter: Emitter;\n  composing: boolean;\n  mouseDown: boolean;\n\n  root: HTMLElement;\n  cursor: Cursor;\n  savedRange: Range;\n  lastRange: Range | null;\n  lastNative: NormalizedRange | null;\n\n  constructor(scroll: Scroll, emitter: Emitter) {\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    // @ts-expect-error\n    this.cursor = this.scroll.create('cursor', this);\n    // savedRange is last non-null range\n    this.savedRange = new Range(0, 0);\n    this.lastRange = this.savedRange;\n    this.lastNative = null;\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, () => {\n      if (!this.mouseDown && !this.composing) {\n        setTimeout(this.update.bind(this, Emitter.sources.USER), 1);\n      }\n    });\n    this.emitter.on(Emitter.events.SCROLL_BEFORE_UPDATE, () => {\n      if (!this.hasFocus()) return;\n      const native = this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === this.cursor.textNode) return; // cursor.restore() will handle\n      this.emitter.once(\n        Emitter.events.SCROLL_UPDATE,\n        (source, mutations: MutationRecord[]) => {\n          try {\n            if (\n              this.root.contains(native.start.node) &&\n              this.root.contains(native.end.node)\n            ) {\n              this.setNativeRange(\n                native.start.node,\n                native.start.offset,\n                native.end.node,\n                native.end.offset,\n              );\n            }\n            const triggeredByTyping = mutations.some(\n              (mutation) =>\n                mutation.type === 'characterData' ||\n                mutation.type === 'childList' ||\n                (mutation.type === 'attributes' &&\n                  mutation.target === this.root),\n            );\n            this.update(triggeredByTyping ? Emitter.sources.SILENT : source);\n          } catch (ignored) {\n            // ignore\n          }\n        },\n      );\n    });\n    this.emitter.on(Emitter.events.SCROLL_OPTIMIZE, (mutations, context) => {\n      if (context.range) {\n        const { startNode, startOffset, endNode, endOffset } = context.range;\n        this.setNativeRange(startNode, startOffset, endNode, endOffset);\n        this.update(Emitter.sources.SILENT);\n      }\n    });\n    this.update(Emitter.sources.SILENT);\n  }\n\n  handleComposition() {\n    this.emitter.on(Emitter.events.COMPOSITION_BEFORE_START, () => {\n      this.composing = true;\n    });\n    this.emitter.on(Emitter.events.COMPOSITION_END, () => {\n      this.composing = false;\n      if (this.cursor.parent) {\n        const range = this.cursor.restore();\n        if (!range) return;\n        setTimeout(() => {\n          this.setNativeRange(\n            range.startNode,\n            range.startOffset,\n            range.endNode,\n            range.endOffset,\n          );\n        }, 1);\n      }\n    });\n  }\n\n  handleDragging() {\n    this.emitter.listenDOM('mousedown', document.body, () => {\n      this.mouseDown = true;\n    });\n    this.emitter.listenDOM('mouseup', document.body, () => {\n      this.mouseDown = false;\n      this.update(Emitter.sources.USER);\n    });\n  }\n\n  focus() {\n    if (this.hasFocus()) return;\n    this.root.focus({ preventScroll: true });\n    this.setRange(this.savedRange);\n  }\n\n  format(format: string, value: unknown) {\n    this.scroll.update();\n    const nativeRange = this.getNativeRange();\n    if (\n      nativeRange == null ||\n      !nativeRange.native.collapsed ||\n      this.scroll.query(format, Scope.BLOCK)\n    )\n      return;\n    if (nativeRange.start.node !== this.cursor.textNode) {\n      const blot = this.scroll.find(nativeRange.start.node, false);\n      if (blot == null) return;\n      // TODO Give blot ability to not split\n      if (blot instanceof LeafBlot) {\n        const after = blot.split(nativeRange.start.offset);\n        blot.parent.insertBefore(this.cursor, after);\n      } else {\n        // @ts-expect-error TODO: nativeRange.start.node doesn't seem to match function signature\n        blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n      }\n      this.cursor.attach();\n    }\n    this.cursor.format(format, value);\n    this.scroll.optimize();\n    this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n    this.update();\n  }\n\n  getBounds(index: number, length = 0) {\n    const scrollLength = this.scroll.length();\n    index = Math.min(index, scrollLength - 1);\n    length = Math.min(index + length, scrollLength - 1) - index;\n    let node: Node;\n    let [leaf, offset] = this.scroll.leaf(index);\n    if (leaf == null) return null;\n    if (length > 0 && offset === leaf.length()) {\n      const [next] = this.scroll.leaf(index + 1);\n      if (next) {\n        const [line] = this.scroll.line(index);\n        const [nextLine] = this.scroll.line(index + 1);\n        if (line === nextLine) {\n          leaf = next;\n          offset = 0;\n        }\n      }\n    }\n    [node, offset] = leaf.position(offset, true);\n    const range = document.createRange();\n    if (length > 0) {\n      range.setStart(node, offset);\n      [leaf, offset] = this.scroll.leaf(index + length);\n      if (leaf == null) return null;\n      [node, offset] = leaf.position(offset, true);\n      range.setEnd(node, offset);\n      return range.getBoundingClientRect();\n    }\n    let side: 'left' | 'right' = 'left';\n    let rect: DOMRect;\n    if (node instanceof Text) {\n      // Return null if the text node is empty because it is\n      // not able to get a useful client rect:\n      // https://github.com/w3c/csswg-drafts/issues/2514.\n      // Empty text nodes are most likely caused by TextBlot#optimize()\n      // not getting called when editor content changes.\n      if (!node.data.length) {\n        return null;\n      }\n      if (offset < node.data.length) {\n        range.setStart(node, offset);\n        range.setEnd(node, offset + 1);\n      } else {\n        range.setStart(node, offset - 1);\n        range.setEnd(node, offset);\n        side = 'right';\n      }\n      rect = range.getBoundingClientRect();\n    } else {\n      if (!(leaf.domNode instanceof Element)) return null;\n      rect = leaf.domNode.getBoundingClientRect();\n      if (offset > 0) side = 'right';\n    }\n    return {\n      bottom: rect.top + rect.height,\n      height: rect.height,\n      left: rect[side],\n      right: rect[side],\n      top: rect.top,\n      width: 0,\n    };\n  }\n\n  getNativeRange(): NormalizedRange | null {\n    const selection = document.getSelection();\n    if (selection == null || selection.rangeCount <= 0) return null;\n    const nativeRange = selection.getRangeAt(0);\n    if (nativeRange == null) return null;\n    const range = this.normalizeNative(nativeRange);\n    debug.info('getNativeRange', range);\n    return range;\n  }\n\n  getRange(): [Range, NormalizedRange] | [null, null] {\n    const root = this.scroll.domNode;\n    if ('isConnected' in root && !root.isConnected) {\n      // document.getSelection() forces layout on Blink, so we trend to\n      // not calling it.\n      return [null, null];\n    }\n    const normalized = this.getNativeRange();\n    if (normalized == null) return [null, null];\n    const range = this.normalizedToRange(normalized);\n    return [range, normalized];\n  }\n\n  hasFocus(): boolean {\n    return (\n      document.activeElement === this.root ||\n      (document.activeElement != null &&\n        contains(this.root, document.activeElement))\n    );\n  }\n\n  normalizedToRange(range: NormalizedRange) {\n    const positions: [Node, number][] = [\n      [range.start.node, range.start.offset],\n    ];\n    if (!range.native.collapsed) {\n      positions.push([range.end.node, range.end.offset]);\n    }\n    const indexes = positions.map((position) => {\n      const [node, offset] = position;\n      const blot = this.scroll.find(node, true);\n      // @ts-expect-error Fix me later\n      const index = blot.offset(this.scroll);\n      if (offset === 0) {\n        return index;\n      }\n      if (blot instanceof LeafBlot) {\n        return index + blot.index(node, offset);\n      }\n      // @ts-expect-error Fix me later\n      return index + blot.length();\n    });\n    const end = Math.min(Math.max(...indexes), this.scroll.length() - 1);\n    const start = Math.min(end, ...indexes);\n    return new Range(start, end - start);\n  }\n\n  normalizeNative(nativeRange: NativeRange) {\n    if (\n      !contains(this.root, nativeRange.startContainer) ||\n      (!nativeRange.collapsed && !contains(this.root, nativeRange.endContainer))\n    ) {\n      return null;\n    }\n    const range = {\n      start: {\n        node: nativeRange.startContainer,\n        offset: nativeRange.startOffset,\n      },\n      end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n      native: nativeRange,\n    };\n    [range.start, range.end].forEach((position) => {\n      let { node, offset } = position;\n      while (!(node instanceof Text) && node.childNodes.length > 0) {\n        if (node.childNodes.length > offset) {\n          node = node.childNodes[offset];\n          offset = 0;\n        } else if (node.childNodes.length === offset) {\n          // @ts-expect-error Fix me later\n          node = node.lastChild;\n          if (node instanceof Text) {\n            offset = node.data.length;\n          } else if (node.childNodes.length > 0) {\n            // Container case\n            offset = node.childNodes.length;\n          } else {\n            // Embed case\n            offset = node.childNodes.length + 1;\n          }\n        } else {\n          break;\n        }\n      }\n      position.node = node;\n      position.offset = offset;\n    });\n    return range;\n  }\n\n  rangeToNative(range: Range): [Node | null, number, Node | null, number] {\n    const scrollLength = this.scroll.length();\n\n    const getPosition = (\n      index: number,\n      inclusive: boolean,\n    ): [Node | null, number] => {\n      index = Math.min(scrollLength - 1, index);\n      const [leaf, leafOffset] = this.scroll.leaf(index);\n      return leaf ? leaf.position(leafOffset, inclusive) : [null, -1];\n    };\n    return [\n      ...getPosition(range.index, false),\n      ...getPosition(range.index + range.length, true),\n    ];\n  }\n\n  setNativeRange(\n    startNode: Node | null,\n    startOffset?: number,\n    endNode = startNode,\n    endOffset = startOffset,\n    force = false,\n  ) {\n    debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n    if (\n      startNode != null &&\n      (this.root.parentNode == null ||\n        startNode.parentNode == null ||\n        // @ts-expect-error Fix me later\n        endNode.parentNode == null)\n    ) {\n      return;\n    }\n    const selection = document.getSelection();\n    if (selection == null) return;\n    if (startNode != null) {\n      if (!this.hasFocus()) this.root.focus({ preventScroll: true });\n      const { native } = this.getNativeRange() || {};\n      if (\n        native == null ||\n        force ||\n        startNode !== native.startContainer ||\n        startOffset !== native.startOffset ||\n        endNode !== native.endContainer ||\n        endOffset !== native.endOffset\n      ) {\n        if (startNode instanceof Element && startNode.tagName === 'BR') {\n          // @ts-expect-error Fix me later\n          startOffset = Array.from(startNode.parentNode.childNodes).indexOf(\n            startNode,\n          );\n          startNode = startNode.parentNode;\n        }\n        if (endNode instanceof Element && endNode.tagName === 'BR') {\n          // @ts-expect-error Fix me later\n          endOffset = Array.from(endNode.parentNode.childNodes).indexOf(\n            endNode,\n          );\n          endNode = endNode.parentNode;\n        }\n        const range = document.createRange();\n        // @ts-expect-error Fix me later\n        range.setStart(startNode, startOffset);\n        // @ts-expect-error Fix me later\n        range.setEnd(endNode, endOffset);\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    } else {\n      selection.removeAllRanges();\n      this.root.blur();\n    }\n  }\n\n  setRange(range: Range | null, force: boolean, source?: EmitterSource): void;\n  setRange(range: Range | null, source?: EmitterSource): void;\n  setRange(\n    range: Range | null,\n    force: boolean | EmitterSource = false,\n    source: EmitterSource = Emitter.sources.API,\n  ): void {\n    if (typeof force === 'string') {\n      source = force;\n      force = false;\n    }\n    debug.info('setRange', range);\n    if (range != null) {\n      const args = this.rangeToNative(range);\n      this.setNativeRange(...args, force);\n    } else {\n      this.setNativeRange(null);\n    }\n    this.update(source);\n  }\n\n  update(source: EmitterSource = Emitter.sources.USER) {\n    const oldRange = this.lastRange;\n    const [lastRange, nativeRange] = this.getRange();\n    this.lastRange = lastRange;\n    this.lastNative = nativeRange;\n    if (this.lastRange != null) {\n      this.savedRange = this.lastRange;\n    }\n    if (!isEqual(oldRange, this.lastRange)) {\n      if (\n        !this.composing &&\n        nativeRange != null &&\n        nativeRange.native.collapsed &&\n        nativeRange.start.node !== this.cursor.textNode\n      ) {\n        const range = this.cursor.restore();\n        if (range) {\n          this.setNativeRange(\n            range.startNode,\n            range.startOffset,\n            range.endNode,\n            range.endOffset,\n          );\n        }\n      }\n      const args = [\n        Emitter.events.SELECTION_CHANGE,\n        cloneDeep(this.lastRange),\n        cloneDeep(oldRange),\n        source,\n      ];\n      this.emitter.emit(Emitter.events.EDITOR_CHANGE, ...args);\n      if (source !== Emitter.sources.SILENT) {\n        this.emitter.emit(...args);\n      }\n    }\n  }\n}\n\nfunction contains(parent: Node, descendant: Node) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode; // eslint-disable-line @typescript-eslint/no-unused-expressions\n  } catch (e) {\n    return false;\n  }\n  return parent.contains(descendant);\n}\n\nexport default Selection;\n","import type Quill from '../core.js';\nimport type Clipboard from '../modules/clipboard.js';\nimport type History from '../modules/history.js';\nimport type Keyboard from '../modules/keyboard.js';\nimport type { ToolbarProps } from '../modules/toolbar.js';\nimport type Uploader from '../modules/uploader.js';\n\nexport interface ThemeOptions {\n  modules: Record<string, unknown> & {\n    toolbar?: null | ToolbarProps;\n  };\n}\n\nclass Theme {\n  static DEFAULTS: ThemeOptions = {\n    modules: {},\n  };\n\n  static themes = {\n    default: Theme,\n  };\n\n  modules: ThemeOptions['modules'] = {};\n\n  constructor(\n    protected quill: Quill,\n    protected options: ThemeOptions,\n  ) {}\n\n  init() {\n    Object.keys(this.options.modules).forEach((name) => {\n      if (this.modules[name] == null) {\n        this.addModule(name);\n      }\n    });\n  }\n\n  addModule(name: 'clipboard'): Clipboard;\n  addModule(name: 'keyboard'): Keyboard;\n  addModule(name: 'uploader'): Uploader;\n  addModule(name: 'history'): History;\n  addModule(name: string): unknown;\n  addModule(name: string) {\n    // @ts-expect-error\n    const ModuleClass = this.quill.constructor.import(`modules/${name}`);\n    this.modules[name] = new ModuleClass(\n      this.quill,\n      this.options.modules[name] || {},\n    );\n    return this.modules[name];\n  }\n}\n\nexport interface ThemeConstructor {\n  new (quill: Quill, options: unknown): Theme;\n  DEFAULTS: ThemeOptions;\n}\n\nexport default Theme;\n","import { Attributor, ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nconst config = {\n  scope: Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify'],\n};\n\nconst AlignAttribute = new Attributor('align', 'align', config);\nconst AlignClass = new ClassAttributor('align', 'ql-align', config);\nconst AlignStyle = new StyleAttributor('align', 'text-align', config);\n\nexport { AlignAttribute, AlignClass, AlignStyle };\n","import { ClassAttributor, Scope } from 'parchment';\nimport { ColorAttributor } from './color.js';\n\nconst BackgroundClass = new ClassAttributor('background', 'ql-bg', {\n  scope: Scope.INLINE,\n});\nconst BackgroundStyle = new ColorAttributor('background', 'background-color', {\n  scope: Scope.INLINE,\n});\n\nexport { BackgroundClass, BackgroundStyle };\n","import Block from '../blots/block.js';\nimport Break from '../blots/break.js';\nimport Cursor from '../blots/cursor.js';\nimport Inline from '../blots/inline.js';\nimport TextBlot, { escapeText } from '../blots/text.js';\nimport Container from '../blots/container.js';\nimport Quill from '../core/quill.js';\n\nclass CodeBlockContainer extends Container {\n  static create(value: string) {\n    const domNode = super.create(value) as Element;\n    domNode.setAttribute('spellcheck', 'false');\n    return domNode;\n  }\n\n  code(index: number, length: number) {\n    return (\n      this.children\n        // @ts-expect-error\n        .map((child) => (child.length() <= 1 ? '' : child.domNode.innerText))\n        .join('\\n')\n        .slice(index, index + length)\n    );\n  }\n\n  html(index: number, length: number) {\n    // `\\n`s are needed in order to support empty lines at the beginning and the end.\n    // https://html.spec.whatwg.org/multipage/syntax.html#element-restrictions\n    return `<pre>\\n${escapeText(this.code(index, length))}\\n</pre>`;\n  }\n}\n\nclass CodeBlock extends Block {\n  static TAB = '  ';\n\n  static register() {\n    Quill.register(CodeBlockContainer);\n  }\n}\n\nclass Code extends Inline {}\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.className = 'ql-code-block';\nCodeBlock.tagName = 'DIV';\nCodeBlockContainer.blotName = 'code-block-container';\nCodeBlockContainer.className = 'ql-code-block-container';\nCodeBlockContainer.tagName = 'DIV';\n\nCodeBlockContainer.allowedChildren = [CodeBlock];\n\nCodeBlock.allowedChildren = [TextBlot, Break, Cursor];\nCodeBlock.requiredContainer = CodeBlockContainer;\n\nexport { Code, CodeBlockContainer, CodeBlock as default };\n","import { ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nclass ColorAttributor extends StyleAttributor {\n  value(domNode: HTMLElement) {\n    let value = super.value(domNode) as string;\n    if (!value.startsWith('rgb(')) return value;\n    value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n    const hex = value\n      .split(',')\n      .map((component) => `00${parseInt(component, 10).toString(16)}`.slice(-2))\n      .join('');\n    return `#${hex}`;\n  }\n}\n\nconst ColorClass = new ClassAttributor('color', 'ql-color', {\n  scope: Scope.INLINE,\n});\nconst ColorStyle = new ColorAttributor('color', 'color', {\n  scope: Scope.INLINE,\n});\n\nexport { ColorAttributor, ColorClass, ColorStyle };\n","import { Attributor, ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nconst config = {\n  scope: Scope.BLOCK,\n  whitelist: ['rtl'],\n};\n\nconst DirectionAttribute = new Attributor('direction', 'dir', config);\nconst DirectionClass = new ClassAttributor('direction', 'ql-direction', config);\nconst DirectionStyle = new StyleAttributor('direction', 'direction', config);\n\nexport { DirectionAttribute, DirectionClass, DirectionStyle };\n","import { ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nconst config = {\n  scope: Scope.INLINE,\n  whitelist: ['serif', 'monospace'],\n};\n\nconst FontClass = new ClassAttributor('font', 'ql-font', config);\n\nclass FontStyleAttributor extends StyleAttributor {\n  value(node: HTMLElement) {\n    return super.value(node).replace(/[\"']/g, '');\n  }\n}\n\nconst FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexport { FontStyle, FontClass };\n","import { ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nconst SizeClass = new ClassAttributor('size', 'ql-size', {\n  scope: Scope.INLINE,\n  whitelist: ['small', 'large', 'huge'],\n});\nconst SizeStyle = new StyleAttributor('size', 'font-size', {\n  scope: Scope.INLINE,\n  whitelist: ['10px', '18px', '32px'],\n});\n\nexport { SizeClass, SizeStyle };\n","const normalWeightRegexp = /font-weight:\\s*normal/;\nconst blockTagNames = ['P', 'OL', 'UL'];\n\nconst isBlockElement = (element: Element | null) => {\n  return element && blockTagNames.includes(element.tagName);\n};\n\nconst normalizeEmptyLines = (doc: Document) => {\n  Array.from(doc.querySelectorAll('br'))\n    .filter(\n      (br) =>\n        isBlockElement(br.previousElementSibling) &&\n        isBlockElement(br.nextElementSibling),\n    )\n    .forEach((br) => {\n      br.parentNode?.removeChild(br);\n    });\n};\n\nconst normalizeFontWeight = (doc: Document) => {\n  Array.from(doc.querySelectorAll('b[style*=\"font-weight\"]'))\n    .filter((node) => node.getAttribute('style')?.match(normalWeightRegexp))\n    .forEach((node) => {\n      const fragment = doc.createDocumentFragment();\n      fragment.append(...node.childNodes);\n      node.parentNode?.replaceChild(fragment, node);\n    });\n};\n\nexport default function normalize(doc: Document) {\n  if (doc.querySelector('[id^=\"docs-internal-guid-\"]')) {\n    normalizeFontWeight(doc);\n    normalizeEmptyLines(doc);\n  }\n}\n","const ignoreRegexp = /\\bmso-list:[^;]*ignore/i;\nconst idRegexp = /\\bmso-list:[^;]*\\bl(\\d+)/i;\nconst indentRegexp = /\\bmso-list:[^;]*\\blevel(\\d+)/i;\n\nconst parseListItem = (element: Element, html: string) => {\n  const style = element.getAttribute('style');\n  const idMatch = style?.match(idRegexp);\n  if (!idMatch) {\n    return null;\n  }\n  const id = Number(idMatch[1]);\n\n  const indentMatch = style?.match(indentRegexp);\n  const indent = indentMatch ? Number(indentMatch[1]) : 1;\n\n  const typeRegexp = new RegExp(\n    `@list l${id}:level${indent}\\\\s*\\\\{[^\\\\}]*mso-level-number-format:\\\\s*([\\\\w-]+)`,\n    'i',\n  );\n  const typeMatch = html.match(typeRegexp);\n  const type = typeMatch && typeMatch[1] === 'bullet' ? 'bullet' : 'ordered';\n\n  return { id, indent, type, element };\n};\n\n// list items are represented as `p` tags with styles like `mso-list: l0 level1` where:\n// 1. \"0\" in \"l0\" means the list item id;\n// 2. \"1\" in \"level1\" means the indent level, starting from 1.\nconst normalizeListItem = (doc: Document) => {\n  const msoList = Array.from(doc.querySelectorAll('[style*=mso-list]'));\n  const ignored: Element[] = [];\n  const others: Element[] = [];\n  msoList.forEach((node) => {\n    const shouldIgnore = (node.getAttribute('style') || '').match(ignoreRegexp);\n    if (shouldIgnore) {\n      ignored.push(node);\n    } else {\n      others.push(node);\n    }\n  });\n\n  // Each list item contains a marker wrapped with \"mso-list: Ignore\".\n  ignored.forEach((node) => node.parentNode?.removeChild(node));\n\n  // The list stype is not defined inline with the tag, instead, it's in the\n  // style tag so we need to pass the html as a string.\n  const html = doc.documentElement.innerHTML;\n  const listItems = others\n    .map((element) => parseListItem(element, html))\n    .filter((parsed) => parsed);\n\n  while (listItems.length) {\n    const childListItems = [];\n\n    let current = listItems.shift();\n    // Group continuous items into the same group (aka \"ul\")\n    while (current) {\n      childListItems.push(current);\n      current =\n        listItems.length &&\n        listItems[0]?.element === current.element.nextElementSibling &&\n        // Different id means the next item doesn't belong to this group.\n        listItems[0].id === current.id\n          ? listItems.shift()\n          : null;\n    }\n\n    const ul = document.createElement('ul');\n    childListItems.forEach((listItem) => {\n      const li = document.createElement('li');\n      li.setAttribute('data-list', listItem.type);\n      if (listItem.indent > 1) {\n        li.setAttribute('class', `ql-indent-${listItem.indent - 1}`);\n      }\n      li.innerHTML = listItem.element.innerHTML;\n      ul.appendChild(li);\n    });\n\n    const element = childListItems[0]?.element;\n    const { parentNode } = element ?? {};\n    if (element) {\n      parentNode?.replaceChild(ul, element);\n    }\n    childListItems.slice(1).forEach(({ element: e }) => {\n      parentNode?.removeChild(e);\n    });\n  }\n};\n\nexport default function normalize(doc: Document) {\n  if (\n    doc.documentElement.getAttribute('xmlns:w') ===\n    'urn:schemas-microsoft-com:office:word'\n  ) {\n    normalizeListItem(doc);\n  }\n}\n","import googleDocs from './normalizers/googleDocs.js';\nimport msWord from './normalizers/msWord.js';\n\nconst NORMALIZERS = [msWord, googleDocs];\n\nconst normalizeExternalHTML = (doc: Document) => {\n  if (doc.documentElement) {\n    NORMALIZERS.forEach((normalize) => {\n      normalize(doc);\n    });\n  }\n};\n\nexport default normalizeExternalHTML;\n","import type { ScrollBlot } from 'parchment';\nimport {\n  Attributor,\n  BlockBlot,\n  ClassAttributor,\n  EmbedBlot,\n  Scope,\n  StyleAttributor,\n} from 'parchment';\nimport Delta from 'quill-delta';\nimport { BlockEmbed } from '../blots/block.js';\nimport type { EmitterSource } from '../core/emitter.js';\nimport logger from '../core/logger.js';\nimport Module from '../core/module.js';\nimport Quill from '../core/quill.js';\nimport type { Range } from '../core/selection.js';\nimport { AlignAttribute, AlignStyle } from '../formats/align.js';\nimport { BackgroundStyle } from '../formats/background.js';\nimport CodeBlock from '../formats/code.js';\nimport { ColorStyle } from '../formats/color.js';\nimport { DirectionAttribute, DirectionStyle } from '../formats/direction.js';\nimport { FontStyle } from '../formats/font.js';\nimport { SizeStyle } from '../formats/size.js';\nimport { deleteRange } from './keyboard.js';\nimport normalizeExternalHTML from './normalizeExternalHTML/index.js';\n\nconst debug = logger('quill:clipboard');\n\ntype Selector = string | Node['TEXT_NODE'] | Node['ELEMENT_NODE'];\ntype Matcher = (node: Node, delta: Delta, scroll: ScrollBlot) => Delta;\n\nconst CLIPBOARD_CONFIG: [Selector, Matcher][] = [\n  [Node.TEXT_NODE, matchText],\n  [Node.TEXT_NODE, matchNewline],\n  ['br', matchBreak],\n  [Node.ELEMENT_NODE, matchNewline],\n  [Node.ELEMENT_NODE, matchBlot],\n  [Node.ELEMENT_NODE, matchAttributor],\n  [Node.ELEMENT_NODE, matchStyles],\n  ['li', matchIndent],\n  ['ol, ul', matchList],\n  ['pre', matchCodeBlock],\n  ['tr', matchTable],\n  ['b', createMatchAlias('bold')],\n  ['i', createMatchAlias('italic')],\n  ['strike', createMatchAlias('strike')],\n  ['style', matchIgnore],\n];\n\nconst ATTRIBUTE_ATTRIBUTORS = [AlignAttribute, DirectionAttribute].reduce(\n  (memo: Record<string, Attributor>, attr) => {\n    memo[attr.keyName] = attr;\n    return memo;\n  },\n  {},\n);\n\nconst STYLE_ATTRIBUTORS = [\n  AlignStyle,\n  BackgroundStyle,\n  ColorStyle,\n  DirectionStyle,\n  FontStyle,\n  SizeStyle,\n].reduce((memo: Record<string, Attributor>, attr) => {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\ninterface ClipboardOptions {\n  matchers: [Selector, Matcher][];\n}\n\nclass Clipboard extends Module<ClipboardOptions> {\n  static DEFAULTS: ClipboardOptions = {\n    matchers: [],\n  };\n\n  matchers: [Selector, Matcher][];\n\n  constructor(quill: Quill, options: Partial<ClipboardOptions>) {\n    super(quill, options);\n    this.quill.root.addEventListener('copy', (e) =>\n      this.onCaptureCopy(e, false),\n    );\n    this.quill.root.addEventListener('cut', (e) => this.onCaptureCopy(e, true));\n    this.quill.root.addEventListener('paste', this.onCapturePaste.bind(this));\n    this.matchers = [];\n    CLIPBOARD_CONFIG.concat(this.options.matchers ?? []).forEach(\n      ([selector, matcher]) => {\n        this.addMatcher(selector, matcher);\n      },\n    );\n  }\n\n  addMatcher(selector: Selector, matcher: Matcher) {\n    this.matchers.push([selector, matcher]);\n  }\n\n  convert(\n    { html, text }: { html?: string; text?: string },\n    formats: Record<string, unknown> = {},\n  ) {\n    if (formats[CodeBlock.blotName]) {\n      return new Delta().insert(text || '', {\n        [CodeBlock.blotName]: formats[CodeBlock.blotName],\n      });\n    }\n    if (!html) {\n      return new Delta().insert(text || '', formats);\n    }\n    const delta = this.convertHTML(html);\n    // Remove trailing newline\n    if (\n      deltaEndsWith(delta, '\\n') &&\n      (delta.ops[delta.ops.length - 1].attributes == null || formats.table)\n    ) {\n      return delta.compose(new Delta().retain(delta.length() - 1).delete(1));\n    }\n    return delta;\n  }\n\n  protected normalizeHTML(doc: Document) {\n    normalizeExternalHTML(doc);\n  }\n\n  protected convertHTML(html: string) {\n    const doc = new DOMParser().parseFromString(html, 'text/html');\n    this.normalizeHTML(doc);\n    const container = doc.body;\n    const nodeMatches = new WeakMap();\n    const [elementMatchers, textMatchers] = this.prepareMatching(\n      container,\n      nodeMatches,\n    );\n    return traverse(\n      this.quill.scroll,\n      container,\n      elementMatchers,\n      textMatchers,\n      nodeMatches,\n    );\n  }\n\n  dangerouslyPasteHTML(html: string, source?: EmitterSource): void;\n  dangerouslyPasteHTML(\n    index: number,\n    html: string,\n    source?: EmitterSource,\n  ): void;\n  dangerouslyPasteHTML(\n    index: number | string,\n    html?: string,\n    source: EmitterSource = Quill.sources.API,\n  ) {\n    if (typeof index === 'string') {\n      const delta = this.convert({ html: index, text: '' });\n      // @ts-expect-error\n      this.quill.setContents(delta, html);\n      this.quill.setSelection(0, Quill.sources.SILENT);\n    } else {\n      const paste = this.convert({ html, text: '' });\n      this.quill.updateContents(\n        new Delta().retain(index).concat(paste),\n        source,\n      );\n      this.quill.setSelection(index + paste.length(), Quill.sources.SILENT);\n    }\n  }\n\n  onCaptureCopy(e: ClipboardEvent, isCut = false) {\n    if (e.defaultPrevented) return;\n    e.preventDefault();\n    const [range] = this.quill.selection.getRange();\n    if (range == null) return;\n    const { html, text } = this.onCopy(range, isCut);\n    e.clipboardData?.setData('text/plain', text);\n    e.clipboardData?.setData('text/html', html);\n    if (isCut) {\n      deleteRange({ range, quill: this.quill });\n    }\n  }\n\n  /*\n   * https://www.iana.org/assignments/media-types/text/uri-list\n   */\n  private normalizeURIList(urlList: string) {\n    return (\n      urlList\n        .split(/\\r?\\n/)\n        // Ignore all comments\n        .filter((url) => url[0] !== '#')\n        .join('\\n')\n    );\n  }\n\n  onCapturePaste(e: ClipboardEvent) {\n    if (e.defaultPrevented || !this.quill.isEnabled()) return;\n    e.preventDefault();\n    const range = this.quill.getSelection(true);\n    if (range == null) return;\n    const html = e.clipboardData?.getData('text/html');\n    let text = e.clipboardData?.getData('text/plain');\n    if (!html && !text) {\n      const urlList = e.clipboardData?.getData('text/uri-list');\n      if (urlList) {\n        text = this.normalizeURIList(urlList);\n      }\n    }\n    const files = Array.from(e.clipboardData?.files || []);\n    if (!html && files.length > 0) {\n      this.quill.uploader.upload(range, files);\n      return;\n    }\n    if (html && files.length > 0) {\n      const doc = new DOMParser().parseFromString(html, 'text/html');\n      if (\n        doc.body.childElementCount === 1 &&\n        doc.body.firstElementChild?.tagName === 'IMG'\n      ) {\n        this.quill.uploader.upload(range, files);\n        return;\n      }\n    }\n    this.onPaste(range, { html, text });\n  }\n\n  onCopy(range: Range, isCut: boolean): { html: string; text: string };\n  onCopy(range: Range) {\n    const text = this.quill.getText(range);\n    const html = this.quill.getSemanticHTML(range);\n    return { html, text };\n  }\n\n  onPaste(range: Range, { text, html }: { text?: string; html?: string }) {\n    const formats = this.quill.getFormat(range.index);\n    const pastedDelta = this.convert({ text, html }, formats);\n    debug.log('onPaste', pastedDelta, { text, html });\n    const delta = new Delta()\n      .retain(range.index)\n      .delete(range.length)\n      .concat(pastedDelta);\n    this.quill.updateContents(delta, Quill.sources.USER);\n    // range.length contributes to delta.length()\n    this.quill.setSelection(\n      delta.length() - range.length,\n      Quill.sources.SILENT,\n    );\n    this.quill.scrollSelectionIntoView();\n  }\n\n  prepareMatching(container: Element, nodeMatches: WeakMap<Node, Matcher[]>) {\n    const elementMatchers: Matcher[] = [];\n    const textMatchers: Matcher[] = [];\n    this.matchers.forEach((pair) => {\n      const [selector, matcher] = pair;\n      switch (selector) {\n        case Node.TEXT_NODE:\n          textMatchers.push(matcher);\n          break;\n        case Node.ELEMENT_NODE:\n          elementMatchers.push(matcher);\n          break;\n        default:\n          Array.from(container.querySelectorAll(selector)).forEach((node) => {\n            if (nodeMatches.has(node)) {\n              const matches = nodeMatches.get(node);\n              matches?.push(matcher);\n            } else {\n              nodeMatches.set(node, [matcher]);\n            }\n          });\n          break;\n      }\n    });\n    return [elementMatchers, textMatchers];\n  }\n}\n\nfunction applyFormat(\n  delta: Delta,\n  format: string,\n  value: unknown,\n  scroll: ScrollBlot,\n): Delta {\n  if (!scroll.query(format)) {\n    return delta;\n  }\n\n  return delta.reduce((newDelta, op) => {\n    if (!op.insert) return newDelta;\n    if (op.attributes && op.attributes[format]) {\n      return newDelta.push(op);\n    }\n    const formats = value ? { [format]: value } : {};\n    return newDelta.insert(op.insert, { ...formats, ...op.attributes });\n  }, new Delta());\n}\n\nfunction deltaEndsWith(delta: Delta, text: string) {\n  let endText = '';\n  for (\n    let i = delta.ops.length - 1;\n    i >= 0 && endText.length < text.length;\n    --i // eslint-disable-line no-plusplus\n  ) {\n    const op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node: Node, scroll: ScrollBlot) {\n  if (!(node instanceof Element)) return false;\n  const match = scroll.query(node);\n  // @ts-expect-error\n  if (match && match.prototype instanceof EmbedBlot) return false;\n\n  return [\n    'address',\n    'article',\n    'blockquote',\n    'canvas',\n    'dd',\n    'div',\n    'dl',\n    'dt',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'footer',\n    'form',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'header',\n    'iframe',\n    'li',\n    'main',\n    'nav',\n    'ol',\n    'output',\n    'p',\n    'pre',\n    'section',\n    'table',\n    'td',\n    'tr',\n    'ul',\n    'video',\n  ].includes(node.tagName.toLowerCase());\n}\n\nfunction isBetweenInlineElements(node: HTMLElement, scroll: ScrollBlot) {\n  return (\n    node.previousElementSibling &&\n    node.nextElementSibling &&\n    !isLine(node.previousElementSibling, scroll) &&\n    !isLine(node.nextElementSibling, scroll)\n  );\n}\n\nconst preNodes = new WeakMap();\nfunction isPre(node: Node | null) {\n  if (node == null) return false;\n  if (!preNodes.has(node)) {\n    // @ts-expect-error\n    if (node.tagName === 'PRE') {\n      preNodes.set(node, true);\n    } else {\n      preNodes.set(node, isPre(node.parentNode));\n    }\n  }\n  return preNodes.get(node);\n}\n\nfunction traverse(\n  scroll: ScrollBlot,\n  node: ChildNode,\n  elementMatchers: Matcher[],\n  textMatchers: Matcher[],\n  nodeMatches: WeakMap<Node, Matcher[]>,\n): Delta {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce((delta: Delta, matcher) => {\n      return matcher(node, delta, scroll);\n    }, new Delta());\n  }\n  if (node.nodeType === node.ELEMENT_NODE) {\n    return Array.from(node.childNodes || []).reduce((delta, childNode) => {\n      let childrenDelta = traverse(\n        scroll,\n        childNode,\n        elementMatchers,\n        textMatchers,\n        nodeMatches,\n      );\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce((reducedDelta, matcher) => {\n          return matcher(childNode as HTMLElement, reducedDelta, scroll);\n        }, childrenDelta);\n        childrenDelta = (nodeMatches.get(childNode) || []).reduce(\n          (reducedDelta, matcher) => {\n            return matcher(childNode, reducedDelta, scroll);\n          },\n          childrenDelta,\n        );\n      }\n      return delta.concat(childrenDelta);\n    }, new Delta());\n  }\n  return new Delta();\n}\n\nfunction createMatchAlias(format: string) {\n  return (_node: Element, delta: Delta, scroll: ScrollBlot) => {\n    return applyFormat(delta, format, true, scroll);\n  };\n}\n\nfunction matchAttributor(node: HTMLElement, delta: Delta, scroll: ScrollBlot) {\n  const attributes = Attributor.keys(node);\n  const classes = ClassAttributor.keys(node);\n  const styles = StyleAttributor.keys(node);\n  const formats: Record<string, string | undefined> = {};\n  attributes\n    .concat(classes)\n    .concat(styles)\n    .forEach((name) => {\n      let attr = scroll.query(name, Scope.ATTRIBUTE) as Attributor;\n      if (attr != null) {\n        formats[attr.attrName] = attr.value(node);\n        if (formats[attr.attrName]) return;\n      }\n      attr = ATTRIBUTE_ATTRIBUTORS[name];\n      if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n        formats[attr.attrName] = attr.value(node) || undefined;\n      }\n      attr = STYLE_ATTRIBUTORS[name];\n      if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n        attr = STYLE_ATTRIBUTORS[name];\n        formats[attr.attrName] = attr.value(node) || undefined;\n      }\n    });\n\n  return Object.entries(formats).reduce(\n    (newDelta, [name, value]) => applyFormat(newDelta, name, value, scroll),\n    delta,\n  );\n}\n\nfunction matchBlot(node: Node, delta: Delta, scroll: ScrollBlot) {\n  const match = scroll.query(node);\n  if (match == null) return delta;\n  // @ts-expect-error\n  if (match.prototype instanceof EmbedBlot) {\n    const embed = {};\n    // @ts-expect-error\n    const value = match.value(node);\n    if (value != null) {\n      // @ts-expect-error\n      embed[match.blotName] = value;\n      // @ts-expect-error\n      return new Delta().insert(embed, match.formats(node, scroll));\n    }\n  } else {\n    // @ts-expect-error\n    if (match.prototype instanceof BlockBlot && !deltaEndsWith(delta, '\\n')) {\n      delta.insert('\\n');\n    }\n    if (\n      'blotName' in match &&\n      'formats' in match &&\n      typeof match.formats === 'function'\n    ) {\n      return applyFormat(\n        delta,\n        match.blotName,\n        match.formats(node, scroll),\n        scroll,\n      );\n    }\n  }\n  return delta;\n}\n\nfunction matchBreak(node: Node, delta: Delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchCodeBlock(node: Node, delta: Delta, scroll: ScrollBlot) {\n  const match = scroll.query('code-block');\n  const language =\n    match && 'formats' in match && typeof match.formats === 'function'\n      ? match.formats(node, scroll)\n      : true;\n  return applyFormat(delta, 'code-block', language, scroll);\n}\n\nfunction matchIgnore() {\n  return new Delta();\n}\n\nfunction matchIndent(node: Node, delta: Delta, scroll: ScrollBlot) {\n  const match = scroll.query(node);\n  if (\n    match == null ||\n    // @ts-expect-error\n    match.blotName !== 'list' ||\n    !deltaEndsWith(delta, '\\n')\n  ) {\n    return delta;\n  }\n  let indent = -1;\n  let parent = node.parentNode;\n  while (parent != null) {\n    // @ts-expect-error\n    if (['OL', 'UL'].includes(parent.tagName)) {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.reduce((composed, op) => {\n    if (!op.insert) return composed;\n    if (op.attributes && typeof op.attributes.indent === 'number') {\n      return composed.push(op);\n    }\n    return composed.insert(op.insert, { indent, ...(op.attributes || {}) });\n  }, new Delta());\n}\n\nfunction matchList(node: Node, delta: Delta, scroll: ScrollBlot) {\n  const element = node as Element;\n  let list = element.tagName === 'OL' ? 'ordered' : 'bullet';\n\n  const checkedAttr = element.getAttribute('data-checked');\n  if (checkedAttr) {\n    list = checkedAttr === 'true' ? 'checked' : 'unchecked';\n  }\n\n  return applyFormat(delta, 'list', list, scroll);\n}\n\nfunction matchNewline(node: Node, delta: Delta, scroll: ScrollBlot) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (\n      isLine(node, scroll) &&\n      (node.childNodes.length > 0 || node instanceof HTMLParagraphElement)\n    ) {\n      return delta.insert('\\n');\n    }\n    if (delta.length() > 0 && node.nextSibling) {\n      let nextSibling: Node | null = node.nextSibling;\n      while (nextSibling != null) {\n        if (isLine(nextSibling, scroll)) {\n          return delta.insert('\\n');\n        }\n        const match = scroll.query(nextSibling);\n        // @ts-expect-error\n        if (match && match.prototype instanceof BlockEmbed) {\n          return delta.insert('\\n');\n        }\n        nextSibling = nextSibling.firstChild;\n      }\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node: HTMLElement, delta: Delta, scroll: ScrollBlot) {\n  const formats: Record<string, unknown> = {};\n  const style: Partial<CSSStyleDeclaration> = node.style || {};\n  if (style.fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.textDecoration === 'underline') {\n    formats.underline = true;\n  }\n  if (style.textDecoration === 'line-through') {\n    formats.strike = true;\n  }\n  if (\n    style.fontWeight?.startsWith('bold') ||\n    // @ts-expect-error Fix me later\n    parseInt(style.fontWeight, 10) >= 700\n  ) {\n    formats.bold = true;\n  }\n  delta = Object.entries(formats).reduce(\n    (newDelta, [name, value]) => applyFormat(newDelta, name, value, scroll),\n    delta,\n  );\n  // @ts-expect-error\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    return new Delta().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchTable(\n  node: HTMLTableRowElement,\n  delta: Delta,\n  scroll: ScrollBlot,\n) {\n  const table =\n    node.parentElement?.tagName === 'TABLE'\n      ? node.parentElement\n      : node.parentElement?.parentElement;\n  if (table != null) {\n    const rows = Array.from(table.querySelectorAll('tr'));\n    const row = rows.indexOf(node) + 1;\n    return applyFormat(delta, 'table', row, scroll);\n  }\n  return delta;\n}\n\nfunction matchText(node: HTMLElement, delta: Delta, scroll: ScrollBlot) {\n  // @ts-expect-error\n  let text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentElement?.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (!isPre(node)) {\n    if (\n      text.trim().length === 0 &&\n      text.includes('\\n') &&\n      !isBetweenInlineElements(node, scroll)\n    ) {\n      return delta;\n    }\n    const replacer = (collapse: unknown, match: string) => {\n      const replaced = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return replaced.length < 1 && collapse ? ' ' : replaced;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (\n      (node.previousSibling == null &&\n        node.parentElement != null &&\n        isLine(node.parentElement, scroll)) ||\n      (node.previousSibling instanceof Element &&\n        isLine(node.previousSibling, scroll))\n    ) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (\n      (node.nextSibling == null &&\n        node.parentElement != null &&\n        isLine(node.parentElement, scroll)) ||\n      (node.nextSibling instanceof Element && isLine(node.nextSibling, scroll))\n    ) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexport {\n  Clipboard as default,\n  matchAttributor,\n  matchBlot,\n  matchNewline,\n  matchText,\n  traverse,\n};\n","import { cloneDeep, isEqual } from 'lodash-es';\nimport Delta, { AttributeMap } from 'quill-delta';\nimport { EmbedBlot, Scope, TextBlot } from 'parchment';\nimport type { Blot, BlockBlot } from 'parchment';\nimport Quill from '../core/quill.js';\nimport logger from '../core/logger.js';\nimport Module from '../core/module.js';\nimport type { BlockEmbed } from '../blots/block.js';\nimport type { Range } from '../core/selection.js';\n\nconst debug = logger('quill:keyboard');\n\nconst SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nexport interface Context {\n  collapsed: boolean;\n  empty: boolean;\n  offset: number;\n  prefix: string;\n  suffix: string;\n  format: Record<string, unknown>;\n  event: KeyboardEvent;\n  line: BlockEmbed | BlockBlot;\n}\n\ninterface BindingObject\n  extends Partial<Omit<Context, 'prefix' | 'suffix' | 'format'>> {\n  key: number | string | string[];\n  shortKey?: boolean | null;\n  shiftKey?: boolean | null;\n  altKey?: boolean | null;\n  metaKey?: boolean | null;\n  ctrlKey?: boolean | null;\n  prefix?: RegExp;\n  suffix?: RegExp;\n  format?: Record<string, unknown> | string[];\n  handler?: (\n    this: { quill: Quill },\n    range: Range,\n    curContext: Context,\n    // eslint-disable-next-line no-use-before-define\n    binding: NormalizedBinding,\n  ) => boolean | void;\n}\n\ntype Binding = BindingObject | string | number;\n\ninterface NormalizedBinding extends Omit<BindingObject, 'key' | 'shortKey'> {\n  key: string | number;\n}\n\ninterface KeyboardOptions {\n  bindings: Record<string, Binding>;\n}\n\ninterface KeyboardOptions {\n  bindings: Record<string, Binding>;\n}\n\nclass Keyboard extends Module<KeyboardOptions> {\n  static DEFAULTS: KeyboardOptions;\n\n  static match(evt: KeyboardEvent, binding: BindingObject) {\n    if (\n      (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'] as const).some((key) => {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })\n    ) {\n      return false;\n    }\n    return binding.key === evt.key || binding.key === evt.which;\n  }\n\n  bindings: Record<string, NormalizedBinding[]>;\n\n  constructor(quill: Quill, options: Partial<KeyboardOptions>) {\n    super(quill, options);\n    this.bindings = {};\n    // @ts-expect-error Fix me later\n    Object.keys(this.options.bindings).forEach((name) => {\n      // @ts-expect-error Fix me later\n      if (this.options.bindings[name]) {\n        // @ts-expect-error Fix me later\n        this.addBinding(this.options.bindings[name]);\n      }\n    });\n    this.addBinding({ key: 'Enter', shiftKey: null }, this.handleEnter);\n    this.addBinding(\n      { key: 'Enter', metaKey: null, ctrlKey: null, altKey: null },\n      () => {},\n    );\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      this.addBinding(\n        { key: 'Backspace' },\n        { collapsed: true },\n        this.handleBackspace,\n      );\n      this.addBinding(\n        { key: 'Delete' },\n        { collapsed: true },\n        this.handleDelete,\n      );\n    } else {\n      this.addBinding(\n        { key: 'Backspace' },\n        { collapsed: true, prefix: /^.?$/ },\n        this.handleBackspace,\n      );\n      this.addBinding(\n        { key: 'Delete' },\n        { collapsed: true, suffix: /^.?$/ },\n        this.handleDelete,\n      );\n    }\n    this.addBinding(\n      { key: 'Backspace' },\n      { collapsed: false },\n      this.handleDeleteRange,\n    );\n    this.addBinding(\n      { key: 'Delete' },\n      { collapsed: false },\n      this.handleDeleteRange,\n    );\n    this.addBinding(\n      {\n        key: 'Backspace',\n        altKey: null,\n        ctrlKey: null,\n        metaKey: null,\n        shiftKey: null,\n      },\n      { collapsed: true, offset: 0 },\n      this.handleBackspace,\n    );\n    this.listen();\n  }\n\n  addBinding(\n    keyBinding: Binding,\n    context:\n      | Required<BindingObject['handler']>\n      | Partial<Omit<BindingObject, 'key' | 'handler'>> = {},\n    handler:\n      | Required<BindingObject['handler']>\n      | Partial<Omit<BindingObject, 'key' | 'handler'>> = {},\n  ) {\n    const binding = normalize(keyBinding);\n    if (binding == null) {\n      debug.warn('Attempted to add invalid keyboard binding', binding);\n      return;\n    }\n    if (typeof context === 'function') {\n      context = { handler: context };\n    }\n    if (typeof handler === 'function') {\n      handler = { handler };\n    }\n    const keys = Array.isArray(binding.key) ? binding.key : [binding.key];\n    keys.forEach((key) => {\n      const singleBinding = {\n        ...binding,\n        key,\n        ...context,\n        ...handler,\n      };\n      this.bindings[singleBinding.key] = this.bindings[singleBinding.key] || [];\n      this.bindings[singleBinding.key].push(singleBinding);\n    });\n  }\n\n  listen() {\n    this.quill.root.addEventListener('keydown', (evt) => {\n      if (evt.defaultPrevented || evt.isComposing) return;\n\n      // evt.isComposing is false when pressing Enter/Backspace when composing in Safari\n      // https://bugs.webkit.org/show_bug.cgi?id=165004\n      const isComposing =\n        evt.keyCode === 229 && (evt.key === 'Enter' || evt.key === 'Backspace');\n      if (isComposing) return;\n\n      const bindings = (this.bindings[evt.key] || []).concat(\n        this.bindings[evt.which] || [],\n      );\n      const matches = bindings.filter((binding) =>\n        Keyboard.match(evt, binding),\n      );\n      if (matches.length === 0) return;\n      // @ts-expect-error\n      const blot = Quill.find(evt.target, true);\n      if (blot && blot.scroll !== this.quill.scroll) return;\n      const range = this.quill.getSelection();\n      if (range == null || !this.quill.hasFocus()) return;\n      const [line, offset] = this.quill.getLine(range.index);\n      const [leafStart, offsetStart] = this.quill.getLeaf(range.index);\n      const [leafEnd, offsetEnd] =\n        range.length === 0\n          ? [leafStart, offsetStart]\n          : this.quill.getLeaf(range.index + range.length);\n      const prefixText =\n        leafStart instanceof TextBlot\n          ? leafStart.value().slice(0, offsetStart)\n          : '';\n      const suffixText =\n        leafEnd instanceof TextBlot ? leafEnd.value().slice(offsetEnd) : '';\n      const curContext = {\n        collapsed: range.length === 0,\n        // @ts-expect-error Fix me later\n        empty: range.length === 0 && line.length() <= 1,\n        format: this.quill.getFormat(range),\n        line,\n        offset,\n        prefix: prefixText,\n        suffix: suffixText,\n        event: evt,\n      };\n      const prevented = matches.some((binding) => {\n        if (\n          binding.collapsed != null &&\n          binding.collapsed !== curContext.collapsed\n        ) {\n          return false;\n        }\n        if (binding.empty != null && binding.empty !== curContext.empty) {\n          return false;\n        }\n        if (binding.offset != null && binding.offset !== curContext.offset) {\n          return false;\n        }\n        if (Array.isArray(binding.format)) {\n          // any format is present\n          if (binding.format.every((name) => curContext.format[name] == null)) {\n            return false;\n          }\n        } else if (typeof binding.format === 'object') {\n          // all formats must match\n          if (\n            !Object.keys(binding.format).every((name) => {\n              // @ts-expect-error Fix me later\n              if (binding.format[name] === true)\n                return curContext.format[name] != null;\n              // @ts-expect-error Fix me later\n              if (binding.format[name] === false)\n                return curContext.format[name] == null;\n              // @ts-expect-error Fix me later\n              return isEqual(binding.format[name], curContext.format[name]);\n            })\n          ) {\n            return false;\n          }\n        }\n        if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) {\n          return false;\n        }\n        if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) {\n          return false;\n        }\n        // @ts-expect-error Fix me later\n        return binding.handler.call(this, range, curContext, binding) !== true;\n      });\n      if (prevented) {\n        evt.preventDefault();\n      }\n    });\n  }\n\n  handleBackspace(range: Range, context: Context) {\n    // Check for astral symbols\n    const length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix)\n      ? 2\n      : 1;\n    if (range.index === 0 || this.quill.getLength() <= 1) return;\n    let formats = {};\n    const [line] = this.quill.getLine(range.index);\n    let delta = new Delta().retain(range.index - length).delete(length);\n    if (context.offset === 0) {\n      // Always deleting newline here, length always 1\n      const [prev] = this.quill.getLine(range.index - 1);\n      if (prev) {\n        const isPrevLineEmpty =\n          prev.statics.blotName === 'block' && prev.length() <= 1;\n        if (!isPrevLineEmpty) {\n          // @ts-expect-error Fix me later\n          const curFormats = line.formats();\n          const prevFormats = this.quill.getFormat(range.index - 1, 1);\n          formats = AttributeMap.diff(curFormats, prevFormats) || {};\n          if (Object.keys(formats).length > 0) {\n            // line.length() - 1 targets \\n in line, another -1 for newline being deleted\n            const formatDelta = new Delta()\n              // @ts-expect-error Fix me later\n              .retain(range.index + line.length() - 2)\n              .retain(1, formats);\n            delta = delta.compose(formatDelta);\n          }\n        }\n      }\n    }\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.quill.focus();\n  }\n\n  handleDelete(range: Range, context: Context) {\n    // Check for astral symbols\n    const length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix)\n      ? 2\n      : 1;\n    if (range.index >= this.quill.getLength() - length) return;\n    let formats = {};\n    const [line] = this.quill.getLine(range.index);\n    let delta = new Delta().retain(range.index).delete(length);\n    // @ts-expect-error Fix me later\n    if (context.offset >= line.length() - 1) {\n      const [next] = this.quill.getLine(range.index + 1);\n      if (next) {\n        // @ts-expect-error Fix me later\n        const curFormats = line.formats();\n        const nextFormats = this.quill.getFormat(range.index, 1);\n        formats = AttributeMap.diff(curFormats, nextFormats) || {};\n        if (Object.keys(formats).length > 0) {\n          delta = delta.retain(next.length() - 1).retain(1, formats);\n        }\n      }\n    }\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.quill.focus();\n  }\n\n  handleDeleteRange(range: Range) {\n    deleteRange({ range, quill: this.quill });\n    this.quill.focus();\n  }\n\n  handleEnter(range: Range, context: Context) {\n    const lineFormats = Object.keys(context.format).reduce(\n      (formats: Record<string, unknown>, format) => {\n        if (\n          this.quill.scroll.query(format, Scope.BLOCK) &&\n          !Array.isArray(context.format[format])\n        ) {\n          formats[format] = context.format[format];\n        }\n        return formats;\n      },\n      {},\n    );\n    const delta = new Delta()\n      .retain(range.index)\n      .delete(range.length)\n      .insert('\\n', lineFormats);\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.quill.setSelection(range.index + 1, Quill.sources.SILENT);\n    this.quill.focus();\n  }\n}\n\nconst defaultOptions: KeyboardOptions = {\n  bindings: {\n    bold: makeFormatHandler('bold'),\n    italic: makeFormatHandler('italic'),\n    underline: makeFormatHandler('underline'),\n    indent: {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: 'Tab',\n      format: ['blockquote', 'indent', 'list'],\n      handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', Quill.sources.USER);\n        return false;\n      },\n    },\n    outdent: {\n      key: 'Tab',\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', Quill.sources.USER);\n        return false;\n      },\n    },\n    'outdent backspace': {\n      key: 'Backspace',\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', Quill.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, Quill.sources.USER);\n        }\n      },\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: 'Tab',\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler(range) {\n        this.quill.deleteText(range.index - 1, 1, Quill.sources.USER);\n      },\n    },\n    tab: {\n      key: 'Tab',\n      handler(range, context) {\n        if (context.format.table) return true;\n        this.quill.history.cutoff();\n        const delta = new Delta()\n          .retain(range.index)\n          .delete(range.length)\n          .insert('\\t');\n        this.quill.updateContents(delta, Quill.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, Quill.sources.SILENT);\n        return false;\n      },\n    },\n    'blockquote empty enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['blockquote'],\n      empty: true,\n      handler() {\n        this.quill.format('blockquote', false, Quill.sources.USER);\n      },\n    },\n    'list empty enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler(range, context) {\n        const formats: Record<string, unknown> = { list: false };\n        if (context.format.indent) {\n          formats.indent = false;\n        }\n        this.quill.formatLine(\n          range.index,\n          range.length,\n          formats,\n          Quill.sources.USER,\n        );\n      },\n    },\n    'checklist enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: { list: 'checked' },\n      handler(range) {\n        const [line, offset] = this.quill.getLine(range.index);\n        const formats = {\n          // @ts-expect-error Fix me later\n          ...line.formats(),\n          list: 'checked',\n        };\n        const delta = new Delta()\n          .retain(range.index)\n          .insert('\\n', formats)\n          // @ts-expect-error Fix me later\n          .retain(line.length() - offset - 1)\n          .retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, Quill.sources.USER);\n        this.quill.setSelection(range.index + 1, Quill.sources.SILENT);\n        this.quill.scrollSelectionIntoView();\n      },\n    },\n    'header enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler(range, context) {\n        const [line, offset] = this.quill.getLine(range.index);\n        const delta = new Delta()\n          .retain(range.index)\n          .insert('\\n', context.format)\n          // @ts-expect-error Fix me later\n          .retain(line.length() - offset - 1)\n          .retain(1, { header: null });\n        this.quill.updateContents(delta, Quill.sources.USER);\n        this.quill.setSelection(range.index + 1, Quill.sources.SILENT);\n        this.quill.scrollSelectionIntoView();\n      },\n    },\n    'table backspace': {\n      key: 'Backspace',\n      format: ['table'],\n      collapsed: true,\n      offset: 0,\n      handler() {},\n    },\n    'table delete': {\n      key: 'Delete',\n      format: ['table'],\n      collapsed: true,\n      suffix: /^$/,\n      handler() {},\n    },\n    'table enter': {\n      key: 'Enter',\n      shiftKey: null,\n      format: ['table'],\n      handler(range) {\n        const module = this.quill.getModule('table');\n        if (module) {\n          // @ts-expect-error\n          const [table, row, cell, offset] = module.getTable(range);\n          const shift = tableSide(table, row, cell, offset);\n          if (shift == null) return;\n          let index = table.offset();\n          if (shift < 0) {\n            const delta = new Delta().retain(index).insert('\\n');\n            this.quill.updateContents(delta, Quill.sources.USER);\n            this.quill.setSelection(\n              range.index + 1,\n              range.length,\n              Quill.sources.SILENT,\n            );\n          } else if (shift > 0) {\n            index += table.length();\n            const delta = new Delta().retain(index).insert('\\n');\n            this.quill.updateContents(delta, Quill.sources.USER);\n            this.quill.setSelection(index, Quill.sources.USER);\n          }\n        }\n      },\n    },\n    'table tab': {\n      key: 'Tab',\n      shiftKey: null,\n      format: ['table'],\n      handler(range, context) {\n        const { event, line: cell } = context;\n        const offset = cell.offset(this.quill.scroll);\n        if (event.shiftKey) {\n          this.quill.setSelection(offset - 1, Quill.sources.USER);\n        } else {\n          this.quill.setSelection(offset + cell.length(), Quill.sources.USER);\n        }\n      },\n    },\n    'list autofill': {\n      key: ' ',\n      shiftKey: null,\n      collapsed: true,\n      format: {\n        'code-block': false,\n        blockquote: false,\n        table: false,\n      },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler(range, context) {\n        if (this.quill.scroll.query('list') == null) return true;\n        const { length } = context.prefix;\n        const [line, offset] = this.quill.getLine(range.index);\n        if (offset > length) return true;\n        let value;\n        switch (context.prefix.trim()) {\n          case '[]':\n          case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':\n          case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', Quill.sources.USER);\n        this.quill.history.cutoff();\n        const delta = new Delta()\n          .retain(range.index - offset)\n          .delete(length + 1)\n          // @ts-expect-error Fix me later\n          .retain(line.length() - 2 - offset)\n          .retain(1, { list: value });\n        this.quill.updateContents(delta, Quill.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, Quill.sources.SILENT);\n        return false;\n      },\n    },\n    'code exit': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /^$/,\n      suffix: /^\\s*$/,\n      handler(range) {\n        const [line, offset] = this.quill.getLine(range.index);\n        let numLines = 2;\n        let cur = line;\n        while (\n          cur != null &&\n          cur.length() <= 1 &&\n          cur.formats()['code-block']\n        ) {\n          // @ts-expect-error\n          cur = cur.prev;\n          numLines -= 1;\n          // Requisite prev lines are empty\n          if (numLines <= 0) {\n            const delta = new Delta()\n              // @ts-expect-error Fix me later\n              .retain(range.index + line.length() - offset - 2)\n              .retain(1, { 'code-block': null })\n              .delete(1);\n            this.quill.updateContents(delta, Quill.sources.USER);\n            this.quill.setSelection(range.index - 1, Quill.sources.SILENT);\n            return false;\n          }\n        }\n        return true;\n      },\n    },\n    'embed left': makeEmbedArrowHandler('ArrowLeft', false),\n    'embed left shift': makeEmbedArrowHandler('ArrowLeft', true),\n    'embed right': makeEmbedArrowHandler('ArrowRight', false),\n    'embed right shift': makeEmbedArrowHandler('ArrowRight', true),\n    'table down': makeTableArrowHandler(false),\n    'table up': makeTableArrowHandler(true),\n  },\n};\n\nKeyboard.DEFAULTS = defaultOptions;\n\nfunction makeCodeBlockHandler(indent: boolean): BindingObject {\n  return {\n    key: 'Tab',\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler(range, { event }) {\n      const CodeBlock = this.quill.scroll.query('code-block');\n      // @ts-expect-error\n      const { TAB } = CodeBlock;\n      if (range.length === 0 && !event.shiftKey) {\n        this.quill.insertText(range.index, TAB, Quill.sources.USER);\n        this.quill.setSelection(range.index + TAB.length, Quill.sources.SILENT);\n        return;\n      }\n\n      const lines =\n        range.length === 0\n          ? this.quill.getLines(range.index, 1)\n          : this.quill.getLines(range);\n      let { index, length } = range;\n      lines.forEach((line, i) => {\n        if (indent) {\n          line.insertAt(0, TAB);\n          if (i === 0) {\n            index += TAB.length;\n          } else {\n            length += TAB.length;\n          }\n          // @ts-expect-error Fix me later\n        } else if (line.domNode.textContent.startsWith(TAB)) {\n          line.deleteAt(0, TAB.length);\n          if (i === 0) {\n            index -= TAB.length;\n          } else {\n            length -= TAB.length;\n          }\n        }\n      });\n      this.quill.update(Quill.sources.USER);\n      this.quill.setSelection(index, length, Quill.sources.SILENT);\n    },\n  };\n}\n\nfunction makeEmbedArrowHandler(\n  key: string,\n  shiftKey: boolean | null,\n): BindingObject {\n  const where = key === 'ArrowLeft' ? 'prefix' : 'suffix';\n  return {\n    key,\n    shiftKey,\n    altKey: null,\n    [where]: /^$/,\n    handler(range) {\n      let { index } = range;\n      if (key === 'ArrowRight') {\n        index += range.length + 1;\n      }\n      const [leaf] = this.quill.getLeaf(index);\n      if (!(leaf instanceof EmbedBlot)) return true;\n      if (key === 'ArrowLeft') {\n        if (shiftKey) {\n          this.quill.setSelection(\n            range.index - 1,\n            range.length + 1,\n            Quill.sources.USER,\n          );\n        } else {\n          this.quill.setSelection(range.index - 1, Quill.sources.USER);\n        }\n      } else if (shiftKey) {\n        this.quill.setSelection(\n          range.index,\n          range.length + 1,\n          Quill.sources.USER,\n        );\n      } else {\n        this.quill.setSelection(\n          range.index + range.length + 1,\n          Quill.sources.USER,\n        );\n      }\n      return false;\n    },\n  };\n}\n\nfunction makeFormatHandler(format: string): BindingObject {\n  return {\n    key: format[0],\n    shortKey: true,\n    handler(range, context) {\n      this.quill.format(format, !context.format[format], Quill.sources.USER);\n    },\n  };\n}\n\nfunction makeTableArrowHandler(up: boolean): BindingObject {\n  return {\n    key: up ? 'ArrowUp' : 'ArrowDown',\n    collapsed: true,\n    format: ['table'],\n    handler(range, context) {\n      // TODO move to table module\n      const key = up ? 'prev' : 'next';\n      const cell = context.line;\n      const targetRow = cell.parent[key];\n      if (targetRow != null) {\n        if (targetRow.statics.blotName === 'table-row') {\n          // @ts-expect-error\n          let targetCell = targetRow.children.head;\n          let cur = cell;\n          while (cur.prev != null) {\n            // @ts-expect-error\n            cur = cur.prev;\n            targetCell = targetCell.next;\n          }\n          const index =\n            targetCell.offset(this.quill.scroll) +\n            Math.min(context.offset, targetCell.length() - 1);\n          this.quill.setSelection(index, 0, Quill.sources.USER);\n        }\n      } else {\n        // @ts-expect-error\n        const targetLine = cell.table()[key];\n        if (targetLine != null) {\n          if (up) {\n            this.quill.setSelection(\n              targetLine.offset(this.quill.scroll) + targetLine.length() - 1,\n              0,\n              Quill.sources.USER,\n            );\n          } else {\n            this.quill.setSelection(\n              targetLine.offset(this.quill.scroll),\n              0,\n              Quill.sources.USER,\n            );\n          }\n        }\n      }\n      return false;\n    },\n  };\n}\n\nfunction normalize(binding: Binding): BindingObject | null {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    binding = { key: binding };\n  } else if (typeof binding === 'object') {\n    binding = cloneDeep(binding);\n  } else {\n    return null;\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\n// TODO: Move into quill.ts or editor.ts\nfunction deleteRange({ quill, range }: { quill: Quill; range: Range }) {\n  const lines = quill.getLines(range);\n  let formats = {};\n  if (lines.length > 1) {\n    const firstFormats = lines[0].formats();\n    const lastFormats = lines[lines.length - 1].formats();\n    formats = AttributeMap.diff(lastFormats, firstFormats) || {};\n  }\n  quill.deleteText(range, Quill.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    quill.formatLine(range.index, 1, formats, Quill.sources.USER);\n  }\n  quill.setSelection(range.index, Quill.sources.SILENT);\n}\n\nfunction tableSide(_table: unknown, row: Blot, cell: Blot, offset: number) {\n  if (row.prev == null && row.next == null) {\n    if (cell.prev == null && cell.next == null) {\n      return offset === 0 ? -1 : 1;\n    }\n    return cell.prev == null ? -1 : 1;\n  }\n  if (row.prev == null) {\n    return -1;\n  }\n  if (row.next == null) {\n    return 1;\n  }\n  return null;\n}\n\nexport { Keyboard as default, SHORTKEY, normalize, deleteRange };\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int|Object} [cursor_pos] Edit position in text1 or object with more info\n * @param {boolean} [cleanup] Apply semantic cleanup before returning.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos, cleanup, _fix_unicode) {\n  // Check for equality\n  if (text1 === text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  if (cursor_pos != null) {\n    var editdiff = find_cursor_edit_diff(text1, text2, cursor_pos);\n    if (editdiff) {\n      return editdiff;\n    }\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs, _fix_unicode);\n  if (cleanup) {\n    diff_cleanupSemantic(diffs);\n  }\n  return diffs;\n}\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i !== -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [\n      [DIFF_INSERT, longtext.substring(0, i)],\n      [DIFF_EQUAL, shorttext],\n      [DIFF_INSERT, longtext.substring(i + shorttext.length)],\n    ];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length === 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [\n      [DIFF_DELETE, text1],\n      [DIFF_INSERT, text2],\n    ];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n}\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = delta % 2 !== 0;\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 === -d || (k1 !== d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (\n        x1 < text1_length &&\n        y1 < text2_length &&\n        text1.charAt(x1) === text2.charAt(y1)\n      ) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] !== -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 === -d || (k2 !== d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (\n        x2 < text1_length &&\n        y2 < text2_length &&\n        text1.charAt(text1_length - x2 - 1) ===\n          text2.charAt(text2_length - y2 - 1)\n      ) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] !== -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [\n    [DIFF_DELETE, text1],\n    [DIFF_INSERT, text2],\n  ];\n}\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n}\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) !== text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (\n      text1.substring(pointerstart, pointermid) ==\n      text2.substring(pointerstart, pointermid)\n    ) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  if (is_surrogate_pair_start(text1.charCodeAt(pointermid - 1))) {\n    pointermid--;\n  }\n\n  return pointermid;\n}\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\nfunction diff_commonOverlap_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: http://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (\n      found == 0 ||\n      text1.substring(text_length - length) == text2.substring(0, length)\n    ) {\n      best = length;\n      length++;\n    }\n  }\n}\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.slice(-1) !== text2.slice(-1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (\n      text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n      text2.substring(text2.length - pointermid, text2.length - pointerend)\n    ) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  if (is_surrogate_pair_end(text1.charCodeAt(text1.length - pointermid))) {\n    pointermid--;\n  }\n\n  return pointermid;\n}\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null; // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = \"\";\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) !== -1) {\n      var prefixLength = diff_commonPrefix(\n        longtext.substring(i),\n        shorttext.substring(j)\n      );\n      var suffixLength = diff_commonSuffix(\n        longtext.substring(0, i),\n        shorttext.substring(0, j)\n      );\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common =\n          shorttext.substring(j - suffixLength, j) +\n          shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [\n        best_longtext_a,\n        best_longtext_b,\n        best_shorttext_a,\n        best_shorttext_b,\n        best_common,\n      ];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(\n    longtext,\n    shorttext,\n    Math.ceil(longtext.length / 4)\n  );\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(\n    longtext,\n    shorttext,\n    Math.ceil(longtext.length / 2)\n  );\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n}\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\nfunction diff_cleanupSemantic(diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastequality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0; // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastequality = diffs[pointer][1];\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (\n        lastequality &&\n        lastequality.length <=\n          Math.max(length_insertions1, length_deletions1) &&\n        lastequality.length <= Math.max(length_insertions2, length_deletions2)\n      ) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, [\n          DIFF_DELETE,\n          lastequality,\n        ]);\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0; // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastequality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n  diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (\n      diffs[pointer - 1][0] == DIFF_DELETE &&\n      diffs[pointer][0] == DIFF_INSERT\n    ) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (\n          overlap_length1 >= deletion.length / 2 ||\n          overlap_length1 >= insertion.length / 2\n        ) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, [\n            DIFF_EQUAL,\n            insertion.substring(0, overlap_length1),\n          ]);\n          diffs[pointer - 1][1] = deletion.substring(\n            0,\n            deletion.length - overlap_length1\n          );\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (\n          overlap_length2 >= deletion.length / 2 ||\n          overlap_length2 >= insertion.length / 2\n        ) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, [\n            DIFF_EQUAL,\n            deletion.substring(0, overlap_length2),\n          ]);\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] = insertion.substring(\n            0,\n            insertion.length - overlap_length2\n          );\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] = deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n}\n\nvar nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\nvar whitespaceRegex_ = /\\s/;\nvar linebreakRegex_ = /[\\r\\n]/;\nvar blanklineEndRegex_ = /\\n\\r?\\n$/;\nvar blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\nfunction diff_cleanupSemanticLossless(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 && char1.match(whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 && char2.match(whitespaceRegex_);\n    var lineBreak1 = whitespace1 && char1.match(linebreakRegex_);\n    var lineBreak2 = whitespace2 && char2.match(linebreakRegex_);\n    var blankLine1 = lineBreak1 && one.match(blanklineEndRegex_);\n    var blankLine2 = lineBreak2 && two.match(blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (\n      diffs[pointer - 1][0] == DIFF_EQUAL &&\n      diffs[pointer + 1][0] == DIFF_EQUAL\n    ) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore =\n        diff_cleanupSemanticScore_(equality1, edit) +\n        diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score =\n          diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n}\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n * @param {boolean} fix_unicode Whether to normalize to a unicode-correct diff\n */\nfunction diff_cleanupMerge(diffs, fix_unicode) {\n  diffs.push([DIFF_EQUAL, \"\"]); // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = \"\";\n  var text_insert = \"\";\n  var commonlength;\n  while (pointer < diffs.length) {\n    if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\n      diffs.splice(pointer, 1);\n      continue;\n    }\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        var previous_equality = pointer - count_insert - count_delete - 1;\n        if (fix_unicode) {\n          // prevent splitting of unicode surrogate pairs.  when fix_unicode is true,\n          // we assume that the old and new text in the diff are complete and correct\n          // unicode-encoded JS strings, but the tuple boundaries may fall between\n          // surrogate pairs.  we fix this by shaving off stray surrogates from the end\n          // of the previous equality and the beginning of this equality.  this may create\n          // empty equalities or a common prefix or suffix.  for example, if AB and AC are\n          // emojis, `[[0, 'A'], [-1, 'BA'], [0, 'C']]` would turn into deleting 'ABAC' and\n          // inserting 'AC', and then the common suffix 'AC' will be eliminated.  in this\n          // particular case, both equalities go away, we absorb any previous inequalities,\n          // and we keep scanning for the next equality before rewriting the tuples.\n          if (\n            previous_equality >= 0 &&\n            ends_with_pair_start(diffs[previous_equality][1])\n          ) {\n            var stray = diffs[previous_equality][1].slice(-1);\n            diffs[previous_equality][1] = diffs[previous_equality][1].slice(\n              0,\n              -1\n            );\n            text_delete = stray + text_delete;\n            text_insert = stray + text_insert;\n            if (!diffs[previous_equality][1]) {\n              // emptied out previous equality, so delete it and include previous delete/insert\n              diffs.splice(previous_equality, 1);\n              pointer--;\n              var k = previous_equality - 1;\n              if (diffs[k] && diffs[k][0] === DIFF_INSERT) {\n                count_insert++;\n                text_insert = diffs[k][1] + text_insert;\n                k--;\n              }\n              if (diffs[k] && diffs[k][0] === DIFF_DELETE) {\n                count_delete++;\n                text_delete = diffs[k][1] + text_delete;\n                k--;\n              }\n              previous_equality = k;\n            }\n          }\n          if (starts_with_pair_end(diffs[pointer][1])) {\n            var stray = diffs[pointer][1].charAt(0);\n            diffs[pointer][1] = diffs[pointer][1].slice(1);\n            text_delete += stray;\n            text_insert += stray;\n          }\n        }\n        if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\n          // for empty equality not at end, wait for next equality\n          diffs.splice(pointer, 1);\n          break;\n        }\n        if (text_delete.length > 0 || text_insert.length > 0) {\n          // note that diff_commonPrefix and diff_commonSuffix are unicode-aware\n          if (text_delete.length > 0 && text_insert.length > 0) {\n            // Factor out any common prefixes.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if (previous_equality >= 0) {\n                diffs[previous_equality][1] += text_insert.substring(\n                  0,\n                  commonlength\n                );\n              } else {\n                diffs.splice(0, 0, [\n                  DIFF_EQUAL,\n                  text_insert.substring(0, commonlength),\n                ]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixes.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] =\n                text_insert.substring(text_insert.length - commonlength) +\n                diffs[pointer][1];\n              text_insert = text_insert.substring(\n                0,\n                text_insert.length - commonlength\n              );\n              text_delete = text_delete.substring(\n                0,\n                text_delete.length - commonlength\n              );\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          var n = count_insert + count_delete;\n          if (text_delete.length === 0 && text_insert.length === 0) {\n            diffs.splice(pointer - n, n);\n            pointer = pointer - n;\n          } else if (text_delete.length === 0) {\n            diffs.splice(pointer - n, n, [DIFF_INSERT, text_insert]);\n            pointer = pointer - n + 1;\n          } else if (text_insert.length === 0) {\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete]);\n            pointer = pointer - n + 1;\n          } else {\n            diffs.splice(\n              pointer - n,\n              n,\n              [DIFF_DELETE, text_delete],\n              [DIFF_INSERT, text_insert]\n            );\n            pointer = pointer - n + 2;\n          }\n        }\n        if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = \"\";\n        text_insert = \"\";\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === \"\") {\n    diffs.pop(); // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (\n      diffs[pointer - 1][0] === DIFF_EQUAL &&\n      diffs[pointer + 1][0] === DIFF_EQUAL\n    ) {\n      // This is a single edit surrounded by equalities.\n      if (\n        diffs[pointer][1].substring(\n          diffs[pointer][1].length - diffs[pointer - 1][1].length\n        ) === diffs[pointer - 1][1]\n      ) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] =\n          diffs[pointer - 1][1] +\n          diffs[pointer][1].substring(\n            0,\n            diffs[pointer][1].length - diffs[pointer - 1][1].length\n          );\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (\n        diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n        diffs[pointer + 1][1]\n      ) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n          diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n          diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs, fix_unicode);\n  }\n}\n\nfunction is_surrogate_pair_start(charCode) {\n  return charCode >= 0xd800 && charCode <= 0xdbff;\n}\n\nfunction is_surrogate_pair_end(charCode) {\n  return charCode >= 0xdc00 && charCode <= 0xdfff;\n}\n\nfunction starts_with_pair_end(str) {\n  return is_surrogate_pair_end(str.charCodeAt(0));\n}\n\nfunction ends_with_pair_start(str) {\n  return is_surrogate_pair_start(str.charCodeAt(str.length - 1));\n}\n\nfunction remove_empty_tuples(tuples) {\n  var ret = [];\n  for (var i = 0; i < tuples.length; i++) {\n    if (tuples[i][1].length > 0) {\n      ret.push(tuples[i]);\n    }\n  }\n  return ret;\n}\n\nfunction make_edit_splice(before, oldMiddle, newMiddle, after) {\n  if (ends_with_pair_start(before) || starts_with_pair_end(after)) {\n    return null;\n  }\n  return remove_empty_tuples([\n    [DIFF_EQUAL, before],\n    [DIFF_DELETE, oldMiddle],\n    [DIFF_INSERT, newMiddle],\n    [DIFF_EQUAL, after],\n  ]);\n}\n\nfunction find_cursor_edit_diff(oldText, newText, cursor_pos) {\n  // note: this runs after equality check has ruled out exact equality\n  var oldRange =\n    typeof cursor_pos === \"number\"\n      ? { index: cursor_pos, length: 0 }\n      : cursor_pos.oldRange;\n  var newRange = typeof cursor_pos === \"number\" ? null : cursor_pos.newRange;\n  // take into account the old and new selection to generate the best diff\n  // possible for a text edit.  for example, a text change from \"xxx\" to \"xx\"\n  // could be a delete or forwards-delete of any one of the x's, or the\n  // result of selecting two of the x's and typing \"x\".\n  var oldLength = oldText.length;\n  var newLength = newText.length;\n  if (oldRange.length === 0 && (newRange === null || newRange.length === 0)) {\n    // see if we have an insert or delete before or after cursor\n    var oldCursor = oldRange.index;\n    var oldBefore = oldText.slice(0, oldCursor);\n    var oldAfter = oldText.slice(oldCursor);\n    var maybeNewCursor = newRange ? newRange.index : null;\n    editBefore: {\n      // is this an insert or delete right before oldCursor?\n      var newCursor = oldCursor + newLength - oldLength;\n      if (maybeNewCursor !== null && maybeNewCursor !== newCursor) {\n        break editBefore;\n      }\n      if (newCursor < 0 || newCursor > newLength) {\n        break editBefore;\n      }\n      var newBefore = newText.slice(0, newCursor);\n      var newAfter = newText.slice(newCursor);\n      if (newAfter !== oldAfter) {\n        break editBefore;\n      }\n      var prefixLength = Math.min(oldCursor, newCursor);\n      var oldPrefix = oldBefore.slice(0, prefixLength);\n      var newPrefix = newBefore.slice(0, prefixLength);\n      if (oldPrefix !== newPrefix) {\n        break editBefore;\n      }\n      var oldMiddle = oldBefore.slice(prefixLength);\n      var newMiddle = newBefore.slice(prefixLength);\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldAfter);\n    }\n    editAfter: {\n      // is this an insert or delete right after oldCursor?\n      if (maybeNewCursor !== null && maybeNewCursor !== oldCursor) {\n        break editAfter;\n      }\n      var cursor = oldCursor;\n      var newBefore = newText.slice(0, cursor);\n      var newAfter = newText.slice(cursor);\n      if (newBefore !== oldBefore) {\n        break editAfter;\n      }\n      var suffixLength = Math.min(oldLength - cursor, newLength - cursor);\n      var oldSuffix = oldAfter.slice(oldAfter.length - suffixLength);\n      var newSuffix = newAfter.slice(newAfter.length - suffixLength);\n      if (oldSuffix !== newSuffix) {\n        break editAfter;\n      }\n      var oldMiddle = oldAfter.slice(0, oldAfter.length - suffixLength);\n      var newMiddle = newAfter.slice(0, newAfter.length - suffixLength);\n      return make_edit_splice(oldBefore, oldMiddle, newMiddle, oldSuffix);\n    }\n  }\n  if (oldRange.length > 0 && newRange && newRange.length === 0) {\n    replaceRange: {\n      // see if diff could be a splice of the old selection range\n      var oldPrefix = oldText.slice(0, oldRange.index);\n      var oldSuffix = oldText.slice(oldRange.index + oldRange.length);\n      var prefixLength = oldPrefix.length;\n      var suffixLength = oldSuffix.length;\n      if (newLength < prefixLength + suffixLength) {\n        break replaceRange;\n      }\n      var newPrefix = newText.slice(0, prefixLength);\n      var newSuffix = newText.slice(newLength - suffixLength);\n      if (oldPrefix !== newPrefix || oldSuffix !== newSuffix) {\n        break replaceRange;\n      }\n      var oldMiddle = oldText.slice(prefixLength, oldLength - suffixLength);\n      var newMiddle = newText.slice(prefixLength, newLength - suffixLength);\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldSuffix);\n    }\n  }\n\n  return null;\n}\n\nfunction diff(text1, text2, cursor_pos, cleanup) {\n  // only pass fix_unicode=true at the top level, not when diff_main is\n  // recursively invoked\n  return diff_main(text1, text2, cursor_pos, cleanup, true);\n}\n\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","import cloneDeep = require('lodash.clonedeep');\nimport isEqual = require('lodash.isequal');\n\ninterface AttributeMap {\n  [key: string]: unknown;\n}\n\nnamespace AttributeMap {\n  export function compose(\n    a: AttributeMap = {},\n    b: AttributeMap = {},\n    keepNull = false,\n  ): AttributeMap | undefined {\n    if (typeof a !== 'object') {\n      a = {};\n    }\n    if (typeof b !== 'object') {\n      b = {};\n    }\n    let attributes = cloneDeep(b);\n    if (!keepNull) {\n      attributes = Object.keys(attributes).reduce<AttributeMap>((copy, key) => {\n        if (attributes[key] != null) {\n          copy[key] = attributes[key];\n        }\n        return copy;\n      }, {});\n    }\n    for (const key in a) {\n      if (a[key] !== undefined && b[key] === undefined) {\n        attributes[key] = a[key];\n      }\n    }\n    return Object.keys(attributes).length > 0 ? attributes : undefined;\n  }\n\n  export function diff(\n    a: AttributeMap = {},\n    b: AttributeMap = {},\n  ): AttributeMap | undefined {\n    if (typeof a !== 'object') {\n      a = {};\n    }\n    if (typeof b !== 'object') {\n      b = {};\n    }\n    const attributes = Object.keys(a)\n      .concat(Object.keys(b))\n      .reduce<AttributeMap>((attrs, key) => {\n        if (!isEqual(a[key], b[key])) {\n          attrs[key] = b[key] === undefined ? null : b[key];\n        }\n        return attrs;\n      }, {});\n    return Object.keys(attributes).length > 0 ? attributes : undefined;\n  }\n\n  export function invert(\n    attr: AttributeMap = {},\n    base: AttributeMap = {},\n  ): AttributeMap {\n    attr = attr || {};\n    const baseInverted = Object.keys(base).reduce<AttributeMap>((memo, key) => {\n      if (base[key] !== attr[key] && attr[key] !== undefined) {\n        memo[key] = base[key];\n      }\n      return memo;\n    }, {});\n    return Object.keys(attr).reduce<AttributeMap>((memo, key) => {\n      if (attr[key] !== base[key] && base[key] === undefined) {\n        memo[key] = null;\n      }\n      return memo;\n    }, baseInverted);\n  }\n\n  export function transform(\n    a: AttributeMap | undefined,\n    b: AttributeMap | undefined,\n    priority = false,\n  ): AttributeMap | undefined {\n    if (typeof a !== 'object') {\n      return b;\n    }\n    if (typeof b !== 'object') {\n      return undefined;\n    }\n    if (!priority) {\n      return b; // b simply overwrites us without priority\n    }\n    const attributes = Object.keys(b).reduce<AttributeMap>((attrs, key) => {\n      if (a[key] === undefined) {\n        attrs[key] = b[key]; // null is a valid value\n      }\n      return attrs;\n    }, {});\n    return Object.keys(attributes).length > 0 ? attributes : undefined;\n  }\n}\n\nexport default AttributeMap;\n","import * as diff from 'fast-diff';\nimport cloneDeep = require('lodash.clonedeep');\nimport isEqual = require('lodash.isequal');\nimport AttributeMap from './AttributeMap';\nimport Op from './Op';\nimport OpIterator from './OpIterator';\n\nconst NULL_CHARACTER = String.fromCharCode(0); // Placeholder char for embed in diff()\n\ninterface EmbedHandler<T> {\n  compose(a: T, b: T, keepNull: boolean): T;\n  invert(a: T, b: T): T;\n  transform(a: T, b: T, priority: boolean): T;\n}\n\nconst getEmbedTypeAndData = (\n  a: Op['insert'] | Op['retain'],\n  b: Op['insert'],\n): [string, unknown, unknown] => {\n  if (typeof a !== 'object' || a === null) {\n    throw new Error(`cannot retain a ${typeof a}`);\n  }\n  if (typeof b !== 'object' || b === null) {\n    throw new Error(`cannot retain a ${typeof b}`);\n  }\n  const embedType = Object.keys(a)[0];\n  if (!embedType || embedType !== Object.keys(b)[0]) {\n    throw new Error(\n      `embed types not matched: ${embedType} != ${Object.keys(b)[0]}`,\n    );\n  }\n  return [embedType, a[embedType], b[embedType]];\n};\n\nclass Delta {\n  static Op = Op;\n  static OpIterator = OpIterator;\n  static AttributeMap = AttributeMap;\n  private static handlers: { [embedType: string]: EmbedHandler<unknown> } = {};\n\n  static registerEmbed<T>(embedType: string, handler: EmbedHandler<T>): void {\n    this.handlers[embedType] = handler;\n  }\n\n  static unregisterEmbed(embedType: string): void {\n    delete this.handlers[embedType];\n  }\n\n  private static getHandler(embedType: string): EmbedHandler<unknown> {\n    const handler = this.handlers[embedType];\n    if (!handler) {\n      throw new Error(`no handlers for embed type \"${embedType}\"`);\n    }\n    return handler;\n  }\n\n  ops: Op[];\n  constructor(ops?: Op[] | { ops: Op[] }) {\n    // Assume we are given a well formed ops\n    if (Array.isArray(ops)) {\n      this.ops = ops;\n    } else if (ops != null && Array.isArray(ops.ops)) {\n      this.ops = ops.ops;\n    } else {\n      this.ops = [];\n    }\n  }\n\n  insert(\n    arg: string | Record<string, unknown>,\n    attributes?: AttributeMap | null,\n  ): this {\n    const newOp: Op = {};\n    if (typeof arg === 'string' && arg.length === 0) {\n      return this;\n    }\n    newOp.insert = arg;\n    if (\n      attributes != null &&\n      typeof attributes === 'object' &&\n      Object.keys(attributes).length > 0\n    ) {\n      newOp.attributes = attributes;\n    }\n    return this.push(newOp);\n  }\n\n  delete(length: number): this {\n    if (length <= 0) {\n      return this;\n    }\n    return this.push({ delete: length });\n  }\n\n  retain(\n    length: number | Record<string, unknown>,\n    attributes?: AttributeMap | null,\n  ): this {\n    if (typeof length === 'number' && length <= 0) {\n      return this;\n    }\n    const newOp: Op = { retain: length };\n    if (\n      attributes != null &&\n      typeof attributes === 'object' &&\n      Object.keys(attributes).length > 0\n    ) {\n      newOp.attributes = attributes;\n    }\n    return this.push(newOp);\n  }\n\n  push(newOp: Op): this {\n    let index = this.ops.length;\n    let lastOp = this.ops[index - 1];\n    newOp = cloneDeep(newOp);\n    if (typeof lastOp === 'object') {\n      if (\n        typeof newOp.delete === 'number' &&\n        typeof lastOp.delete === 'number'\n      ) {\n        this.ops[index - 1] = { delete: lastOp.delete + newOp.delete };\n        return this;\n      }\n      // Since it does not matter if we insert before or after deleting at the same index,\n      // always prefer to insert first\n      if (typeof lastOp.delete === 'number' && newOp.insert != null) {\n        index -= 1;\n        lastOp = this.ops[index - 1];\n        if (typeof lastOp !== 'object') {\n          this.ops.unshift(newOp);\n          return this;\n        }\n      }\n      if (isEqual(newOp.attributes, lastOp.attributes)) {\n        if (\n          typeof newOp.insert === 'string' &&\n          typeof lastOp.insert === 'string'\n        ) {\n          this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n          if (typeof newOp.attributes === 'object') {\n            this.ops[index - 1].attributes = newOp.attributes;\n          }\n          return this;\n        } else if (\n          typeof newOp.retain === 'number' &&\n          typeof lastOp.retain === 'number'\n        ) {\n          this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n          if (typeof newOp.attributes === 'object') {\n            this.ops[index - 1].attributes = newOp.attributes;\n          }\n          return this;\n        }\n      }\n    }\n    if (index === this.ops.length) {\n      this.ops.push(newOp);\n    } else {\n      this.ops.splice(index, 0, newOp);\n    }\n    return this;\n  }\n\n  chop(): this {\n    const lastOp = this.ops[this.ops.length - 1];\n    if (lastOp && typeof lastOp.retain === 'number' && !lastOp.attributes) {\n      this.ops.pop();\n    }\n    return this;\n  }\n\n  filter(predicate: (op: Op, index: number) => boolean): Op[] {\n    return this.ops.filter(predicate);\n  }\n\n  forEach(predicate: (op: Op, index: number) => void): void {\n    this.ops.forEach(predicate);\n  }\n\n  map<T>(predicate: (op: Op, index: number) => T): T[] {\n    return this.ops.map(predicate);\n  }\n\n  partition(predicate: (op: Op) => boolean): [Op[], Op[]] {\n    const passed: Op[] = [];\n    const failed: Op[] = [];\n    this.forEach((op) => {\n      const target = predicate(op) ? passed : failed;\n      target.push(op);\n    });\n    return [passed, failed];\n  }\n\n  reduce<T>(\n    predicate: (accum: T, curr: Op, index: number) => T,\n    initialValue: T,\n  ): T {\n    return this.ops.reduce(predicate, initialValue);\n  }\n\n  changeLength(): number {\n    return this.reduce((length, elem) => {\n      if (elem.insert) {\n        return length + Op.length(elem);\n      } else if (elem.delete) {\n        return length - elem.delete;\n      }\n      return length;\n    }, 0);\n  }\n\n  length(): number {\n    return this.reduce((length, elem) => {\n      return length + Op.length(elem);\n    }, 0);\n  }\n\n  slice(start = 0, end = Infinity): Delta {\n    const ops = [];\n    const iter = new OpIterator(this.ops);\n    let index = 0;\n    while (index < end && iter.hasNext()) {\n      let nextOp;\n      if (index < start) {\n        nextOp = iter.next(start - index);\n      } else {\n        nextOp = iter.next(end - index);\n        ops.push(nextOp);\n      }\n      index += Op.length(nextOp);\n    }\n    return new Delta(ops);\n  }\n\n  compose(other: Delta): Delta {\n    const thisIter = new OpIterator(this.ops);\n    const otherIter = new OpIterator(other.ops);\n    const ops = [];\n    const firstOther = otherIter.peek();\n    if (\n      firstOther != null &&\n      typeof firstOther.retain === 'number' &&\n      firstOther.attributes == null\n    ) {\n      let firstLeft = firstOther.retain;\n      while (\n        thisIter.peekType() === 'insert' &&\n        thisIter.peekLength() <= firstLeft\n      ) {\n        firstLeft -= thisIter.peekLength();\n        ops.push(thisIter.next());\n      }\n      if (firstOther.retain - firstLeft > 0) {\n        otherIter.next(firstOther.retain - firstLeft);\n      }\n    }\n    const delta = new Delta(ops);\n    while (thisIter.hasNext() || otherIter.hasNext()) {\n      if (otherIter.peekType() === 'insert') {\n        delta.push(otherIter.next());\n      } else if (thisIter.peekType() === 'delete') {\n        delta.push(thisIter.next());\n      } else {\n        const length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n        const thisOp = thisIter.next(length);\n        const otherOp = otherIter.next(length);\n        if (otherOp.retain) {\n          const newOp: Op = {};\n          if (typeof thisOp.retain === 'number') {\n            newOp.retain =\n              typeof otherOp.retain === 'number' ? length : otherOp.retain;\n          } else {\n            if (typeof otherOp.retain === 'number') {\n              if (thisOp.retain == null) {\n                newOp.insert = thisOp.insert;\n              } else {\n                newOp.retain = thisOp.retain;\n              }\n            } else {\n              const action = thisOp.retain == null ? 'insert' : 'retain';\n              const [embedType, thisData, otherData] = getEmbedTypeAndData(\n                thisOp[action],\n                otherOp.retain,\n              );\n              const handler = Delta.getHandler(embedType);\n              newOp[action] = {\n                [embedType]: handler.compose(\n                  thisData,\n                  otherData,\n                  action === 'retain',\n                ),\n              };\n            }\n          }\n          // Preserve null when composing with a retain, otherwise remove it for inserts\n          const attributes = AttributeMap.compose(\n            thisOp.attributes,\n            otherOp.attributes,\n            typeof thisOp.retain === 'number',\n          );\n          if (attributes) {\n            newOp.attributes = attributes;\n          }\n          delta.push(newOp);\n\n          // Optimization if rest of other is just retain\n          if (\n            !otherIter.hasNext() &&\n            isEqual(delta.ops[delta.ops.length - 1], newOp)\n          ) {\n            const rest = new Delta(thisIter.rest());\n            return delta.concat(rest).chop();\n          }\n\n          // Other op should be delete, we could be an insert or retain\n          // Insert + delete cancels out\n        } else if (\n          typeof otherOp.delete === 'number' &&\n          (typeof thisOp.retain === 'number' ||\n            (typeof thisOp.retain === 'object' && thisOp.retain !== null))\n        ) {\n          delta.push(otherOp);\n        }\n      }\n    }\n    return delta.chop();\n  }\n\n  concat(other: Delta): Delta {\n    const delta = new Delta(this.ops.slice());\n    if (other.ops.length > 0) {\n      delta.push(other.ops[0]);\n      delta.ops = delta.ops.concat(other.ops.slice(1));\n    }\n    return delta;\n  }\n\n  diff(other: Delta, cursor?: number | diff.CursorInfo): Delta {\n    if (this.ops === other.ops) {\n      return new Delta();\n    }\n    const strings = [this, other].map((delta) => {\n      return delta\n        .map((op) => {\n          if (op.insert != null) {\n            return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n          }\n          const prep = delta === other ? 'on' : 'with';\n          throw new Error('diff() called ' + prep + ' non-document');\n        })\n        .join('');\n    });\n    const retDelta = new Delta();\n    const diffResult = diff(strings[0], strings[1], cursor, true);\n    const thisIter = new OpIterator(this.ops);\n    const otherIter = new OpIterator(other.ops);\n    diffResult.forEach((component: diff.Diff) => {\n      let length = component[1].length;\n      while (length > 0) {\n        let opLength = 0;\n        switch (component[0]) {\n          case diff.INSERT:\n            opLength = Math.min(otherIter.peekLength(), length);\n            retDelta.push(otherIter.next(opLength));\n            break;\n          case diff.DELETE:\n            opLength = Math.min(length, thisIter.peekLength());\n            thisIter.next(opLength);\n            retDelta.delete(opLength);\n            break;\n          case diff.EQUAL:\n            opLength = Math.min(\n              thisIter.peekLength(),\n              otherIter.peekLength(),\n              length,\n            );\n            const thisOp = thisIter.next(opLength);\n            const otherOp = otherIter.next(opLength);\n            if (isEqual(thisOp.insert, otherOp.insert)) {\n              retDelta.retain(\n                opLength,\n                AttributeMap.diff(thisOp.attributes, otherOp.attributes),\n              );\n            } else {\n              retDelta.push(otherOp).delete(opLength);\n            }\n            break;\n        }\n        length -= opLength;\n      }\n    });\n    return retDelta.chop();\n  }\n\n  eachLine(\n    predicate: (\n      line: Delta,\n      attributes: AttributeMap,\n      index: number,\n    ) => boolean | void,\n    newline = '\\n',\n  ): void {\n    const iter = new OpIterator(this.ops);\n    let line = new Delta();\n    let i = 0;\n    while (iter.hasNext()) {\n      if (iter.peekType() !== 'insert') {\n        return;\n      }\n      const thisOp = iter.peek();\n      const start = Op.length(thisOp) - iter.peekLength();\n      const index =\n        typeof thisOp.insert === 'string'\n          ? thisOp.insert.indexOf(newline, start) - start\n          : -1;\n      if (index < 0) {\n        line.push(iter.next());\n      } else if (index > 0) {\n        line.push(iter.next(index));\n      } else {\n        if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n          return;\n        }\n        i += 1;\n        line = new Delta();\n      }\n    }\n    if (line.length() > 0) {\n      predicate(line, {}, i);\n    }\n  }\n\n  invert(base: Delta): Delta {\n    const inverted = new Delta();\n    this.reduce((baseIndex, op) => {\n      if (op.insert) {\n        inverted.delete(Op.length(op));\n      } else if (typeof op.retain === 'number' && op.attributes == null) {\n        inverted.retain(op.retain);\n        return baseIndex + op.retain;\n      } else if (op.delete || typeof op.retain === 'number') {\n        const length = (op.delete || op.retain) as number;\n        const slice = base.slice(baseIndex, baseIndex + length);\n        slice.forEach((baseOp) => {\n          if (op.delete) {\n            inverted.push(baseOp);\n          } else if (op.retain && op.attributes) {\n            inverted.retain(\n              Op.length(baseOp),\n              AttributeMap.invert(op.attributes, baseOp.attributes),\n            );\n          }\n        });\n        return baseIndex + length;\n      } else if (typeof op.retain === 'object' && op.retain !== null) {\n        const slice = base.slice(baseIndex, baseIndex + 1);\n        const baseOp = new OpIterator(slice.ops).next();\n        const [embedType, opData, baseOpData] = getEmbedTypeAndData(\n          op.retain,\n          baseOp.insert,\n        );\n        const handler = Delta.getHandler(embedType);\n        inverted.retain(\n          { [embedType]: handler.invert(opData, baseOpData) },\n          AttributeMap.invert(op.attributes, baseOp.attributes),\n        );\n        return baseIndex + 1;\n      }\n      return baseIndex;\n    }, 0);\n    return inverted.chop();\n  }\n\n  transform(index: number, priority?: boolean): number;\n  transform(other: Delta, priority?: boolean): Delta;\n  transform(arg: number | Delta, priority = false): typeof arg {\n    priority = !!priority;\n    if (typeof arg === 'number') {\n      return this.transformPosition(arg, priority);\n    }\n    const other: Delta = arg;\n    const thisIter = new OpIterator(this.ops);\n    const otherIter = new OpIterator(other.ops);\n    const delta = new Delta();\n    while (thisIter.hasNext() || otherIter.hasNext()) {\n      if (\n        thisIter.peekType() === 'insert' &&\n        (priority || otherIter.peekType() !== 'insert')\n      ) {\n        delta.retain(Op.length(thisIter.next()));\n      } else if (otherIter.peekType() === 'insert') {\n        delta.push(otherIter.next());\n      } else {\n        const length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n        const thisOp = thisIter.next(length);\n        const otherOp = otherIter.next(length);\n        if (thisOp.delete) {\n          // Our delete either makes their delete redundant or removes their retain\n          continue;\n        } else if (otherOp.delete) {\n          delta.push(otherOp);\n        } else {\n          const thisData = thisOp.retain;\n          const otherData = otherOp.retain;\n          let transformedData: Op['retain'] =\n            typeof otherData === 'object' && otherData !== null\n              ? otherData\n              : length;\n          if (\n            typeof thisData === 'object' &&\n            thisData !== null &&\n            typeof otherData === 'object' &&\n            otherData !== null\n          ) {\n            const embedType = Object.keys(thisData)[0];\n            if (embedType === Object.keys(otherData)[0]) {\n              const handler = Delta.getHandler(embedType);\n              if (handler) {\n                transformedData = {\n                  [embedType]: handler.transform(\n                    thisData[embedType],\n                    otherData[embedType],\n                    priority,\n                  ),\n                };\n              }\n            }\n          }\n\n          // We retain either their retain or insert\n          delta.retain(\n            transformedData,\n            AttributeMap.transform(\n              thisOp.attributes,\n              otherOp.attributes,\n              priority,\n            ),\n          );\n        }\n      }\n    }\n    return delta.chop();\n  }\n\n  transformPosition(index: number, priority = false): number {\n    priority = !!priority;\n    const thisIter = new OpIterator(this.ops);\n    let offset = 0;\n    while (thisIter.hasNext() && offset <= index) {\n      const length = thisIter.peekLength();\n      const nextType = thisIter.peekType();\n      thisIter.next();\n      if (nextType === 'delete') {\n        index -= Math.min(length, index - offset);\n        continue;\n      } else if (nextType === 'insert' && (offset < index || !priority)) {\n        index += length;\n      }\n      offset += length;\n    }\n    return index;\n  }\n}\n\nexport default Delta;\n\nexport { Op, OpIterator, AttributeMap };\n\nif (typeof module === 'object') {\n  module.exports = Delta;\n  module.exports.default = Delta;\n}\n","import AttributeMap from './AttributeMap';\n\ninterface Op {\n  // only one property out of {insert, delete, retain} will be present\n  insert?: string | Record<string, unknown>;\n  delete?: number;\n  retain?: number | Record<string, unknown>;\n\n  attributes?: AttributeMap;\n}\n\nnamespace Op {\n  export function length(op: Op): number {\n    if (typeof op.delete === 'number') {\n      return op.delete;\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else if (typeof op.retain === 'object' && op.retain !== null) {\n      return 1;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n}\n\nexport default Op;\n","import Op from './Op';\n\nexport default class Iterator {\n  ops: Op[];\n  index: number;\n  offset: number;\n\n  constructor(ops: Op[]) {\n    this.ops = ops;\n    this.index = 0;\n    this.offset = 0;\n  }\n\n  hasNext(): boolean {\n    return this.peekLength() < Infinity;\n  }\n\n  next(length?: number): Op {\n    if (!length) {\n      length = Infinity;\n    }\n    const nextOp = this.ops[this.index];\n    if (nextOp) {\n      const offset = this.offset;\n      const opLength = Op.length(nextOp);\n      if (length >= opLength - offset) {\n        length = opLength - offset;\n        this.index += 1;\n        this.offset = 0;\n      } else {\n        this.offset += length;\n      }\n      if (typeof nextOp.delete === 'number') {\n        return { delete: length };\n      } else {\n        const retOp: Op = {};\n        if (nextOp.attributes) {\n          retOp.attributes = nextOp.attributes;\n        }\n        if (typeof nextOp.retain === 'number') {\n          retOp.retain = length;\n        } else if (\n          typeof nextOp.retain === 'object' &&\n          nextOp.retain !== null\n        ) {\n          // offset should === 0, length should === 1\n          retOp.retain = nextOp.retain;\n        } else if (typeof nextOp.insert === 'string') {\n          retOp.insert = nextOp.insert.substr(offset, length);\n        } else {\n          // offset should === 0, length should === 1\n          retOp.insert = nextOp.insert;\n        }\n        return retOp;\n      }\n    } else {\n      return { retain: Infinity };\n    }\n  }\n\n  peek(): Op {\n    return this.ops[this.index];\n  }\n\n  peekLength(): number {\n    if (this.ops[this.index]) {\n      // Should never return 0 if our index is being managed correctly\n      return Op.length(this.ops[this.index]) - this.offset;\n    } else {\n      return Infinity;\n    }\n  }\n\n  peekType(): string {\n    const op = this.ops[this.index];\n    if (op) {\n      if (typeof op.delete === 'number') {\n        return 'delete';\n      } else if (\n        typeof op.retain === 'number' ||\n        (typeof op.retain === 'object' && op.retain !== null)\n      ) {\n        return 'retain';\n      } else {\n        return 'insert';\n      }\n    }\n    return 'retain';\n  }\n\n  rest(): Op[] {\n    if (!this.hasNext()) {\n      return [];\n    } else if (this.offset === 0) {\n      return this.ops.slice(this.index);\n    } else {\n      const offset = this.offset;\n      const index = this.index;\n      const next = this.next();\n      const rest = this.ops.slice(this.index);\n      this.offset = offset;\n      this.index = index;\n      return [next].concat(rest);\n    }\n  }\n}\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","enum Scope {\n  TYPE = (1 << 2) - 1, // 0011 Lower two bits\n  LEVEL = ((1 << 2) - 1) << 2, // 1100 Higher two bits\n\n  ATTRIBUTE = (1 << 0) | LEVEL, // 1101\n  BLOT = (1 << 1) | LEVEL, // 1110\n  INLINE = (1 << 2) | TYPE, // 0111\n  BLOCK = (1 << 3) | TYPE, // 1011\n\n  BLOCK_BLOT = BLOCK & BLOT, // 1010\n  INLINE_BLOT = INLINE & BLOT, // 0110\n  BLOCK_ATTRIBUTE = BLOCK & ATTRIBUTE, // 1001\n  INLINE_ATTRIBUTE = INLINE & ATTRIBUTE, // 0101\n\n  ANY = TYPE | LEVEL,\n}\n\nexport default Scope;\n","import Scope from '../scope.js';\n\nexport interface AttributorOptions {\n  scope?: Scope;\n  whitelist?: string[];\n}\n\nexport default class Attributor {\n  public static keys(node: HTMLElement): string[] {\n    return Array.from(node.attributes).map((item: Attr) => item.name);\n  }\n\n  public scope: Scope;\n  public whitelist: string[] | undefined;\n\n  constructor(\n    public readonly attrName: string,\n    public readonly keyName: string,\n    options: AttributorOptions = {},\n  ) {\n    const attributeBit = Scope.TYPE & Scope.ATTRIBUTE;\n    this.scope =\n      options.scope != null\n        ? // Ignore type bits, force attribute bit\n          (options.scope & Scope.LEVEL) | attributeBit\n        : Scope.ATTRIBUTE;\n    if (options.whitelist != null) {\n      this.whitelist = options.whitelist;\n    }\n  }\n\n  public add(node: HTMLElement, value: any): boolean {\n    if (!this.canAdd(node, value)) {\n      return false;\n    }\n    node.setAttribute(this.keyName, value);\n    return true;\n  }\n\n  public canAdd(_node: HTMLElement, value: any): boolean {\n    if (this.whitelist == null) {\n      return true;\n    }\n    if (typeof value === 'string') {\n      return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n    } else {\n      return this.whitelist.indexOf(value) > -1;\n    }\n  }\n\n  public remove(node: HTMLElement): void {\n    node.removeAttribute(this.keyName);\n  }\n\n  public value(node: HTMLElement): any {\n    const value = node.getAttribute(this.keyName);\n    if (this.canAdd(node, value) && value) {\n      return value;\n    }\n    return '';\n  }\n}\n","export default class ParchmentError extends Error {\n  public message: string;\n  public name: string;\n  public stack!: string;\n\n  constructor(message: string) {\n    message = '[Parchment] ' + message;\n    super(message);\n    this.message = message;\n    this.name = this.constructor.name;\n  }\n}\n","import Attributor from './attributor/attributor.js';\nimport {\n  type Blot,\n  type BlotConstructor,\n  type Root,\n} from './blot/abstract/blot.js';\nimport ParchmentError from './error.js';\nimport Scope from './scope.js';\n\nexport type RegistryDefinition = Attributor | BlotConstructor;\n\nexport interface RegistryInterface {\n  create(scroll: Root, input: Node | string | Scope, value?: any): Blot;\n  query(query: string | Node | Scope, scope: Scope): RegistryDefinition | null;\n  register(...definitions: any[]): any;\n}\n\nexport default class Registry implements RegistryInterface {\n  public static blots = new WeakMap<Node, Blot>();\n\n  public static find(node?: Node | null, bubble = false): Blot | null {\n    if (node == null) {\n      return null;\n    }\n    if (this.blots.has(node)) {\n      return this.blots.get(node) || null;\n    }\n    if (bubble) {\n      let parentNode: Node | null = null;\n      try {\n        parentNode = node.parentNode;\n      } catch (err) {\n        // Probably hit a permission denied error.\n        // A known case is in Firefox, event targets can be anonymous DIVs\n        // inside an input element.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=208427\n        return null;\n      }\n      return this.find(parentNode, bubble);\n    }\n    return null;\n  }\n\n  private attributes: { [key: string]: Attributor } = {};\n  private classes: { [key: string]: BlotConstructor } = {};\n  private tags: { [key: string]: BlotConstructor } = {};\n  private types: { [key: string]: RegistryDefinition } = {};\n\n  public create(scroll: Root, input: Node | string | Scope, value?: any): Blot {\n    const match = this.query(input);\n    if (match == null) {\n      throw new ParchmentError(`Unable to create ${input} blot`);\n    }\n    const blotClass = match as BlotConstructor;\n    const node =\n      // @ts-expect-error Fix me later\n      input instanceof Node || input.nodeType === Node.TEXT_NODE\n        ? input\n        : blotClass.create(value);\n\n    const blot = new blotClass(scroll, node as Node, value);\n    Registry.blots.set(blot.domNode, blot);\n    return blot;\n  }\n\n  public find(node: Node | null, bubble = false): Blot | null {\n    return Registry.find(node, bubble);\n  }\n\n  public query(\n    query: string | Node | Scope,\n    scope: Scope = Scope.ANY,\n  ): RegistryDefinition | null {\n    let match;\n    if (typeof query === 'string') {\n      match = this.types[query] || this.attributes[query];\n      // @ts-expect-error Fix me later\n    } else if (query instanceof Text || query.nodeType === Node.TEXT_NODE) {\n      match = this.types.text;\n    } else if (typeof query === 'number') {\n      if (query & Scope.LEVEL & Scope.BLOCK) {\n        match = this.types.block;\n      } else if (query & Scope.LEVEL & Scope.INLINE) {\n        match = this.types.inline;\n      }\n    } else if (query instanceof Element) {\n      const names = (query.getAttribute('class') || '').split(/\\s+/);\n      names.some((name) => {\n        match = this.classes[name];\n        if (match) {\n          return true;\n        }\n        return false;\n      });\n      match = match || this.tags[query.tagName];\n    }\n    if (match == null) {\n      return null;\n    }\n    if (\n      'scope' in match &&\n      scope & Scope.LEVEL & match.scope &&\n      scope & Scope.TYPE & match.scope\n    ) {\n      return match;\n    }\n    return null;\n  }\n\n  public register(...definitions: RegistryDefinition[]): RegistryDefinition[] {\n    return definitions.map((definition) => {\n      const isBlot = 'blotName' in definition;\n      const isAttr = 'attrName' in definition;\n      if (!isBlot && !isAttr) {\n        throw new ParchmentError('Invalid definition');\n      } else if (isBlot && definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n      }\n      const key = isBlot\n        ? definition.blotName\n        : isAttr\n          ? definition.attrName\n          : (undefined as never); // already handled by above checks\n      this.types[key] = definition;\n\n      if (isAttr) {\n        if (typeof definition.keyName === 'string') {\n          this.attributes[definition.keyName] = definition;\n        }\n      } else if (isBlot) {\n        if (definition.className) {\n          this.classes[definition.className] = definition;\n        }\n        if (definition.tagName) {\n          if (Array.isArray(definition.tagName)) {\n            definition.tagName = definition.tagName.map((tagName: string) => {\n              return tagName.toUpperCase();\n            });\n          } else {\n            definition.tagName = definition.tagName.toUpperCase();\n          }\n          const tagNames = Array.isArray(definition.tagName)\n            ? definition.tagName\n            : [definition.tagName];\n          tagNames.forEach((tag: string) => {\n            if (this.tags[tag] == null || definition.className == null) {\n              this.tags[tag] = definition;\n            }\n          });\n        }\n      }\n      return definition;\n    });\n  }\n}\n","import Attributor from './attributor.js';\n\nfunction match(node: HTMLElement, prefix: string): string[] {\n  const className = node.getAttribute('class') || '';\n  return className\n    .split(/\\s+/)\n    .filter((name) => name.indexOf(`${prefix}-`) === 0);\n}\n\nclass ClassAttributor extends Attributor {\n  public static keys(node: HTMLElement): string[] {\n    return (node.getAttribute('class') || '')\n      .split(/\\s+/)\n      .map((name) => name.split('-').slice(0, -1).join('-'));\n  }\n\n  public add(node: HTMLElement, value: any): boolean {\n    if (!this.canAdd(node, value)) {\n      return false;\n    }\n    this.remove(node);\n    node.classList.add(`${this.keyName}-${value}`);\n    return true;\n  }\n\n  public remove(node: HTMLElement): void {\n    const matches = match(node, this.keyName);\n    matches.forEach((name) => {\n      node.classList.remove(name);\n    });\n    if (node.classList.length === 0) {\n      node.removeAttribute('class');\n    }\n  }\n\n  public value(node: HTMLElement): any {\n    const result = match(node, this.keyName)[0] || '';\n    const value = result.slice(this.keyName.length + 1); // +1 for hyphen\n    return this.canAdd(node, value) ? value : '';\n  }\n}\n\nexport default ClassAttributor;\n","import Attributor from './attributor.js';\n\nfunction camelize(name: string): string {\n  const parts = name.split('-');\n  const rest = parts\n    .slice(1)\n    .map((part: string) => part[0].toUpperCase() + part.slice(1))\n    .join('');\n  return parts[0] + rest;\n}\n\nclass StyleAttributor extends Attributor {\n  public static keys(node: HTMLElement): string[] {\n    return (node.getAttribute('style') || '').split(';').map((value) => {\n      const arr = value.split(':');\n      return arr[0].trim();\n    });\n  }\n\n  public add(node: HTMLElement, value: any): boolean {\n    if (!this.canAdd(node, value)) {\n      return false;\n    }\n    // @ts-expect-error Fix me later\n    node.style[camelize(this.keyName)] = value;\n    return true;\n  }\n\n  public remove(node: HTMLElement): void {\n    // @ts-expect-error Fix me later\n    node.style[camelize(this.keyName)] = '';\n    if (!node.getAttribute('style')) {\n      node.removeAttribute('style');\n    }\n  }\n\n  public value(node: HTMLElement): any {\n    // @ts-expect-error Fix me later\n    const value = node.style[camelize(this.keyName)];\n    return this.canAdd(node, value) ? value : '';\n  }\n}\n\nexport default StyleAttributor;\n","import type { Formattable } from '../blot/abstract/blot.js';\nimport Registry from '../registry.js';\nimport Scope from '../scope.js';\nimport Attributor from './attributor.js';\nimport ClassAttributor from './class.js';\nimport StyleAttributor from './style.js';\n\nclass AttributorStore {\n  private attributes: { [key: string]: Attributor } = {};\n  private domNode: HTMLElement;\n\n  constructor(domNode: HTMLElement) {\n    this.domNode = domNode;\n    this.build();\n  }\n\n  public attribute(attribute: Attributor, value: any): void {\n    // verb\n    if (value) {\n      if (attribute.add(this.domNode, value)) {\n        if (attribute.value(this.domNode) != null) {\n          this.attributes[attribute.attrName] = attribute;\n        } else {\n          delete this.attributes[attribute.attrName];\n        }\n      }\n    } else {\n      attribute.remove(this.domNode);\n      delete this.attributes[attribute.attrName];\n    }\n  }\n\n  public build(): void {\n    this.attributes = {};\n    const blot = Registry.find(this.domNode);\n    if (blot == null) {\n      return;\n    }\n    const attributes = Attributor.keys(this.domNode);\n    const classes = ClassAttributor.keys(this.domNode);\n    const styles = StyleAttributor.keys(this.domNode);\n    attributes\n      .concat(classes)\n      .concat(styles)\n      .forEach((name) => {\n        const attr = blot.scroll.query(name, Scope.ATTRIBUTE);\n        if (attr instanceof Attributor) {\n          this.attributes[attr.attrName] = attr;\n        }\n      });\n  }\n\n  public copy(target: Formattable): void {\n    Object.keys(this.attributes).forEach((key) => {\n      const value = this.attributes[key].value(this.domNode);\n      target.format(key, value);\n    });\n  }\n\n  public move(target: Formattable): void {\n    this.copy(target);\n    Object.keys(this.attributes).forEach((key) => {\n      this.attributes[key].remove(this.domNode);\n    });\n    this.attributes = {};\n  }\n\n  public values(): { [key: string]: any } {\n    return Object.keys(this.attributes).reduce(\n      (attributes: { [key: string]: any }, name: string) => {\n        attributes[name] = this.attributes[name].value(this.domNode);\n        return attributes;\n      },\n      {},\n    );\n  }\n}\n\nexport default AttributorStore;\n","import ParchmentError from '../../error.js';\nimport Registry from '../../registry.js';\nimport Scope from '../../scope.js';\nimport type {\n  Blot,\n  BlotConstructor,\n  Formattable,\n  Parent,\n  Root,\n} from './blot.js';\n\nclass ShadowBlot implements Blot {\n  public static blotName = 'abstract';\n  public static className: string;\n  public static requiredContainer: BlotConstructor;\n  public static scope: Scope;\n  public static tagName: string | string[];\n\n  public static create(rawValue?: unknown): Node {\n    if (this.tagName == null) {\n      throw new ParchmentError('Blot definition missing tagName');\n    }\n    let node: HTMLElement;\n    let value: string | number | undefined;\n    if (Array.isArray(this.tagName)) {\n      if (typeof rawValue === 'string') {\n        value = rawValue.toUpperCase();\n        if (parseInt(value, 10).toString() === value) {\n          value = parseInt(value, 10);\n        }\n      } else if (typeof rawValue === 'number') {\n        value = rawValue;\n      }\n      if (typeof value === 'number') {\n        node = document.createElement(this.tagName[value - 1]);\n      } else if (value && this.tagName.indexOf(value) > -1) {\n        node = document.createElement(value);\n      } else {\n        node = document.createElement(this.tagName[0]);\n      }\n    } else {\n      node = document.createElement(this.tagName);\n    }\n    if (this.className) {\n      node.classList.add(this.className);\n    }\n    return node;\n  }\n\n  public prev: Blot | null;\n  public next: Blot | null;\n  // @ts-expect-error Fix me later\n  public parent: Parent;\n\n  // Hack for accessing inherited static methods\n  get statics(): any {\n    return this.constructor;\n  }\n  constructor(\n    public scroll: Root,\n    public domNode: Node,\n  ) {\n    Registry.blots.set(domNode, this);\n    this.prev = null;\n    this.next = null;\n  }\n\n  public attach(): void {\n    // Nothing to do\n  }\n\n  public clone(): Blot {\n    const domNode = this.domNode.cloneNode(false);\n    return this.scroll.create(domNode);\n  }\n\n  public detach(): void {\n    if (this.parent != null) {\n      this.parent.removeChild(this);\n    }\n    Registry.blots.delete(this.domNode);\n  }\n\n  public deleteAt(index: number, length: number): void {\n    const blot = this.isolate(index, length);\n    blot.remove();\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    const blot = this.isolate(index, length);\n    if (this.scroll.query(name, Scope.BLOT) != null && value) {\n      blot.wrap(name, value);\n    } else if (this.scroll.query(name, Scope.ATTRIBUTE) != null) {\n      const parent = this.scroll.create(this.statics.scope) as Parent &\n        Formattable;\n      blot.wrap(parent);\n      parent.format(name, value);\n    }\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    const blot =\n      def == null\n        ? this.scroll.create('text', value)\n        : this.scroll.create(value, def);\n    const ref = this.split(index);\n    this.parent.insertBefore(blot, ref || undefined);\n  }\n\n  public isolate(index: number, length: number): Blot {\n    const target = this.split(index);\n    if (target == null) {\n      throw new Error('Attempt to isolate at end');\n    }\n    target.split(length);\n    return target;\n  }\n\n  public length(): number {\n    return 1;\n  }\n\n  public offset(root: Blot = this.parent): number {\n    if (this.parent == null || this === root) {\n      return 0;\n    }\n    return this.parent.children.offset(this) + this.parent.offset(root);\n  }\n\n  public optimize(_context?: { [key: string]: any }): void {\n    if (\n      this.statics.requiredContainer &&\n      !(this.parent instanceof this.statics.requiredContainer)\n    ) {\n      this.wrap(this.statics.requiredContainer.blotName);\n    }\n  }\n\n  public remove(): void {\n    if (this.domNode.parentNode != null) {\n      this.domNode.parentNode.removeChild(this.domNode);\n    }\n    this.detach();\n  }\n\n  public replaceWith(name: string | Blot, value?: any): Blot {\n    const replacement =\n      typeof name === 'string' ? this.scroll.create(name, value) : name;\n    if (this.parent != null) {\n      this.parent.insertBefore(replacement, this.next || undefined);\n      this.remove();\n    }\n    return replacement;\n  }\n\n  public split(index: number, _force?: boolean): Blot | null {\n    return index === 0 ? this : this.next;\n  }\n\n  public update(\n    _mutations: MutationRecord[],\n    _context: { [key: string]: any },\n  ): void {\n    // Nothing to do by default\n  }\n\n  public wrap(name: string | Parent, value?: any): Parent {\n    const wrapper =\n      typeof name === 'string'\n        ? (this.scroll.create(name, value) as Parent)\n        : name;\n    if (this.parent != null) {\n      this.parent.insertBefore(wrapper, this.next || undefined);\n    }\n    if (typeof wrapper.appendChild !== 'function') {\n      throw new ParchmentError(`Cannot wrap ${name}`);\n    }\n    wrapper.appendChild(this);\n    return wrapper;\n  }\n}\n\nexport default ShadowBlot;\n","import Scope from '../../scope.js';\nimport type { Leaf } from './blot.js';\nimport ShadowBlot from './shadow.js';\n\nclass LeafBlot extends ShadowBlot implements Leaf {\n  public static scope = Scope.INLINE_BLOT;\n\n  /**\n   * Returns the value represented by domNode if it is this Blot's type\n   * No checking that domNode can represent this Blot type is required so\n   * applications needing it should check externally before calling.\n   */\n  public static value(_domNode: Node): any {\n    return true;\n  }\n\n  /**\n   * Given location represented by node and offset from DOM Selection Range,\n   * return index to that location.\n   */\n  public index(node: Node, offset: number): number {\n    if (\n      this.domNode === node ||\n      this.domNode.compareDocumentPosition(node) &\n        Node.DOCUMENT_POSITION_CONTAINED_BY\n    ) {\n      return Math.min(offset, 1);\n    }\n    return -1;\n  }\n\n  /**\n   * Given index to location within blot, return node and offset representing\n   * that location, consumable by DOM Selection Range\n   */\n  public position(index: number, _inclusive?: boolean): [Node, number] {\n    const childNodes: Node[] = Array.from(this.parent.domNode.childNodes);\n    let offset = childNodes.indexOf(this.domNode);\n    if (index > 0) {\n      offset += 1;\n    }\n    return [this.parent.domNode, offset];\n  }\n\n  /**\n   * Return value represented by this blot\n   * Should not change without interaction from API or\n   * user change detectable by update()\n   */\n  public value(): any {\n    return {\n      [this.statics.blotName]: this.statics.value(this.domNode) || true,\n    };\n  }\n}\n\nexport default LeafBlot;\n","import type LinkedNode from './linked-node.js';\n\nclass LinkedList<T extends LinkedNode> {\n  public head: T | null;\n  public tail: T | null;\n  public length: number;\n\n  constructor() {\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  public append(...nodes: T[]): void {\n    this.insertBefore(nodes[0], null);\n    if (nodes.length > 1) {\n      const rest = nodes.slice(1);\n      this.append(...rest);\n    }\n  }\n\n  public at(index: number): T | null {\n    const next = this.iterator();\n    let cur = next();\n    while (cur && index > 0) {\n      index -= 1;\n      cur = next();\n    }\n    return cur;\n  }\n\n  public contains(node: T): boolean {\n    const next = this.iterator();\n    let cur = next();\n    while (cur) {\n      if (cur === node) {\n        return true;\n      }\n      cur = next();\n    }\n    return false;\n  }\n\n  public indexOf(node: T): number {\n    const next = this.iterator();\n    let cur = next();\n    let index = 0;\n    while (cur) {\n      if (cur === node) {\n        return index;\n      }\n      index += 1;\n      cur = next();\n    }\n    return -1;\n  }\n\n  public insertBefore(node: T | null, refNode: T | null): void {\n    if (node == null) {\n      return;\n    }\n    this.remove(node);\n    node.next = refNode;\n    if (refNode != null) {\n      node.prev = refNode.prev;\n      if (refNode.prev != null) {\n        refNode.prev.next = node;\n      }\n      refNode.prev = node;\n      if (refNode === this.head) {\n        this.head = node;\n      }\n    } else if (this.tail != null) {\n      this.tail.next = node;\n      node.prev = this.tail;\n      this.tail = node;\n    } else {\n      node.prev = null;\n      this.head = this.tail = node;\n    }\n    this.length += 1;\n  }\n\n  public offset(target: T): number {\n    let index = 0;\n    let cur = this.head;\n    while (cur != null) {\n      if (cur === target) {\n        return index;\n      }\n      index += cur.length();\n      cur = cur.next as T;\n    }\n    return -1;\n  }\n\n  public remove(node: T): void {\n    if (!this.contains(node)) {\n      return;\n    }\n    if (node.prev != null) {\n      node.prev.next = node.next;\n    }\n    if (node.next != null) {\n      node.next.prev = node.prev;\n    }\n    if (node === this.head) {\n      this.head = node.next as T;\n    }\n    if (node === this.tail) {\n      this.tail = node.prev as T;\n    }\n    this.length -= 1;\n  }\n\n  public iterator(curNode: T | null = this.head): () => T | null {\n    // TODO use yield when we can\n    return (): T | null => {\n      const ret = curNode;\n      if (curNode != null) {\n        curNode = curNode.next as T;\n      }\n      return ret;\n    };\n  }\n\n  public find(index: number, inclusive = false): [T | null, number] {\n    const next = this.iterator();\n    let cur = next();\n    while (cur) {\n      const length = cur.length();\n      if (\n        index < length ||\n        (inclusive &&\n          index === length &&\n          (cur.next == null || cur.next.length() !== 0))\n      ) {\n        return [cur, index];\n      }\n      index -= length;\n      cur = next();\n    }\n    return [null, 0];\n  }\n\n  public forEach(callback: (cur: T) => void): void {\n    const next = this.iterator();\n    let cur = next();\n    while (cur) {\n      callback(cur);\n      cur = next();\n    }\n  }\n\n  public forEachAt(\n    index: number,\n    length: number,\n    callback: (cur: T, offset: number, length: number) => void,\n  ): void {\n    if (length <= 0) {\n      return;\n    }\n    const [startNode, offset] = this.find(index);\n    let curIndex = index - offset;\n    const next = this.iterator(startNode);\n    let cur = next();\n    while (cur && curIndex < index + length) {\n      const curLength = cur.length();\n      if (index > curIndex) {\n        callback(\n          cur,\n          index - curIndex,\n          Math.min(length, curIndex + curLength - index),\n        );\n      } else {\n        callback(cur, 0, Math.min(curLength, index + length - curIndex));\n      }\n      curIndex += curLength;\n      cur = next();\n    }\n  }\n\n  public map(callback: (cur: T) => any): any[] {\n    return this.reduce((memo: T[], cur: T) => {\n      memo.push(callback(cur));\n      return memo;\n    }, []);\n  }\n\n  public reduce<M>(callback: (memo: M, cur: T) => M, memo: M): M {\n    const next = this.iterator();\n    let cur = next();\n    while (cur) {\n      memo = callback(memo, cur);\n      cur = next();\n    }\n    return memo;\n  }\n}\n\nexport default LinkedList;\n","import LinkedList from '../../collection/linked-list.js';\nimport ParchmentError from '../../error.js';\nimport Scope from '../../scope.js';\nimport type { Blot, BlotConstructor, Parent, Root } from './blot.js';\nimport ShadowBlot from './shadow.js';\n\nfunction makeAttachedBlot(node: Node, scroll: Root): Blot {\n  const found = scroll.find(node);\n  if (found) return found;\n  try {\n    return scroll.create(node);\n  } catch (e) {\n    const blot = scroll.create(Scope.INLINE);\n    Array.from(node.childNodes).forEach((child: Node) => {\n      blot.domNode.appendChild(child);\n    });\n    if (node.parentNode) {\n      node.parentNode.replaceChild(blot.domNode, node);\n    }\n    blot.attach();\n    return blot;\n  }\n}\n\nclass ParentBlot extends ShadowBlot implements Parent {\n  /**\n   * Whitelist array of Blots that can be direct children.\n   */\n  public static allowedChildren?: BlotConstructor[];\n\n  /**\n   * Default child blot to be inserted if this blot becomes empty.\n   */\n  public static defaultChild?: BlotConstructor;\n  public static uiClass = '';\n\n  public children!: LinkedList<Blot>;\n  public domNode!: HTMLElement;\n  public uiNode: HTMLElement | null = null;\n\n  constructor(scroll: Root, domNode: Node) {\n    super(scroll, domNode);\n    this.build();\n  }\n\n  public appendChild(other: Blot): void {\n    this.insertBefore(other);\n  }\n\n  public attach(): void {\n    super.attach();\n    this.children.forEach((child) => {\n      child.attach();\n    });\n  }\n\n  public attachUI(node: HTMLElement): void {\n    if (this.uiNode != null) {\n      this.uiNode.remove();\n    }\n    this.uiNode = node;\n    if (ParentBlot.uiClass) {\n      this.uiNode.classList.add(ParentBlot.uiClass);\n    }\n    this.uiNode.setAttribute('contenteditable', 'false');\n    this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\n  }\n\n  /**\n   * Called during construction, should fill its own children LinkedList.\n   */\n  public build(): void {\n    this.children = new LinkedList<Blot>();\n    // Need to be reversed for if DOM nodes already in order\n    Array.from(this.domNode.childNodes)\n      .filter((node: Node) => node !== this.uiNode)\n      .reverse()\n      .forEach((node: Node) => {\n        try {\n          const child = makeAttachedBlot(node, this.scroll);\n          this.insertBefore(child, this.children.head || undefined);\n        } catch (err) {\n          if (err instanceof ParchmentError) {\n            return;\n          } else {\n            throw err;\n          }\n        }\n      });\n  }\n\n  public deleteAt(index: number, length: number): void {\n    if (index === 0 && length === this.length()) {\n      return this.remove();\n    }\n    this.children.forEachAt(index, length, (child, offset, childLength) => {\n      child.deleteAt(offset, childLength);\n    });\n  }\n\n  public descendant<T extends Blot>(\n    criteria: new (...args: any[]) => T,\n    index: number,\n  ): [T | null, number];\n  public descendant(\n    criteria: (blot: Blot) => boolean,\n    index: number,\n  ): [Blot | null, number];\n  public descendant(criteria: any, index = 0): [Blot | null, number] {\n    const [child, offset] = this.children.find(index);\n    if (\n      (criteria.blotName == null && criteria(child)) ||\n      (criteria.blotName != null && child instanceof criteria)\n    ) {\n      return [child as any, offset];\n    } else if (child instanceof ParentBlot) {\n      return child.descendant(criteria, offset);\n    } else {\n      return [null, -1];\n    }\n  }\n\n  public descendants<T extends Blot>(\n    criteria: new (...args: any[]) => T,\n    index?: number,\n    length?: number,\n  ): T[];\n  public descendants(\n    criteria: (blot: Blot) => boolean,\n    index?: number,\n    length?: number,\n  ): Blot[];\n  public descendants(\n    criteria: any,\n    index = 0,\n    length: number = Number.MAX_VALUE,\n  ): Blot[] {\n    let descendants: Blot[] = [];\n    let lengthLeft = length;\n    this.children.forEachAt(\n      index,\n      length,\n      (child: Blot, childIndex: number, childLength: number) => {\n        if (\n          (criteria.blotName == null && criteria(child)) ||\n          (criteria.blotName != null && child instanceof criteria)\n        ) {\n          descendants.push(child);\n        }\n        if (child instanceof ParentBlot) {\n          descendants = descendants.concat(\n            child.descendants(criteria, childIndex, lengthLeft),\n          );\n        }\n        lengthLeft -= childLength;\n      },\n    );\n    return descendants;\n  }\n\n  public detach(): void {\n    this.children.forEach((child) => {\n      child.detach();\n    });\n    super.detach();\n  }\n\n  public enforceAllowedChildren(): void {\n    let done = false;\n    this.children.forEach((child: Blot) => {\n      if (done) {\n        return;\n      }\n      const allowed = this.statics.allowedChildren.some(\n        (def: BlotConstructor) => child instanceof def,\n      );\n      if (allowed) {\n        return;\n      }\n      if (child.statics.scope === Scope.BLOCK_BLOT) {\n        if (child.next != null) {\n          this.splitAfter(child);\n        }\n        if (child.prev != null) {\n          this.splitAfter(child.prev);\n        }\n        child.parent.unwrap();\n        done = true;\n      } else if (child instanceof ParentBlot) {\n        child.unwrap();\n      } else {\n        child.remove();\n      }\n    });\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    this.children.forEachAt(index, length, (child, offset, childLength) => {\n      child.formatAt(offset, childLength, name, value);\n    });\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    const [child, offset] = this.children.find(index);\n    if (child) {\n      child.insertAt(offset, value, def);\n    } else {\n      const blot =\n        def == null\n          ? this.scroll.create('text', value)\n          : this.scroll.create(value, def);\n      this.appendChild(blot);\n    }\n  }\n\n  public insertBefore(childBlot: Blot, refBlot?: Blot | null): void {\n    if (childBlot.parent != null) {\n      childBlot.parent.children.remove(childBlot);\n    }\n    let refDomNode: Node | null = null;\n    this.children.insertBefore(childBlot, refBlot || null);\n    childBlot.parent = this;\n    if (refBlot != null) {\n      refDomNode = refBlot.domNode;\n    }\n    if (\n      this.domNode.parentNode !== childBlot.domNode ||\n      this.domNode.nextSibling !== refDomNode\n    ) {\n      this.domNode.insertBefore(childBlot.domNode, refDomNode);\n    }\n    childBlot.attach();\n  }\n\n  public length(): number {\n    return this.children.reduce((memo, child) => {\n      return memo + child.length();\n    }, 0);\n  }\n\n  public moveChildren(targetParent: Parent, refNode?: Blot | null): void {\n    this.children.forEach((child) => {\n      targetParent.insertBefore(child, refNode);\n    });\n  }\n\n  public optimize(context?: { [key: string]: any }): void {\n    super.optimize(context);\n    this.enforceAllowedChildren();\n    if (this.uiNode != null && this.uiNode !== this.domNode.firstChild) {\n      this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\n    }\n    if (this.children.length === 0) {\n      if (this.statics.defaultChild != null) {\n        const child = this.scroll.create(this.statics.defaultChild.blotName);\n        this.appendChild(child);\n        // TODO double check if necessary\n        // child.optimize(context);\n      } else {\n        this.remove();\n      }\n    }\n  }\n\n  public path(index: number, inclusive = false): [Blot, number][] {\n    const [child, offset] = this.children.find(index, inclusive);\n    const position: [Blot, number][] = [[this, index]];\n    if (child instanceof ParentBlot) {\n      return position.concat(child.path(offset, inclusive));\n    } else if (child != null) {\n      position.push([child, offset]);\n    }\n    return position;\n  }\n\n  public removeChild(child: Blot): void {\n    this.children.remove(child);\n  }\n\n  public replaceWith(name: string | Blot, value?: any): Blot {\n    const replacement =\n      typeof name === 'string' ? this.scroll.create(name, value) : name;\n    if (replacement instanceof ParentBlot) {\n      this.moveChildren(replacement);\n    }\n    return super.replaceWith(replacement);\n  }\n\n  public split(index: number, force = false): Blot | null {\n    if (!force) {\n      if (index === 0) {\n        return this;\n      }\n      if (index === this.length()) {\n        return this.next;\n      }\n    }\n    const after = this.clone() as ParentBlot;\n    if (this.parent) {\n      this.parent.insertBefore(after, this.next || undefined);\n    }\n    this.children.forEachAt(index, this.length(), (child, offset, _length) => {\n      const split = child.split(offset, force);\n      if (split != null) {\n        after.appendChild(split);\n      }\n    });\n    return after;\n  }\n\n  public splitAfter(child: Blot): Parent {\n    const after = this.clone() as ParentBlot;\n    while (child.next != null) {\n      after.appendChild(child.next);\n    }\n    if (this.parent) {\n      this.parent.insertBefore(after, this.next || undefined);\n    }\n    return after;\n  }\n\n  public unwrap(): void {\n    if (this.parent) {\n      this.moveChildren(this.parent, this.next || undefined);\n    }\n    this.remove();\n  }\n\n  public update(\n    mutations: MutationRecord[],\n    _context: { [key: string]: any },\n  ): void {\n    const addedNodes: Node[] = [];\n    const removedNodes: Node[] = [];\n    mutations.forEach((mutation) => {\n      if (mutation.target === this.domNode && mutation.type === 'childList') {\n        addedNodes.push(...mutation.addedNodes);\n        removedNodes.push(...mutation.removedNodes);\n      }\n    });\n    removedNodes.forEach((node: Node) => {\n      // Check node has actually been removed\n      // One exception is Chrome does not immediately remove IFRAMEs\n      // from DOM but MutationRecord is correct in its reported removal\n      if (\n        node.parentNode != null &&\n        // @ts-expect-error Fix me later\n        node.tagName !== 'IFRAME' &&\n        document.body.compareDocumentPosition(node) &\n          Node.DOCUMENT_POSITION_CONTAINED_BY\n      ) {\n        return;\n      }\n      const blot = this.scroll.find(node);\n      if (blot == null) {\n        return;\n      }\n      if (\n        blot.domNode.parentNode == null ||\n        blot.domNode.parentNode === this.domNode\n      ) {\n        blot.detach();\n      }\n    });\n    addedNodes\n      .filter((node) => {\n        return node.parentNode === this.domNode && node !== this.uiNode;\n      })\n      .sort((a, b) => {\n        if (a === b) {\n          return 0;\n        }\n        if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n          return 1;\n        }\n        return -1;\n      })\n      .forEach((node) => {\n        let refBlot: Blot | null = null;\n        if (node.nextSibling != null) {\n          refBlot = this.scroll.find(node.nextSibling);\n        }\n        const blot = makeAttachedBlot(node, this.scroll);\n        if (blot.next !== refBlot || blot.next == null) {\n          if (blot.parent != null) {\n            blot.parent.removeChild(this);\n          }\n          this.insertBefore(blot, refBlot || undefined);\n        }\n      });\n    this.enforceAllowedChildren();\n  }\n}\n\nexport default ParentBlot;\n","import Attributor from '../attributor/attributor.js';\nimport AttributorStore from '../attributor/store.js';\nimport Scope from '../scope.js';\nimport type {\n  Blot,\n  BlotConstructor,\n  Formattable,\n  Parent,\n  Root,\n} from './abstract/blot.js';\nimport LeafBlot from './abstract/leaf.js';\nimport ParentBlot from './abstract/parent.js';\n\n// Shallow object comparison\nfunction isEqual(\n  obj1: Record<string, unknown>,\n  obj2: Record<string, unknown>,\n): boolean {\n  if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n    return false;\n  }\n  for (const prop in obj1) {\n    if (obj1[prop] !== obj2[prop]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nclass InlineBlot extends ParentBlot implements Formattable {\n  public static allowedChildren: BlotConstructor[] = [InlineBlot, LeafBlot];\n  public static blotName = 'inline';\n  public static scope = Scope.INLINE_BLOT;\n  public static tagName: string | string[] = 'SPAN';\n\n  static create(value?: unknown) {\n    return super.create(value) as HTMLElement;\n  }\n\n  public static formats(domNode: HTMLElement, scroll: Root): any {\n    const match = scroll.query(InlineBlot.blotName);\n    if (\n      match != null &&\n      domNode.tagName === (match as BlotConstructor).tagName\n    ) {\n      return undefined;\n    } else if (typeof this.tagName === 'string') {\n      return true;\n    } else if (Array.isArray(this.tagName)) {\n      return domNode.tagName.toLowerCase();\n    }\n    return undefined;\n  }\n\n  protected attributes: AttributorStore;\n\n  constructor(scroll: Root, domNode: Node) {\n    super(scroll, domNode);\n    this.attributes = new AttributorStore(this.domNode);\n  }\n\n  public format(name: string, value: any): void {\n    if (name === this.statics.blotName && !value) {\n      this.children.forEach((child) => {\n        if (!(child instanceof InlineBlot)) {\n          child = child.wrap(InlineBlot.blotName, true);\n        }\n        this.attributes.copy(child as InlineBlot);\n      });\n      this.unwrap();\n    } else {\n      const format = this.scroll.query(name, Scope.INLINE);\n      if (format == null) {\n        return;\n      }\n      if (format instanceof Attributor) {\n        this.attributes.attribute(format, value);\n      } else if (\n        value &&\n        (name !== this.statics.blotName || this.formats()[name] !== value)\n      ) {\n        this.replaceWith(name, value);\n      }\n    }\n  }\n\n  public formats(): { [index: string]: any } {\n    const formats = this.attributes.values();\n    const format = this.statics.formats(this.domNode, this.scroll);\n    if (format != null) {\n      formats[this.statics.blotName] = format;\n    }\n    return formats;\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    if (\n      this.formats()[name] != null ||\n      this.scroll.query(name, Scope.ATTRIBUTE)\n    ) {\n      const blot = this.isolate(index, length) as InlineBlot;\n      blot.format(name, value);\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  public optimize(context: { [key: string]: any }): void {\n    super.optimize(context);\n    const formats = this.formats();\n    if (Object.keys(formats).length === 0) {\n      return this.unwrap(); // unformatted span\n    }\n    const next = this.next;\n    if (\n      next instanceof InlineBlot &&\n      next.prev === this &&\n      isEqual(formats, next.formats())\n    ) {\n      next.moveChildren(this);\n      next.remove();\n    }\n  }\n\n  public replaceWith(name: string | Blot, value?: any): Blot {\n    const replacement = super.replaceWith(name, value) as InlineBlot;\n    this.attributes.copy(replacement);\n    return replacement;\n  }\n\n  public update(\n    mutations: MutationRecord[],\n    context: { [key: string]: any },\n  ): void {\n    super.update(mutations, context);\n    const attributeChanged = mutations.some(\n      (mutation) =>\n        mutation.target === this.domNode && mutation.type === 'attributes',\n    );\n    if (attributeChanged) {\n      this.attributes.build();\n    }\n  }\n\n  public wrap(name: string | Parent, value?: any): Parent {\n    const wrapper = super.wrap(name, value);\n    if (wrapper instanceof InlineBlot) {\n      this.attributes.move(wrapper);\n    }\n    return wrapper;\n  }\n}\n\nexport default InlineBlot;\n","import Attributor from '../attributor/attributor.js';\nimport AttributorStore from '../attributor/store.js';\nimport Scope from '../scope.js';\nimport type {\n  Blot,\n  BlotConstructor,\n  Formattable,\n  Root,\n} from './abstract/blot.js';\nimport LeafBlot from './abstract/leaf.js';\nimport ParentBlot from './abstract/parent.js';\nimport InlineBlot from './inline.js';\n\nclass BlockBlot extends ParentBlot implements Formattable {\n  public static blotName = 'block';\n  public static scope = Scope.BLOCK_BLOT;\n  public static tagName: string | string[] = 'P';\n  public static allowedChildren: BlotConstructor[] = [\n    InlineBlot,\n    BlockBlot,\n    LeafBlot,\n  ];\n\n  static create(value?: unknown) {\n    return super.create(value) as HTMLElement;\n  }\n\n  public static formats(domNode: HTMLElement, scroll: Root): any {\n    const match = scroll.query(BlockBlot.blotName);\n    if (\n      match != null &&\n      domNode.tagName === (match as BlotConstructor).tagName\n    ) {\n      return undefined;\n    } else if (typeof this.tagName === 'string') {\n      return true;\n    } else if (Array.isArray(this.tagName)) {\n      return domNode.tagName.toLowerCase();\n    }\n  }\n\n  protected attributes: AttributorStore;\n\n  constructor(scroll: Root, domNode: Node) {\n    super(scroll, domNode);\n    this.attributes = new AttributorStore(this.domNode);\n  }\n\n  public format(name: string, value: any): void {\n    const format = this.scroll.query(name, Scope.BLOCK);\n    if (format == null) {\n      return;\n    } else if (format instanceof Attributor) {\n      this.attributes.attribute(format, value);\n    } else if (name === this.statics.blotName && !value) {\n      this.replaceWith(BlockBlot.blotName);\n    } else if (\n      value &&\n      (name !== this.statics.blotName || this.formats()[name] !== value)\n    ) {\n      this.replaceWith(name, value);\n    }\n  }\n\n  public formats(): { [index: string]: any } {\n    const formats = this.attributes.values();\n    const format = this.statics.formats(this.domNode, this.scroll);\n    if (format != null) {\n      formats[this.statics.blotName] = format;\n    }\n    return formats;\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    if (this.scroll.query(name, Scope.BLOCK) != null) {\n      this.format(name, value);\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    if (def == null || this.scroll.query(value, Scope.INLINE) != null) {\n      // Insert text or inline\n      super.insertAt(index, value, def);\n    } else {\n      const after = this.split(index);\n      if (after != null) {\n        const blot = this.scroll.create(value, def);\n        after.parent.insertBefore(blot, after);\n      } else {\n        throw new Error('Attempt to insertAt after block boundaries');\n      }\n    }\n  }\n\n  public replaceWith(name: string | Blot, value?: any): Blot {\n    const replacement = super.replaceWith(name, value) as BlockBlot;\n    this.attributes.copy(replacement);\n    return replacement;\n  }\n\n  public update(\n    mutations: MutationRecord[],\n    context: { [key: string]: any },\n  ): void {\n    super.update(mutations, context);\n    const attributeChanged = mutations.some(\n      (mutation) =>\n        mutation.target === this.domNode && mutation.type === 'attributes',\n    );\n    if (attributeChanged) {\n      this.attributes.build();\n    }\n  }\n}\n\nexport default BlockBlot;\n","import Scope from '../../scope.js';\nimport BlockBlot from '../block.js';\nimport ParentBlot from './parent.js';\n\nclass ContainerBlot extends ParentBlot {\n  public static blotName = 'container';\n  public static scope = Scope.BLOCK_BLOT;\n  public static tagName: string | string[];\n\n  public prev!: BlockBlot | ContainerBlot | null;\n  public next!: BlockBlot | ContainerBlot | null;\n\n  public checkMerge(): boolean {\n    return (\n      this.next !== null && this.next.statics.blotName === this.statics.blotName\n    );\n  }\n\n  public deleteAt(index: number, length: number): void {\n    super.deleteAt(index, length);\n    this.enforceAllowedChildren();\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    super.formatAt(index, length, name, value);\n    this.enforceAllowedChildren();\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    super.insertAt(index, value, def);\n    this.enforceAllowedChildren();\n  }\n\n  public optimize(context: { [key: string]: any }): void {\n    super.optimize(context);\n    if (this.children.length > 0 && this.next != null && this.checkMerge()) {\n      this.next.moveChildren(this);\n      this.next.remove();\n    }\n  }\n}\n\nexport default ContainerBlot;\n","import type { Formattable, Root } from './abstract/blot.js';\nimport LeafBlot from './abstract/leaf.js';\n\nclass EmbedBlot extends LeafBlot implements Formattable {\n  public static formats(_domNode: HTMLElement, _scroll: Root): any {\n    return undefined;\n  }\n\n  public format(name: string, value: any): void {\n    // super.formatAt wraps, which is what we want in general,\n    // but this allows subclasses to overwrite for formats\n    // that just apply to particular embeds\n    super.formatAt(0, this.length(), name, value);\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    if (index === 0 && length === this.length()) {\n      this.format(name, value);\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  public formats(): { [index: string]: any } {\n    return this.statics.formats(this.domNode, this.scroll);\n  }\n}\n\nexport default EmbedBlot;\n","import Registry, { type RegistryDefinition } from '../registry.js';\nimport Scope from '../scope.js';\nimport type { Blot, BlotConstructor, Root } from './abstract/blot.js';\nimport ContainerBlot from './abstract/container.js';\nimport ParentBlot from './abstract/parent.js';\nimport BlockBlot from './block.js';\n\nconst OBSERVER_CONFIG = {\n  attributes: true,\n  characterData: true,\n  characterDataOldValue: true,\n  childList: true,\n  subtree: true,\n};\n\nconst MAX_OPTIMIZE_ITERATIONS = 100;\n\nclass ScrollBlot extends ParentBlot implements Root {\n  public static blotName = 'scroll';\n  public static defaultChild = BlockBlot;\n  public static allowedChildren: BlotConstructor[] = [BlockBlot, ContainerBlot];\n  public static scope = Scope.BLOCK_BLOT;\n  public static tagName = 'DIV';\n\n  public observer: MutationObserver;\n\n  constructor(\n    public registry: Registry,\n    node: HTMLDivElement,\n  ) {\n    // @ts-expect-error scroll is the root with no parent\n    super(null, node);\n    this.scroll = this;\n    this.build();\n    this.observer = new MutationObserver((mutations: MutationRecord[]) => {\n      this.update(mutations);\n    });\n    this.observer.observe(this.domNode, OBSERVER_CONFIG);\n    this.attach();\n  }\n\n  public create(input: Node | string | Scope, value?: any): Blot {\n    return this.registry.create(this, input, value);\n  }\n\n  public find(node: Node | null, bubble = false): Blot | null {\n    const blot = this.registry.find(node, bubble);\n    if (!blot) {\n      return null;\n    }\n    if (blot.scroll === this) {\n      return blot;\n    }\n    return bubble ? this.find(blot.scroll.domNode.parentNode, true) : null;\n  }\n\n  public query(\n    query: string | Node | Scope,\n    scope: Scope = Scope.ANY,\n  ): RegistryDefinition | null {\n    return this.registry.query(query, scope);\n  }\n\n  public register(...definitions: RegistryDefinition[]) {\n    return this.registry.register(...definitions);\n  }\n\n  public build(): void {\n    if (this.scroll == null) {\n      return;\n    }\n    super.build();\n  }\n\n  public detach(): void {\n    super.detach();\n    this.observer.disconnect();\n  }\n\n  public deleteAt(index: number, length: number): void {\n    this.update();\n    if (index === 0 && length === this.length()) {\n      this.children.forEach((child) => {\n        child.remove();\n      });\n    } else {\n      super.deleteAt(index, length);\n    }\n  }\n\n  public formatAt(\n    index: number,\n    length: number,\n    name: string,\n    value: any,\n  ): void {\n    this.update();\n    super.formatAt(index, length, name, value);\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    this.update();\n    super.insertAt(index, value, def);\n  }\n\n  public optimize(context?: { [key: string]: any }): void;\n  public optimize(\n    mutations: MutationRecord[],\n    context: { [key: string]: any },\n  ): void;\n  public optimize(mutations: any = [], context: any = {}): void {\n    super.optimize(context);\n    const mutationsMap = context.mutationsMap || new WeakMap();\n    // We must modify mutations directly, cannot make copy and then modify\n    let records = Array.from(this.observer.takeRecords());\n    // Array.push currently seems to be implemented by a non-tail recursive function\n    // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n    while (records.length > 0) {\n      mutations.push(records.pop());\n    }\n    const mark = (blot: Blot | null, markParent = true): void => {\n      if (blot == null || blot === this) {\n        return;\n      }\n      if (blot.domNode.parentNode == null) {\n        return;\n      }\n      if (!mutationsMap.has(blot.domNode)) {\n        mutationsMap.set(blot.domNode, []);\n      }\n      if (markParent) {\n        mark(blot.parent);\n      }\n    };\n    const optimize = (blot: Blot): void => {\n      // Post-order traversal\n      if (!mutationsMap.has(blot.domNode)) {\n        return;\n      }\n      if (blot instanceof ParentBlot) {\n        blot.children.forEach(optimize);\n      }\n      mutationsMap.delete(blot.domNode);\n      blot.optimize(context);\n    };\n    let remaining = mutations;\n    for (let i = 0; remaining.length > 0; i += 1) {\n      if (i >= MAX_OPTIMIZE_ITERATIONS) {\n        throw new Error('[Parchment] Maximum optimize iterations reached');\n      }\n      remaining.forEach((mutation: MutationRecord) => {\n        const blot = this.find(mutation.target, true);\n        if (blot == null) {\n          return;\n        }\n        if (blot.domNode === mutation.target) {\n          if (mutation.type === 'childList') {\n            mark(this.find(mutation.previousSibling, false));\n            Array.from(mutation.addedNodes).forEach((node: Node) => {\n              const child = this.find(node, false);\n              mark(child, false);\n              if (child instanceof ParentBlot) {\n                child.children.forEach((grandChild: Blot) => {\n                  mark(grandChild, false);\n                });\n              }\n            });\n          } else if (mutation.type === 'attributes') {\n            mark(blot.prev);\n          }\n        }\n        mark(blot);\n      });\n      this.children.forEach(optimize);\n      remaining = Array.from(this.observer.takeRecords());\n      records = remaining.slice();\n      while (records.length > 0) {\n        mutations.push(records.pop());\n      }\n    }\n  }\n\n  public update(\n    mutations?: MutationRecord[],\n    context: { [key: string]: any } = {},\n  ): void {\n    mutations = mutations || this.observer.takeRecords();\n    const mutationsMap = new WeakMap();\n    mutations\n      .map((mutation: MutationRecord) => {\n        const blot = this.find(mutation.target, true);\n        if (blot == null) {\n          return null;\n        }\n        if (mutationsMap.has(blot.domNode)) {\n          mutationsMap.get(blot.domNode).push(mutation);\n          return null;\n        } else {\n          mutationsMap.set(blot.domNode, [mutation]);\n          return blot;\n        }\n      })\n      .forEach((blot: Blot | null) => {\n        if (blot != null && blot !== this && mutationsMap.has(blot.domNode)) {\n          blot.update(mutationsMap.get(blot.domNode) || [], context);\n        }\n      });\n    context.mutationsMap = mutationsMap;\n    if (mutationsMap.has(this.domNode)) {\n      super.update(mutationsMap.get(this.domNode), context);\n    }\n    this.optimize(mutations, context);\n  }\n}\n\nexport default ScrollBlot;\n","import Scope from '../scope.js';\nimport type { Blot, Leaf, Root } from './abstract/blot.js';\nimport LeafBlot from './abstract/leaf.js';\n\nclass TextBlot extends LeafBlot implements Leaf {\n  public static readonly blotName = 'text';\n  public static scope = Scope.INLINE_BLOT;\n\n  public static create(value: string): Text {\n    return document.createTextNode(value);\n  }\n\n  public static value(domNode: Text): string {\n    return domNode.data;\n  }\n\n  public domNode!: Text;\n  protected text: string;\n\n  constructor(scroll: Root, node: Node) {\n    super(scroll, node);\n    this.text = this.statics.value(this.domNode);\n  }\n\n  public deleteAt(index: number, length: number): void {\n    this.domNode.data = this.text =\n      this.text.slice(0, index) + this.text.slice(index + length);\n  }\n\n  public index(node: Node, offset: number): number {\n    if (this.domNode === node) {\n      return offset;\n    }\n    return -1;\n  }\n\n  public insertAt(index: number, value: string, def?: any): void {\n    if (def == null) {\n      this.text = this.text.slice(0, index) + value + this.text.slice(index);\n      this.domNode.data = this.text;\n    } else {\n      super.insertAt(index, value, def);\n    }\n  }\n\n  public length(): number {\n    return this.text.length;\n  }\n\n  public optimize(context: { [key: string]: any }): void {\n    super.optimize(context);\n    this.text = this.statics.value(this.domNode);\n    if (this.text.length === 0) {\n      this.remove();\n    } else if (this.next instanceof TextBlot && this.next.prev === this) {\n      this.insertAt(this.length(), (this.next as TextBlot).value());\n      this.next.remove();\n    }\n  }\n\n  public position(index: number, _inclusive = false): [Node, number] {\n    return [this.domNode, index];\n  }\n\n  public split(index: number, force = false): Blot | null {\n    if (!force) {\n      if (index === 0) {\n        return this;\n      }\n      if (index === this.length()) {\n        return this.next;\n      }\n    }\n    const after = this.scroll.create(this.domNode.splitText(index));\n    this.parent.insertBefore(after, this.next || undefined);\n    this.text = this.statics.value(this.domNode);\n    return after;\n  }\n\n  public update(\n    mutations: MutationRecord[],\n    _context: { [key: string]: any },\n  ): void {\n    if (\n      mutations.some((mutation) => {\n        return (\n          mutation.type === 'characterData' && mutation.target === this.domNode\n        );\n      })\n    ) {\n      this.text = this.statics.value(this.domNode);\n    }\n  }\n\n  public value(): string {\n    return this.text;\n  }\n}\n\nexport default TextBlot;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","import { ClassAttributor, Scope } from 'parchment';\n\nclass IndentAttributor extends ClassAttributor {\n  add(node: HTMLElement, value: string | number) {\n    let normalizedValue = 0;\n    if (value === '+1' || value === '-1') {\n      const indent = this.value(node) || 0;\n      normalizedValue = value === '+1' ? indent + 1 : indent - 1;\n    } else if (typeof value === 'number') {\n      normalizedValue = value;\n    }\n    if (normalizedValue === 0) {\n      this.remove(node);\n      return true;\n    }\n    return super.add(node, normalizedValue.toString());\n  }\n\n  canAdd(node: HTMLElement, value: string) {\n    return super.canAdd(node, value) || super.canAdd(node, parseInt(value, 10));\n  }\n\n  value(node: HTMLElement) {\n    return parseInt(super.value(node), 10) || undefined; // Don't return NaN\n  }\n}\n\nconst IndentClass = new IndentAttributor('indent', 'ql-indent', {\n  scope: Scope.BLOCK,\n  // @ts-expect-error\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8],\n});\n\nexport default IndentClass;\n","import Block from '../blots/block.js';\n\nclass Blockquote extends Block {\n  static blotName = 'blockquote';\n  static tagName = 'blockquote';\n}\n\nexport default Blockquote;\n","import Block from '../blots/block.js';\n\nclass Header extends Block {\n  static blotName = 'header';\n  static tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\n  static formats(domNode: Element) {\n    return this.tagName.indexOf(domNode.tagName) + 1;\n  }\n}\n\nexport default Header;\n","import Block from '../blots/block.js';\nimport Container from '../blots/container.js';\nimport type Scroll from '../blots/scroll.js';\nimport Quill from '../core/quill.js';\n\nclass ListContainer extends Container {}\nListContainer.blotName = 'list-container';\nListContainer.tagName = 'OL';\n\nclass ListItem extends Block {\n  static create(value: string) {\n    const node = super.create() as HTMLElement;\n    node.setAttribute('data-list', value);\n    return node;\n  }\n\n  static formats(domNode: HTMLElement) {\n    return domNode.getAttribute('data-list') || undefined;\n  }\n\n  static register() {\n    Quill.register(ListContainer);\n  }\n\n  constructor(scroll: Scroll, domNode: HTMLElement) {\n    super(scroll, domNode);\n    const ui = domNode.ownerDocument.createElement('span');\n    const listEventHandler = (e: Event) => {\n      if (!scroll.isEnabled()) return;\n      const format = this.statics.formats(domNode, scroll);\n      if (format === 'checked') {\n        this.format('list', 'unchecked');\n        e.preventDefault();\n      } else if (format === 'unchecked') {\n        this.format('list', 'checked');\n        e.preventDefault();\n      }\n    };\n    ui.addEventListener('mousedown', listEventHandler);\n    ui.addEventListener('touchstart', listEventHandler);\n    this.attachUI(ui);\n  }\n\n  format(name: string, value: string) {\n    if (name === this.statics.blotName && value) {\n      this.domNode.setAttribute('data-list', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n}\nListItem.blotName = 'list';\nListItem.tagName = 'LI';\n\nListContainer.allowedChildren = [ListItem];\nListItem.requiredContainer = ListContainer;\n\nexport { ListContainer, ListItem as default };\n","import Inline from '../blots/inline.js';\n\nclass Bold extends Inline {\n  static blotName = 'bold';\n  static tagName = ['STRONG', 'B'];\n\n  static create() {\n    return super.create();\n  }\n\n  static formats() {\n    return true;\n  }\n\n  optimize(context: { [key: string]: any }) {\n    super.optimize(context);\n    if (this.domNode.tagName !== this.statics.tagName[0]) {\n      this.replaceWith(this.statics.blotName);\n    }\n  }\n}\n\nexport default Bold;\n","import Inline from '../blots/inline.js';\n\nclass Link extends Inline {\n  static blotName = 'link';\n  static tagName = 'A';\n  static SANITIZED_URL = 'about:blank';\n  static PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel', 'sms'];\n\n  static create(value: string) {\n    const node = super.create(value) as HTMLElement;\n    node.setAttribute('href', this.sanitize(value));\n    node.setAttribute('rel', 'noopener noreferrer');\n    node.setAttribute('target', '_blank');\n    return node;\n  }\n\n  static formats(domNode: HTMLElement) {\n    return domNode.getAttribute('href');\n  }\n\n  static sanitize(url: string) {\n    return sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n  }\n\n  format(name: string, value: unknown) {\n    if (name !== this.statics.blotName || !value) {\n      super.format(name, value);\n    } else {\n      // @ts-expect-error\n      this.domNode.setAttribute('href', this.constructor.sanitize(value));\n    }\n  }\n}\n\nfunction sanitize(url: string, protocols: string[]) {\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  const protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexport { Link as default, sanitize };\n","import Inline from '../blots/inline.js';\n\nclass Script extends Inline {\n  static blotName = 'script';\n  static tagName = ['SUB', 'SUP'];\n\n  static create(value: 'super' | 'sub' | (string & {})) {\n    if (value === 'super') {\n      return document.createElement('sup');\n    }\n    if (value === 'sub') {\n      return document.createElement('sub');\n    }\n    return super.create(value);\n  }\n\n  static formats(domNode: HTMLElement) {\n    if (domNode.tagName === 'SUB') return 'sub';\n    if (domNode.tagName === 'SUP') return 'super';\n    return undefined;\n  }\n}\n\nexport default Script;\n","import Inline from '../blots/inline.js';\n\nclass Underline extends Inline {\n  static blotName = 'underline';\n  static tagName = 'U';\n}\n\nexport default Underline;\n","import Embed from '../blots/embed.js';\n\nclass Formula extends Embed {\n  static blotName = 'formula';\n  static className = 'ql-formula';\n  static tagName = 'SPAN';\n\n  static create(value: string) {\n    // @ts-expect-error\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    const node = super.create(value) as Element;\n    if (typeof value === 'string') {\n      // @ts-expect-error\n      window.katex.render(value, node, {\n        throwOnError: false,\n        errorColor: '#f00',\n      });\n      node.setAttribute('data-value', value);\n    }\n    return node;\n  }\n\n  static value(domNode: Element) {\n    return domNode.getAttribute('data-value');\n  }\n\n  html() {\n    const { formula } = this.value();\n    return `<span>${formula}</span>`;\n  }\n}\n\nexport default Formula;\n","import { EmbedBlot } from 'parchment';\nimport { sanitize } from './link.js';\n\nconst ATTRIBUTES = ['alt', 'height', 'width'];\n\nclass Image extends EmbedBlot {\n  static blotName = 'image';\n  static tagName = 'IMG';\n\n  static create(value: string) {\n    const node = super.create(value) as Element;\n    if (typeof value === 'string') {\n      node.setAttribute('src', this.sanitize(value));\n    }\n    return node;\n  }\n\n  static formats(domNode: Element) {\n    return ATTRIBUTES.reduce(\n      (formats: Record<string, string | null>, attribute) => {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      },\n      {},\n    );\n  }\n\n  static match(url: string) {\n    return /\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url);\n  }\n\n  static sanitize(url: string) {\n    return sanitize(url, ['http', 'https', 'data']) ? url : '//:0';\n  }\n\n  static value(domNode: Element) {\n    return domNode.getAttribute('src');\n  }\n\n  domNode: HTMLImageElement;\n\n  format(name: string, value: string) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n}\n\nexport default Image;\n","import { BlockEmbed } from '../blots/block.js';\nimport Link from './link.js';\n\nconst ATTRIBUTES = ['height', 'width'];\n\nclass Video extends BlockEmbed {\n  static blotName = 'video';\n  static className = 'ql-video';\n  static tagName = 'IFRAME';\n\n  static create(value: string) {\n    const node = super.create(value) as Element;\n    node.setAttribute('frameborder', '0');\n    node.setAttribute('allowfullscreen', 'true');\n    node.setAttribute('src', this.sanitize(value));\n    return node;\n  }\n\n  static formats(domNode: Element) {\n    return ATTRIBUTES.reduce(\n      (formats: Record<string, string | null>, attribute) => {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      },\n      {},\n    );\n  }\n\n  static sanitize(url: string) {\n    return Link.sanitize(url);\n  }\n\n  static value(domNode: Element) {\n    return domNode.getAttribute('src');\n  }\n\n  domNode: HTMLVideoElement;\n\n  format(name: string, value: string) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  html() {\n    const { video } = this.value();\n    return `<a href=\"${video}\">${video}</a>`;\n  }\n}\n\nexport default Video;\n","import Delta from 'quill-delta';\nimport { ClassAttributor, Scope } from 'parchment';\nimport type { Blot, ScrollBlot } from 'parchment';\nimport Inline from '../blots/inline.js';\nimport Quill from '../core/quill.js';\nimport Module from '../core/module.js';\nimport { blockDelta } from '../blots/block.js';\nimport BreakBlot from '../blots/break.js';\nimport CursorBlot from '../blots/cursor.js';\nimport TextBlot, { escapeText } from '../blots/text.js';\nimport CodeBlock, { CodeBlockContainer } from '../formats/code.js';\nimport { traverse } from './clipboard.js';\n\nconst TokenAttributor = new ClassAttributor('code-token', 'hljs', {\n  scope: Scope.INLINE,\n});\nclass CodeToken extends Inline {\n  static formats(node: Element, scroll: ScrollBlot) {\n    while (node != null && node !== scroll.domNode) {\n      if (node.classList && node.classList.contains(CodeBlock.className)) {\n        // @ts-expect-error\n        return super.formats(node, scroll);\n      }\n      // @ts-expect-error\n      node = node.parentNode;\n    }\n    return undefined;\n  }\n\n  constructor(scroll: ScrollBlot, domNode: Node, value: unknown) {\n    // @ts-expect-error\n    super(scroll, domNode, value);\n    TokenAttributor.add(this.domNode, value);\n  }\n\n  format(format: string, value: unknown) {\n    if (format !== CodeToken.blotName) {\n      super.format(format, value);\n    } else if (value) {\n      TokenAttributor.add(this.domNode, value);\n    } else {\n      TokenAttributor.remove(this.domNode);\n      this.domNode.classList.remove(this.statics.className);\n    }\n  }\n\n  optimize(...args: unknown[]) {\n    // @ts-expect-error\n    super.optimize(...args);\n    if (!TokenAttributor.value(this.domNode)) {\n      this.unwrap();\n    }\n  }\n}\nCodeToken.blotName = 'code-token';\nCodeToken.className = 'ql-token';\n\nclass SyntaxCodeBlock extends CodeBlock {\n  static create(value: unknown) {\n    const domNode = super.create(value);\n    if (typeof value === 'string') {\n      domNode.setAttribute('data-language', value);\n    }\n    return domNode;\n  }\n\n  static formats(domNode: Node) {\n    // @ts-expect-error\n    return domNode.getAttribute('data-language') || 'plain';\n  }\n\n  static register() {} // Syntax module will register\n\n  format(name: string, value: unknown) {\n    if (name === this.statics.blotName && value) {\n      // @ts-expect-error\n      this.domNode.setAttribute('data-language', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  replaceWith(name: string | Blot, value?: any) {\n    this.formatAt(0, this.length(), CodeToken.blotName, false);\n    return super.replaceWith(name, value);\n  }\n}\n\nclass SyntaxCodeBlockContainer extends CodeBlockContainer {\n  forceNext?: boolean;\n  cachedText?: string | null;\n\n  attach() {\n    super.attach();\n    this.forceNext = false;\n    // @ts-expect-error\n    this.scroll.emitMount(this);\n  }\n\n  format(name: string, value: unknown) {\n    if (name === SyntaxCodeBlock.blotName) {\n      this.forceNext = true;\n      this.children.forEach((child) => {\n        // @ts-expect-error\n        child.format(name, value);\n      });\n    }\n  }\n\n  formatAt(index: number, length: number, name: string, value: unknown) {\n    if (name === SyntaxCodeBlock.blotName) {\n      this.forceNext = true;\n    }\n    super.formatAt(index, length, name, value);\n  }\n\n  highlight(\n    highlight: (text: string, language: string) => Delta,\n    forced = false,\n  ) {\n    if (this.children.head == null) return;\n    const nodes = Array.from(this.domNode.childNodes).filter(\n      (node) => node !== this.uiNode,\n    );\n    const text = `${nodes.map((node) => node.textContent).join('\\n')}\\n`;\n    const language = SyntaxCodeBlock.formats(this.children.head.domNode);\n    if (forced || this.forceNext || this.cachedText !== text) {\n      if (text.trim().length > 0 || this.cachedText == null) {\n        const oldDelta = this.children.reduce((delta, child) => {\n          // @ts-expect-error\n          return delta.concat(blockDelta(child, false));\n        }, new Delta());\n        const delta = highlight(text, language);\n        oldDelta.diff(delta).reduce((index, { retain, attributes }) => {\n          // Should be all retains\n          if (!retain) return index;\n          if (attributes) {\n            Object.keys(attributes).forEach((format) => {\n              if (\n                [SyntaxCodeBlock.blotName, CodeToken.blotName].includes(format)\n              ) {\n                // @ts-expect-error\n                this.formatAt(index, retain, format, attributes[format]);\n              }\n            });\n          }\n          // @ts-expect-error\n          return index + retain;\n        }, 0);\n      }\n      this.cachedText = text;\n      this.forceNext = false;\n    }\n  }\n\n  html(index: number, length: number) {\n    const [codeBlock] = this.children.find(index);\n    const language = codeBlock\n      ? SyntaxCodeBlock.formats(codeBlock.domNode)\n      : 'plain';\n\n    return `<pre data-language=\"${language}\">\\n${escapeText(\n      this.code(index, length),\n    )}\\n</pre>`;\n  }\n\n  optimize(context: Record<string, any>) {\n    super.optimize(context);\n    if (\n      this.parent != null &&\n      this.children.head != null &&\n      this.uiNode != null\n    ) {\n      const language = SyntaxCodeBlock.formats(this.children.head.domNode);\n      // @ts-expect-error\n      if (language !== this.uiNode.value) {\n        // @ts-expect-error\n        this.uiNode.value = language;\n      }\n    }\n  }\n}\n\nSyntaxCodeBlockContainer.allowedChildren = [SyntaxCodeBlock];\nSyntaxCodeBlock.requiredContainer = SyntaxCodeBlockContainer;\nSyntaxCodeBlock.allowedChildren = [CodeToken, CursorBlot, TextBlot, BreakBlot];\n\ninterface SyntaxOptions {\n  interval: number;\n  languages: { key: string; label: string }[];\n  hljs: any;\n}\n\nconst highlight = (lib: any, language: string, text: string) => {\n  if (typeof lib.versionString === 'string') {\n    const majorVersion = lib.versionString.split('.')[0];\n    if (parseInt(majorVersion, 10) >= 11) {\n      return lib.highlight(text, { language }).value;\n    }\n  }\n  return lib.highlight(language, text).value;\n};\n\nclass Syntax extends Module<SyntaxOptions> {\n  static DEFAULTS: SyntaxOptions & { hljs: any };\n\n  static register() {\n    Quill.register(CodeToken, true);\n    Quill.register(SyntaxCodeBlock, true);\n    Quill.register(SyntaxCodeBlockContainer, true);\n  }\n\n  languages: Record<string, true>;\n\n  constructor(quill: Quill, options: Partial<SyntaxOptions>) {\n    super(quill, options);\n    if (this.options.hljs == null) {\n      throw new Error(\n        'Syntax module requires highlight.js. Please include the library on the page before Quill.',\n      );\n    }\n    // @ts-expect-error Fix me later\n    this.languages = this.options.languages.reduce(\n      (memo: Record<string, unknown>, { key }) => {\n        memo[key] = true;\n        return memo;\n      },\n      {},\n    );\n    this.highlightBlot = this.highlightBlot.bind(this);\n    this.initListener();\n    this.initTimer();\n  }\n\n  initListener() {\n    this.quill.on(Quill.events.SCROLL_BLOT_MOUNT, (blot: Blot) => {\n      if (!(blot instanceof SyntaxCodeBlockContainer)) return;\n      const select = this.quill.root.ownerDocument.createElement('select');\n      // @ts-expect-error Fix me later\n      this.options.languages.forEach(({ key, label }) => {\n        const option = select.ownerDocument.createElement('option');\n        option.textContent = label;\n        option.setAttribute('value', key);\n        select.appendChild(option);\n      });\n      select.addEventListener('change', () => {\n        blot.format(SyntaxCodeBlock.blotName, select.value);\n        this.quill.root.focus(); // Prevent scrolling\n        this.highlight(blot, true);\n      });\n      if (blot.uiNode == null) {\n        blot.attachUI(select);\n        if (blot.children.head) {\n          select.value = SyntaxCodeBlock.formats(blot.children.head.domNode);\n        }\n      }\n    });\n  }\n\n  initTimer() {\n    let timer: ReturnType<typeof setTimeout> | null = null;\n    this.quill.on(Quill.events.SCROLL_OPTIMIZE, () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(() => {\n        this.highlight();\n        timer = null;\n      }, this.options.interval);\n    });\n  }\n\n  highlight(blot: SyntaxCodeBlockContainer | null = null, force = false) {\n    if (this.quill.selection.composing) return;\n    this.quill.update(Quill.sources.USER);\n    const range = this.quill.getSelection();\n    const blots =\n      blot == null\n        ? this.quill.scroll.descendants(SyntaxCodeBlockContainer)\n        : [blot];\n    blots.forEach((container) => {\n      container.highlight(this.highlightBlot, force);\n    });\n    this.quill.update(Quill.sources.SILENT);\n    if (range != null) {\n      this.quill.setSelection(range, Quill.sources.SILENT);\n    }\n  }\n\n  highlightBlot(text: string, language = 'plain') {\n    language = this.languages[language] ? language : 'plain';\n    if (language === 'plain') {\n      return escapeText(text)\n        .split('\\n')\n        .reduce((delta, line, i) => {\n          if (i !== 0) {\n            delta.insert('\\n', { [CodeBlock.blotName]: language });\n          }\n          return delta.insert(line);\n        }, new Delta());\n    }\n    const container = this.quill.root.ownerDocument.createElement('div');\n    container.classList.add(CodeBlock.className);\n    container.innerHTML = highlight(this.options.hljs, language, text);\n    return traverse(\n      this.quill.scroll,\n      container,\n      [\n        (node, delta) => {\n          // @ts-expect-error\n          const value = TokenAttributor.value(node);\n          if (value) {\n            return delta.compose(\n              new Delta().retain(delta.length(), {\n                [CodeToken.blotName]: value,\n              }),\n            );\n          }\n          return delta;\n        },\n      ],\n      [\n        (node, delta) => {\n          // @ts-expect-error\n          return node.data.split('\\n').reduce((memo, nodeText, i) => {\n            if (i !== 0) memo.insert('\\n', { [CodeBlock.blotName]: language });\n            return memo.insert(nodeText);\n          }, delta);\n        },\n      ],\n      new WeakMap(),\n    );\n  }\n}\nSyntax.DEFAULTS = {\n  hljs: (() => {\n    return window.hljs;\n  })(),\n  interval: 1000,\n  languages: [\n    { key: 'plain', label: 'Plain' },\n    { key: 'bash', label: 'Bash' },\n    { key: 'cpp', label: 'C++' },\n    { key: 'cs', label: 'C#' },\n    { key: 'css', label: 'CSS' },\n    { key: 'diff', label: 'Diff' },\n    { key: 'xml', label: 'HTML/XML' },\n    { key: 'java', label: 'Java' },\n    { key: 'javascript', label: 'JavaScript' },\n    { key: 'markdown', label: 'Markdown' },\n    { key: 'php', label: 'PHP' },\n    { key: 'python', label: 'Python' },\n    { key: 'ruby', label: 'Ruby' },\n    { key: 'sql', label: 'SQL' },\n  ],\n};\n\nexport { SyntaxCodeBlock as CodeBlock, CodeToken, Syntax as default };\n","import type { LinkedList } from 'parchment';\nimport Block from '../blots/block.js';\nimport Container from '../blots/container.js';\n\nclass TableCell extends Block {\n  static blotName = 'table';\n  static tagName = 'TD';\n\n  static create(value: string) {\n    const node = super.create() as HTMLElement;\n    if (value) {\n      node.setAttribute('data-row', value);\n    } else {\n      node.setAttribute('data-row', tableId());\n    }\n    return node;\n  }\n\n  static formats(domNode: HTMLElement) {\n    if (domNode.hasAttribute('data-row')) {\n      return domNode.getAttribute('data-row');\n    }\n    return undefined;\n  }\n\n  next: this | null;\n\n  cellOffset() {\n    if (this.parent) {\n      return this.parent.children.indexOf(this);\n    }\n    return -1;\n  }\n\n  format(name: string, value: string) {\n    if (name === TableCell.blotName && value) {\n      this.domNode.setAttribute('data-row', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  row(): TableRow {\n    return this.parent as TableRow;\n  }\n\n  rowOffset() {\n    if (this.row()) {\n      return this.row().rowOffset();\n    }\n    return -1;\n  }\n\n  table() {\n    return this.row() && this.row().table();\n  }\n}\n\nclass TableRow extends Container {\n  static blotName = 'table-row';\n  static tagName = 'TR';\n\n  children: LinkedList<TableCell>;\n  next: this | null;\n\n  checkMerge() {\n    // @ts-expect-error\n    if (super.checkMerge() && this.next.children.head != null) {\n      // @ts-expect-error\n      const thisHead = this.children.head.formats();\n      // @ts-expect-error\n      const thisTail = this.children.tail.formats();\n      // @ts-expect-error\n      const nextHead = this.next.children.head.formats();\n      // @ts-expect-error\n      const nextTail = this.next.children.tail.formats();\n      return (\n        thisHead.table === thisTail.table &&\n        thisHead.table === nextHead.table &&\n        thisHead.table === nextTail.table\n      );\n    }\n    return false;\n  }\n\n  optimize(context: { [key: string]: any }) {\n    super.optimize(context);\n    this.children.forEach((child) => {\n      if (child.next == null) return;\n      const childFormats = child.formats();\n      const nextFormats = child.next.formats();\n      if (childFormats.table !== nextFormats.table) {\n        const next = this.splitAfter(child);\n        if (next) {\n          // @ts-expect-error TODO: parameters of optimize() should be a optional\n          next.optimize();\n        }\n        // We might be able to merge with prev now\n        if (this.prev) {\n          // @ts-expect-error TODO: parameters of optimize() should be a optional\n          this.prev.optimize();\n        }\n      }\n    });\n  }\n\n  rowOffset() {\n    if (this.parent) {\n      return this.parent.children.indexOf(this);\n    }\n    return -1;\n  }\n\n  table() {\n    return this.parent && this.parent.parent;\n  }\n}\n\nclass TableBody extends Container {\n  static blotName = 'table-body';\n  static tagName = 'TBODY';\n\n  children: LinkedList<TableRow>;\n}\n\nclass TableContainer extends Container {\n  static blotName = 'table-container';\n  static tagName = 'TABLE';\n\n  children: LinkedList<TableBody>;\n\n  balanceCells() {\n    const rows = this.descendants(TableRow);\n    const maxColumns = rows.reduce((max, row) => {\n      return Math.max(row.children.length, max);\n    }, 0);\n    rows.forEach((row) => {\n      new Array(maxColumns - row.children.length).fill(0).forEach(() => {\n        let value;\n        if (row.children.head != null) {\n          value = TableCell.formats(row.children.head.domNode);\n        }\n        const blot = this.scroll.create(TableCell.blotName, value);\n        row.appendChild(blot);\n        // @ts-expect-error TODO: parameters of optimize() should be a optional\n        blot.optimize(); // Add break blot\n      });\n    });\n  }\n\n  cells(column: number) {\n    return this.rows().map((row) => row.children.at(column));\n  }\n\n  deleteColumn(index: number) {\n    // @ts-expect-error\n    const [body] = this.descendant(TableBody) as TableBody[];\n    if (body == null || body.children.head == null) return;\n    body.children.forEach((row) => {\n      const cell = row.children.at(index);\n      if (cell != null) {\n        cell.remove();\n      }\n    });\n  }\n\n  insertColumn(index: number) {\n    // @ts-expect-error\n    const [body] = this.descendant(TableBody) as TableBody[];\n    if (body == null || body.children.head == null) return;\n    body.children.forEach((row) => {\n      const ref = row.children.at(index);\n      // @ts-expect-error\n      const value = TableCell.formats(row.children.head.domNode);\n      const cell = this.scroll.create(TableCell.blotName, value);\n      row.insertBefore(cell, ref);\n    });\n  }\n\n  insertRow(index: number) {\n    // @ts-expect-error\n    const [body] = this.descendant(TableBody) as TableBody[];\n    if (body == null || body.children.head == null) return;\n    const id = tableId();\n    const row = this.scroll.create(TableRow.blotName) as TableRow;\n    body.children.head.children.forEach(() => {\n      const cell = this.scroll.create(TableCell.blotName, id);\n      row.appendChild(cell);\n    });\n    const ref = body.children.at(index);\n    body.insertBefore(row, ref);\n  }\n\n  rows() {\n    const body = this.children.head;\n    if (body == null) return [];\n    return body.children.map((row) => row);\n  }\n}\n\nTableContainer.allowedChildren = [TableBody];\nTableBody.requiredContainer = TableContainer;\n\nTableBody.allowedChildren = [TableRow];\nTableRow.requiredContainer = TableBody;\n\nTableRow.allowedChildren = [TableCell];\nTableCell.requiredContainer = TableRow;\n\nfunction tableId() {\n  const id = Math.random().toString(36).slice(2, 6);\n  return `row-${id}`;\n}\n\nexport { TableCell, TableRow, TableBody, TableContainer, tableId };\n","import Delta from 'quill-delta';\nimport Quill from '../core/quill.js';\nimport Module from '../core/module.js';\nimport {\n  TableCell,\n  TableRow,\n  TableBody,\n  TableContainer,\n  tableId,\n} from '../formats/table.js';\n\nclass Table extends Module {\n  static register() {\n    Quill.register(TableCell);\n    Quill.register(TableRow);\n    Quill.register(TableBody);\n    Quill.register(TableContainer);\n  }\n\n  constructor(...args: ConstructorParameters<typeof Module>) {\n    super(...args);\n    this.listenBalanceCells();\n  }\n\n  balanceTables() {\n    this.quill.scroll.descendants(TableContainer).forEach((table) => {\n      table.balanceCells();\n    });\n  }\n\n  deleteColumn() {\n    const [table, , cell] = this.getTable();\n    if (cell == null) return;\n    // @ts-expect-error\n    table.deleteColumn(cell.cellOffset());\n    this.quill.update(Quill.sources.USER);\n  }\n\n  deleteRow() {\n    const [, row] = this.getTable();\n    if (row == null) return;\n    row.remove();\n    this.quill.update(Quill.sources.USER);\n  }\n\n  deleteTable() {\n    const [table] = this.getTable();\n    if (table == null) return;\n    // @ts-expect-error\n    const offset = table.offset();\n    // @ts-expect-error\n    table.remove();\n    this.quill.update(Quill.sources.USER);\n    this.quill.setSelection(offset, Quill.sources.SILENT);\n  }\n\n  getTable(\n    range = this.quill.getSelection(),\n  ): [null, null, null, -1] | [Table, TableRow, TableCell, number] {\n    if (range == null) return [null, null, null, -1];\n    const [cell, offset] = this.quill.getLine(range.index);\n    if (cell == null || cell.statics.blotName !== TableCell.blotName) {\n      return [null, null, null, -1];\n    }\n    const row = cell.parent;\n    const table = row.parent.parent;\n    // @ts-expect-error\n    return [table, row, cell, offset];\n  }\n\n  insertColumn(offset: number) {\n    const range = this.quill.getSelection();\n    if (!range) return;\n    const [table, row, cell] = this.getTable(range);\n    if (cell == null) return;\n    const column = cell.cellOffset();\n    table.insertColumn(column + offset);\n    this.quill.update(Quill.sources.USER);\n    let shift = row.rowOffset();\n    if (offset === 0) {\n      shift += 1;\n    }\n    this.quill.setSelection(\n      range.index + shift,\n      range.length,\n      Quill.sources.SILENT,\n    );\n  }\n\n  insertColumnLeft() {\n    this.insertColumn(0);\n  }\n\n  insertColumnRight() {\n    this.insertColumn(1);\n  }\n\n  insertRow(offset: number) {\n    const range = this.quill.getSelection();\n    if (!range) return;\n    const [table, row, cell] = this.getTable(range);\n    if (cell == null) return;\n    const index = row.rowOffset();\n    table.insertRow(index + offset);\n    this.quill.update(Quill.sources.USER);\n    if (offset > 0) {\n      this.quill.setSelection(range, Quill.sources.SILENT);\n    } else {\n      this.quill.setSelection(\n        range.index + row.children.length,\n        range.length,\n        Quill.sources.SILENT,\n      );\n    }\n  }\n\n  insertRowAbove() {\n    this.insertRow(0);\n  }\n\n  insertRowBelow() {\n    this.insertRow(1);\n  }\n\n  insertTable(rows: number, columns: number) {\n    const range = this.quill.getSelection();\n    if (range == null) return;\n    const delta = new Array(rows).fill(0).reduce((memo) => {\n      const text = new Array(columns).fill('\\n').join('');\n      return memo.insert(text, { table: tableId() });\n    }, new Delta().retain(range.index));\n    this.quill.updateContents(delta, Quill.sources.USER);\n    this.quill.setSelection(range.index, Quill.sources.SILENT);\n    this.balanceTables();\n  }\n\n  listenBalanceCells() {\n    this.quill.on(\n      Quill.events.SCROLL_OPTIMIZE,\n      (mutations: MutationRecord[]) => {\n        mutations.some((mutation) => {\n          if (\n            ['TD', 'TR', 'TBODY', 'TABLE'].includes(\n              (mutation.target as HTMLElement).tagName,\n            )\n          ) {\n            this.quill.once(Quill.events.TEXT_CHANGE, (delta, old, source) => {\n              if (source !== Quill.sources.USER) return;\n              this.balanceTables();\n            });\n            return true;\n          }\n          return false;\n        });\n      },\n    );\n  }\n}\n\nexport default Table;\n","import Delta from 'quill-delta';\nimport { EmbedBlot, Scope } from 'parchment';\nimport Quill from '../core/quill.js';\nimport logger from '../core/logger.js';\nimport Module from '../core/module.js';\nimport type { Range } from '../core/selection.js';\n\nconst debug = logger('quill:toolbar');\n\ntype Handler = (this: Toolbar, value: any) => void;\n\nexport type ToolbarConfig = Array<\n  string[] | Array<string | Record<string, unknown>>\n>;\nexport interface ToolbarProps {\n  container?: HTMLElement | ToolbarConfig | null;\n  handlers?: Record<string, Handler>;\n  option?: number;\n  module?: boolean;\n  theme?: boolean;\n}\n\nclass Toolbar extends Module<ToolbarProps> {\n  static DEFAULTS: ToolbarProps;\n\n  container?: HTMLElement | null;\n  controls: [string, HTMLElement][];\n  handlers: Record<string, Handler>;\n\n  constructor(quill: Quill, options: Partial<ToolbarProps>) {\n    super(quill, options);\n    if (Array.isArray(this.options.container)) {\n      const container = document.createElement('div');\n      container.setAttribute('role', 'toolbar');\n      addControls(container, this.options.container);\n      quill.container?.parentNode?.insertBefore(container, quill.container);\n      this.container = container;\n    } else if (typeof this.options.container === 'string') {\n      this.container = document.querySelector(this.options.container);\n    } else {\n      this.container = this.options.container;\n    }\n    if (!(this.container instanceof HTMLElement)) {\n      debug.error('Container required for toolbar', this.options);\n      return;\n    }\n    this.container.classList.add('ql-toolbar');\n    this.controls = [];\n    this.handlers = {};\n    if (this.options.handlers) {\n      Object.keys(this.options.handlers).forEach((format) => {\n        const handler = this.options.handlers?.[format];\n        if (handler) {\n          this.addHandler(format, handler);\n        }\n      });\n    }\n    Array.from(this.container.querySelectorAll('button, select')).forEach(\n      (input) => {\n        // @ts-expect-error\n        this.attach(input);\n      },\n    );\n    this.quill.on(Quill.events.EDITOR_CHANGE, () => {\n      const [range] = this.quill.selection.getRange(); // quill.getSelection triggers update\n      this.update(range);\n    });\n  }\n\n  addHandler(format: string, handler: Handler) {\n    this.handlers[format] = handler;\n  }\n\n  attach(input: HTMLElement) {\n    let format = Array.from(input.classList).find((className) => {\n      return className.indexOf('ql-') === 0;\n    });\n    if (!format) return;\n    format = format.slice('ql-'.length);\n    if (input.tagName === 'BUTTON') {\n      input.setAttribute('type', 'button');\n    }\n    if (\n      this.handlers[format] == null &&\n      this.quill.scroll.query(format) == null\n    ) {\n      debug.warn('ignoring attaching to nonexistent format', format, input);\n      return;\n    }\n    const eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n    input.addEventListener(eventName, (e) => {\n      let value;\n      if (input.tagName === 'SELECT') {\n        // @ts-expect-error\n        if (input.selectedIndex < 0) return;\n        // @ts-expect-error\n        const selected = input.options[input.selectedIndex];\n        if (selected.hasAttribute('selected')) {\n          value = false;\n        } else {\n          value = selected.value || false;\n        }\n      } else {\n        if (input.classList.contains('ql-active')) {\n          value = false;\n        } else {\n          // @ts-expect-error\n          value = input.value || !input.hasAttribute('value');\n        }\n        e.preventDefault();\n      }\n      this.quill.focus();\n      const [range] = this.quill.selection.getRange();\n      if (this.handlers[format] != null) {\n        this.handlers[format].call(this, value);\n      } else if (\n        // @ts-expect-error\n        this.quill.scroll.query(format).prototype instanceof EmbedBlot\n      ) {\n        value = prompt(`Enter ${format}`); // eslint-disable-line no-alert\n        if (!value) return;\n        this.quill.updateContents(\n          new Delta()\n            // @ts-expect-error Fix me later\n            .retain(range.index)\n            // @ts-expect-error Fix me later\n            .delete(range.length)\n            .insert({ [format]: value }),\n          Quill.sources.USER,\n        );\n      } else {\n        this.quill.format(format, value, Quill.sources.USER);\n      }\n      this.update(range);\n    });\n    this.controls.push([format, input]);\n  }\n\n  update(range: Range | null) {\n    const formats = range == null ? {} : this.quill.getFormat(range);\n    this.controls.forEach((pair) => {\n      const [format, input] = pair;\n      if (input.tagName === 'SELECT') {\n        let option: HTMLOptionElement | null = null;\n        if (range == null) {\n          option = null;\n        } else if (formats[format] == null) {\n          option = input.querySelector('option[selected]');\n        } else if (!Array.isArray(formats[format])) {\n          let value = formats[format];\n          if (typeof value === 'string') {\n            value = value.replace(/\"/g, '\\\\\"');\n          }\n          option = input.querySelector(`option[value=\"${value}\"]`);\n        }\n        if (option == null) {\n          // @ts-expect-error TODO fix me later\n          input.value = ''; // TODO make configurable?\n          // @ts-expect-error TODO fix me later\n          input.selectedIndex = -1;\n        } else {\n          option.selected = true;\n        }\n      } else if (range == null) {\n        input.classList.remove('ql-active');\n        input.setAttribute('aria-pressed', 'false');\n      } else if (input.hasAttribute('value')) {\n        // both being null should match (default values)\n        // '1' should match with 1 (headers)\n        const value = formats[format] as boolean | number | string | object;\n        const isActive =\n          value === input.getAttribute('value') ||\n          (value != null && value.toString() === input.getAttribute('value')) ||\n          (value == null && !input.getAttribute('value'));\n        input.classList.toggle('ql-active', isActive);\n        input.setAttribute('aria-pressed', isActive.toString());\n      } else {\n        const isActive = formats[format] != null;\n        input.classList.toggle('ql-active', isActive);\n        input.setAttribute('aria-pressed', isActive.toString());\n      }\n    });\n  }\n}\nToolbar.DEFAULTS = {};\n\nfunction addButton(container: HTMLElement, format: string, value?: string) {\n  const input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add(`ql-${format}`);\n  input.setAttribute('aria-pressed', 'false');\n  if (value != null) {\n    input.value = value;\n    input.setAttribute('aria-label', `${format}: ${value}`);\n  } else {\n    input.setAttribute('aria-label', format);\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(\n  container: HTMLElement,\n  groups:\n    | (string | Record<string, unknown>)[][]\n    | (string | Record<string, unknown>)[],\n) {\n  if (!Array.isArray(groups[0])) {\n    // @ts-expect-error\n    groups = [groups];\n  }\n  groups.forEach((controls: any) => {\n    const group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach((control: any) => {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        const format = Object.keys(control)[0];\n        const value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(\n  container: HTMLElement,\n  format: string,\n  values: Array<string | boolean>,\n) {\n  const input = document.createElement('select');\n  input.classList.add(`ql-${format}`);\n  values.forEach((value) => {\n    const option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', String(value));\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean() {\n      const range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length === 0) {\n        const formats = this.quill.getFormat();\n        Object.keys(formats).forEach((name) => {\n          // Clean functionality in existing apps only clean inline formats\n          if (this.quill.scroll.query(name, Scope.INLINE) != null) {\n            this.quill.format(name, false, Quill.sources.USER);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range.index, range.length, Quill.sources.USER);\n      }\n    },\n    direction(value) {\n      const { align } = this.quill.getFormat();\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', Quill.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, Quill.sources.USER);\n      }\n      this.quill.format('direction', value, Quill.sources.USER);\n    },\n    indent(value) {\n      const range = this.quill.getSelection();\n      // @ts-expect-error\n      const formats = this.quill.getFormat(range);\n      // @ts-expect-error\n      const indent = parseInt(formats.indent || 0, 10);\n      if (value === '+1' || value === '-1') {\n        let modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, Quill.sources.USER);\n      }\n    },\n    link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:'); // eslint-disable-line no-alert\n      }\n      this.quill.format('link', value, Quill.sources.USER);\n    },\n    list(value) {\n      const range = this.quill.getSelection();\n      // @ts-expect-error\n      const formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats.list === 'checked' || formats.list === 'unchecked') {\n          this.quill.format('list', false, Quill.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', Quill.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, Quill.sources.USER);\n      }\n    },\n  },\n};\n\nexport { Toolbar as default, addControls };\n","import alignLeftIcon from '../assets/icons/align-left.svg';\nimport alignCenterIcon from '../assets/icons/align-center.svg';\nimport alignRightIcon from '../assets/icons/align-right.svg';\nimport alignJustifyIcon from '../assets/icons/align-justify.svg';\nimport backgroundIcon from '../assets/icons/background.svg';\nimport blockquoteIcon from '../assets/icons/blockquote.svg';\nimport boldIcon from '../assets/icons/bold.svg';\nimport cleanIcon from '../assets/icons/clean.svg';\nimport codeIcon from '../assets/icons/code.svg';\nimport colorIcon from '../assets/icons/color.svg';\nimport directionLeftToRightIcon from '../assets/icons/direction-ltr.svg';\nimport directionRightToLeftIcon from '../assets/icons/direction-rtl.svg';\nimport formulaIcon from '../assets/icons/formula.svg';\nimport headerIcon from '../assets/icons/header.svg';\nimport header2Icon from '../assets/icons/header-2.svg';\nimport header3Icon from '../assets/icons/header-3.svg';\nimport header4Icon from '../assets/icons/header-4.svg';\nimport header5Icon from '../assets/icons/header-5.svg';\nimport header6Icon from '../assets/icons/header-6.svg';\nimport italicIcon from '../assets/icons/italic.svg';\nimport imageIcon from '../assets/icons/image.svg';\nimport indentIcon from '../assets/icons/indent.svg';\nimport outdentIcon from '../assets/icons/outdent.svg';\nimport linkIcon from '../assets/icons/link.svg';\nimport listBulletIcon from '../assets/icons/list-bullet.svg';\nimport listCheckIcon from '../assets/icons/list-check.svg';\nimport listOrderedIcon from '../assets/icons/list-ordered.svg';\nimport subscriptIcon from '../assets/icons/subscript.svg';\nimport superscriptIcon from '../assets/icons/superscript.svg';\nimport strikeIcon from '../assets/icons/strike.svg';\nimport tableIcon from '../assets/icons/table.svg';\nimport underlineIcon from '../assets/icons/underline.svg';\nimport videoIcon from '../assets/icons/video.svg';\n\nexport default {\n  align: {\n    '': alignLeftIcon,\n    center: alignCenterIcon,\n    right: alignRightIcon,\n    justify: alignJustifyIcon,\n  },\n  background: backgroundIcon,\n  blockquote: blockquoteIcon,\n  bold: boldIcon,\n  clean: cleanIcon,\n  code: codeIcon,\n  'code-block': codeIcon,\n  color: colorIcon,\n  direction: {\n    '': directionLeftToRightIcon,\n    rtl: directionRightToLeftIcon,\n  },\n  formula: formulaIcon,\n  header: {\n    '1': headerIcon,\n    '2': header2Icon,\n    '3': header3Icon,\n    '4': header4Icon,\n    '5': header5Icon,\n    '6': header6Icon,\n  },\n  italic: italicIcon,\n  image: imageIcon,\n  indent: {\n    '+1': indentIcon,\n    '-1': outdentIcon,\n  },\n  link: linkIcon,\n  list: {\n    bullet: listBulletIcon,\n    check: listCheckIcon,\n    ordered: listOrderedIcon,\n  },\n  script: {\n    sub: subscriptIcon,\n    super: superscriptIcon,\n  },\n  strike: strikeIcon,\n  table: tableIcon,\n  underline: underlineIcon,\n  video: videoIcon,\n};\n","import DropdownIcon from '../assets/icons/dropdown.svg';\n\nlet optionsCounter = 0;\n\nfunction toggleAriaAttribute(element: HTMLElement, attribute: string) {\n  element.setAttribute(\n    attribute,\n    `${!(element.getAttribute(attribute) === 'true')}`,\n  );\n}\n\nclass Picker {\n  select: HTMLSelectElement;\n  container: HTMLElement;\n  label: HTMLElement;\n\n  constructor(select: HTMLSelectElement) {\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    // @ts-expect-error Fix me later\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', () => {\n      this.togglePicker();\n    });\n    this.label.addEventListener('keydown', (event) => {\n      switch (event.key) {\n        case 'Enter':\n          this.togglePicker();\n          break;\n        case 'Escape':\n          this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  togglePicker() {\n    this.container.classList.toggle('ql-expanded');\n    // Toggle aria-expanded and aria-hidden to make the picker accessible\n    toggleAriaAttribute(this.label, 'aria-expanded');\n    // @ts-expect-error\n    toggleAriaAttribute(this.options, 'aria-hidden');\n  }\n\n  buildItem(option: HTMLOptionElement) {\n    const item = document.createElement('span');\n    // @ts-expect-error\n    item.tabIndex = '0';\n    item.setAttribute('role', 'button');\n    item.classList.add('ql-picker-item');\n    const value = option.getAttribute('value');\n    if (value) {\n      item.setAttribute('data-value', value);\n    }\n    if (option.textContent) {\n      item.setAttribute('data-label', option.textContent);\n    }\n    item.addEventListener('click', () => {\n      this.selectItem(item, true);\n    });\n    item.addEventListener('keydown', (event) => {\n      switch (event.key) {\n        case 'Enter':\n          this.selectItem(item, true);\n          event.preventDefault();\n          break;\n        case 'Escape':\n          this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n\n    return item;\n  }\n\n  buildLabel() {\n    const label = document.createElement('span');\n    label.classList.add('ql-picker-label');\n    label.innerHTML = DropdownIcon;\n    // @ts-expect-error\n    label.tabIndex = '0';\n    label.setAttribute('role', 'button');\n    label.setAttribute('aria-expanded', 'false');\n    this.container.appendChild(label);\n    return label;\n  }\n\n  buildOptions() {\n    const options = document.createElement('span');\n    options.classList.add('ql-picker-options');\n\n    // Don't want screen readers to read this until options are visible\n    options.setAttribute('aria-hidden', 'true');\n    // @ts-expect-error\n    options.tabIndex = '-1';\n\n    // Need a unique id for aria-controls\n    options.id = `ql-picker-options-${optionsCounter}`;\n    optionsCounter += 1;\n    this.label.setAttribute('aria-controls', options.id);\n\n    // @ts-expect-error\n    this.options = options;\n\n    Array.from(this.select.options).forEach((option) => {\n      const item = this.buildItem(option);\n      options.appendChild(item);\n      if (option.selected === true) {\n        this.selectItem(item);\n      }\n    });\n    this.container.appendChild(options);\n  }\n\n  buildPicker() {\n    Array.from(this.select.attributes).forEach((item) => {\n      this.container.setAttribute(item.name, item.value);\n    });\n    this.container.classList.add('ql-picker');\n    this.label = this.buildLabel();\n    this.buildOptions();\n  }\n\n  escape() {\n    // Close menu and return focus to trigger label\n    this.close();\n    // Need setTimeout for accessibility to ensure that the browser executes\n    // focus on the next process thread and after any DOM content changes\n    setTimeout(() => this.label.focus(), 1);\n  }\n\n  close() {\n    this.container.classList.remove('ql-expanded');\n    this.label.setAttribute('aria-expanded', 'false');\n    // @ts-expect-error\n    this.options.setAttribute('aria-hidden', 'true');\n  }\n\n  selectItem(item: HTMLElement | null, trigger = false) {\n    const selected = this.container.querySelector('.ql-selected');\n    if (item === selected) return;\n    if (selected != null) {\n      selected.classList.remove('ql-selected');\n    }\n    if (item == null) return;\n    item.classList.add('ql-selected');\n    // @ts-expect-error Fix me later\n    this.select.selectedIndex = Array.from(item.parentNode.children).indexOf(\n      item,\n    );\n    if (item.hasAttribute('data-value')) {\n      // @ts-expect-error Fix me later\n      this.label.setAttribute('data-value', item.getAttribute('data-value'));\n    } else {\n      this.label.removeAttribute('data-value');\n    }\n    if (item.hasAttribute('data-label')) {\n      // @ts-expect-error Fix me later\n      this.label.setAttribute('data-label', item.getAttribute('data-label'));\n    } else {\n      this.label.removeAttribute('data-label');\n    }\n    if (trigger) {\n      this.select.dispatchEvent(new Event('change'));\n      this.close();\n    }\n  }\n\n  update() {\n    let option;\n    if (this.select.selectedIndex > -1) {\n      const item =\n        // @ts-expect-error Fix me later\n        this.container.querySelector('.ql-picker-options').children[\n          this.select.selectedIndex\n        ];\n      option = this.select.options[this.select.selectedIndex];\n      // @ts-expect-error\n      this.selectItem(item);\n    } else {\n      this.selectItem(null);\n    }\n    const isActive =\n      option != null &&\n      option !== this.select.querySelector('option[selected]');\n    this.label.classList.toggle('ql-active', isActive);\n  }\n}\n\nexport default Picker;\n","import Picker from './picker.js';\n\nclass ColorPicker extends Picker {\n  constructor(select: HTMLSelectElement, label: string) {\n    super(select);\n    this.label.innerHTML = label;\n    this.container.classList.add('ql-color-picker');\n    Array.from(this.container.querySelectorAll('.ql-picker-item'))\n      .slice(0, 7)\n      .forEach((item) => {\n        item.classList.add('ql-primary');\n      });\n  }\n\n  buildItem(option: HTMLOptionElement) {\n    const item = super.buildItem(option);\n    item.style.backgroundColor = option.getAttribute('value') || '';\n    return item;\n  }\n\n  selectItem(item: HTMLElement | null, trigger?: boolean) {\n    super.selectItem(item, trigger);\n    const colorLabel = this.label.querySelector<HTMLElement>('.ql-color-label');\n    const value = item ? item.getAttribute('data-value') || '' : '';\n    if (colorLabel) {\n      if (colorLabel.tagName === 'line') {\n        colorLabel.style.stroke = value;\n      } else {\n        colorLabel.style.fill = value;\n      }\n    }\n  }\n}\n\nexport default ColorPicker;\n","import Picker from './picker.js';\n\nclass IconPicker extends Picker {\n  defaultItem: HTMLElement | null;\n\n  constructor(select: HTMLSelectElement, icons: Record<string, string>) {\n    super(select);\n    this.container.classList.add('ql-icon-picker');\n    Array.from(this.container.querySelectorAll('.ql-picker-item')).forEach(\n      (item) => {\n        item.innerHTML = icons[item.getAttribute('data-value') || ''];\n      },\n    );\n    this.defaultItem = this.container.querySelector('.ql-selected');\n    this.selectItem(this.defaultItem);\n  }\n\n  selectItem(target: HTMLElement | null, trigger?: boolean) {\n    super.selectItem(target, trigger);\n    const item = target || this.defaultItem;\n    if (item != null) {\n      if (this.label.innerHTML === item.innerHTML) return;\n      this.label.innerHTML = item.innerHTML;\n    }\n  }\n}\n\nexport default IconPicker;\n","import type Quill from '../core.js';\nimport type { Bounds } from '../core/selection.js';\n\nconst isScrollable = (el: Element) => {\n  const { overflowY } = getComputedStyle(el, null);\n  return overflowY !== 'visible' && overflowY !== 'clip';\n};\n\nclass Tooltip {\n  quill: Quill;\n  boundsContainer: HTMLElement;\n  root: HTMLDivElement;\n\n  constructor(quill: Quill, boundsContainer?: HTMLElement) {\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    // @ts-expect-error\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (isScrollable(this.quill.root)) {\n      this.quill.root.addEventListener('scroll', () => {\n        this.root.style.marginTop = `${-1 * this.quill.root.scrollTop}px`;\n      });\n    }\n    this.hide();\n  }\n\n  hide() {\n    this.root.classList.add('ql-hidden');\n  }\n\n  position(reference: Bounds) {\n    const left =\n      reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n    // root.scrollTop should be 0 if scrollContainer !== root\n    const top = reference.bottom + this.quill.root.scrollTop;\n    this.root.style.left = `${left}px`;\n    this.root.style.top = `${top}px`;\n    this.root.classList.remove('ql-flip');\n    const containerBounds = this.boundsContainer.getBoundingClientRect();\n    const rootBounds = this.root.getBoundingClientRect();\n    let shift = 0;\n    if (rootBounds.right > containerBounds.right) {\n      shift = containerBounds.right - rootBounds.right;\n      this.root.style.left = `${left + shift}px`;\n    }\n    if (rootBounds.left < containerBounds.left) {\n      shift = containerBounds.left - rootBounds.left;\n      this.root.style.left = `${left + shift}px`;\n    }\n    if (rootBounds.bottom > containerBounds.bottom) {\n      const height = rootBounds.bottom - rootBounds.top;\n      const verticalShift = reference.bottom - reference.top + height;\n      this.root.style.top = `${top - verticalShift}px`;\n      this.root.classList.add('ql-flip');\n    }\n    return shift;\n  }\n\n  show() {\n    this.root.classList.remove('ql-editing');\n    this.root.classList.remove('ql-hidden');\n  }\n}\n\nexport default Tooltip;\n","import { merge } from 'lodash-es';\nimport type Quill from '../core/quill.js';\nimport Emitter from '../core/emitter.js';\nimport Theme from '../core/theme.js';\nimport type { ThemeOptions } from '../core/theme.js';\nimport ColorPicker from '../ui/color-picker.js';\nimport IconPicker from '../ui/icon-picker.js';\nimport Picker from '../ui/picker.js';\nimport Tooltip from '../ui/tooltip.js';\nimport type { Range } from '../core/selection.js';\nimport type Clipboard from '../modules/clipboard.js';\nimport type History from '../modules/history.js';\nimport type Keyboard from '../modules/keyboard.js';\nimport type Uploader from '../modules/uploader.js';\nimport type Selection from '../core/selection.js';\n\nconst ALIGNS = [false, 'center', 'right', 'justify'];\n\nconst COLORS = [\n  '#000000',\n  '#e60000',\n  '#ff9900',\n  '#ffff00',\n  '#008a00',\n  '#0066cc',\n  '#9933ff',\n  '#ffffff',\n  '#facccc',\n  '#ffebcc',\n  '#ffffcc',\n  '#cce8cc',\n  '#cce0f5',\n  '#ebd6ff',\n  '#bbbbbb',\n  '#f06666',\n  '#ffc266',\n  '#ffff66',\n  '#66b966',\n  '#66a3e0',\n  '#c285ff',\n  '#888888',\n  '#a10000',\n  '#b26b00',\n  '#b2b200',\n  '#006100',\n  '#0047b2',\n  '#6b24b2',\n  '#444444',\n  '#5c0000',\n  '#663d00',\n  '#666600',\n  '#003700',\n  '#002966',\n  '#3d1466',\n];\n\nconst FONTS = [false, 'serif', 'monospace'];\n\nconst HEADERS = ['1', '2', '3', false];\n\nconst SIZES = ['small', false, 'large', 'huge'];\n\nclass BaseTheme extends Theme {\n  pickers: Picker[];\n  tooltip?: Tooltip;\n\n  constructor(quill: Quill, options: ThemeOptions) {\n    super(quill, options);\n    const listener = (e: MouseEvent) => {\n      if (!document.body.contains(quill.root)) {\n        document.body.removeEventListener('click', listener);\n        return;\n      }\n      if (\n        this.tooltip != null &&\n        // @ts-expect-error\n        !this.tooltip.root.contains(e.target) &&\n        // @ts-expect-error\n        document.activeElement !== this.tooltip.textbox &&\n        !this.quill.hasFocus()\n      ) {\n        this.tooltip.hide();\n      }\n      if (this.pickers != null) {\n        this.pickers.forEach((picker) => {\n          // @ts-expect-error\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n  }\n\n  addModule(name: 'clipboard'): Clipboard;\n  addModule(name: 'keyboard'): Keyboard;\n  addModule(name: 'uploader'): Uploader;\n  addModule(name: 'history'): History;\n  addModule(name: 'selection'): Selection;\n  addModule(name: string): unknown;\n  addModule(name: string) {\n    const module = super.addModule(name);\n    if (name === 'toolbar') {\n      // @ts-expect-error\n      this.extendToolbar(module);\n    }\n    return module;\n  }\n\n  buildButtons(\n    buttons: NodeListOf<HTMLElement>,\n    icons: Record<string, Record<string, string> | string>,\n  ) {\n    Array.from(buttons).forEach((button) => {\n      const className = button.getAttribute('class') || '';\n      className.split(/\\s+/).forEach((name) => {\n        if (!name.startsWith('ql-')) return;\n        name = name.slice('ql-'.length);\n        if (icons[name] == null) return;\n        if (name === 'direction') {\n          // @ts-expect-error\n          button.innerHTML = icons[name][''] + icons[name].rtl;\n        } else if (typeof icons[name] === 'string') {\n          // @ts-expect-error\n          button.innerHTML = icons[name];\n        } else {\n          // @ts-expect-error\n          const value = button.value || '';\n          // @ts-expect-error\n          if (value != null && icons[name][value]) {\n            // @ts-expect-error\n            button.innerHTML = icons[name][value];\n          }\n        }\n      });\n    });\n  }\n\n  buildPickers(\n    selects: NodeListOf<HTMLSelectElement>,\n    icons: Record<string, string | Record<string, string>>,\n  ) {\n    this.pickers = Array.from(selects).map((select) => {\n      if (select.classList.contains('ql-align')) {\n        if (select.querySelector('option') == null) {\n          fillSelect(select, ALIGNS);\n        }\n        if (typeof icons.align === 'object') {\n          return new IconPicker(select, icons.align);\n        }\n      }\n      if (\n        select.classList.contains('ql-background') ||\n        select.classList.contains('ql-color')\n      ) {\n        const format = select.classList.contains('ql-background')\n          ? 'background'\n          : 'color';\n        if (select.querySelector('option') == null) {\n          fillSelect(\n            select,\n            COLORS,\n            format === 'background' ? '#ffffff' : '#000000',\n          );\n        }\n        return new ColorPicker(select, icons[format] as string);\n      }\n      if (select.querySelector('option') == null) {\n        if (select.classList.contains('ql-font')) {\n          fillSelect(select, FONTS);\n        } else if (select.classList.contains('ql-header')) {\n          fillSelect(select, HEADERS);\n        } else if (select.classList.contains('ql-size')) {\n          fillSelect(select, SIZES);\n        }\n      }\n      return new Picker(select);\n    });\n    const update = () => {\n      this.pickers.forEach((picker) => {\n        picker.update();\n      });\n    };\n    this.quill.on(Emitter.events.EDITOR_CHANGE, update);\n  }\n}\nBaseTheme.DEFAULTS = merge({}, Theme.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image() {\n          let fileInput = this.container.querySelector(\n            'input.ql-image[type=file]',\n          );\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute(\n              'accept',\n              this.quill.uploader.options.mimetypes.join(', '),\n            );\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', () => {\n              const range = this.quill.getSelection(true);\n              this.quill.uploader.upload(range, fileInput.files);\n              fileInput.value = '';\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video() {\n          this.quill.theme.tooltip.edit('video');\n        },\n      },\n    },\n  },\n});\n\nclass BaseTooltip extends Tooltip {\n  textbox: HTMLInputElement | null;\n  linkRange?: Range;\n\n  constructor(quill: Quill, boundsContainer?: HTMLElement) {\n    super(quill, boundsContainer);\n    this.textbox = this.root.querySelector('input[type=\"text\"]');\n    this.listen();\n  }\n\n  listen() {\n    // @ts-expect-error Fix me later\n    this.textbox.addEventListener('keydown', (event) => {\n      if (event.key === 'Enter') {\n        this.save();\n        event.preventDefault();\n      } else if (event.key === 'Escape') {\n        this.cancel();\n        event.preventDefault();\n      }\n    });\n  }\n\n  cancel() {\n    this.hide();\n    this.restoreFocus();\n  }\n\n  edit(mode = 'link', preview: string | null = null) {\n    this.root.classList.remove('ql-hidden');\n    this.root.classList.add('ql-editing');\n    if (this.textbox == null) return;\n\n    if (preview != null) {\n      this.textbox.value = preview;\n    } else if (mode !== this.root.getAttribute('data-mode')) {\n      this.textbox.value = '';\n    }\n    const bounds = this.quill.getBounds(this.quill.selection.savedRange);\n    if (bounds != null) {\n      this.position(bounds);\n    }\n    this.textbox.select();\n    this.textbox.setAttribute(\n      'placeholder',\n      this.textbox.getAttribute(`data-${mode}`) || '',\n    );\n    this.root.setAttribute('data-mode', mode);\n  }\n\n  restoreFocus() {\n    this.quill.focus({ preventScroll: true });\n  }\n\n  save() {\n    // @ts-expect-error Fix me later\n    let { value } = this.textbox;\n    switch (this.root.getAttribute('data-mode')) {\n      case 'link': {\n        const { scrollTop } = this.quill.root;\n        if (this.linkRange) {\n          this.quill.formatText(\n            this.linkRange,\n            'link',\n            value,\n            Emitter.sources.USER,\n          );\n          delete this.linkRange;\n        } else {\n          this.restoreFocus();\n          this.quill.format('link', value, Emitter.sources.USER);\n        }\n        this.quill.root.scrollTop = scrollTop;\n        break;\n      }\n      case 'video': {\n        value = extractVideoUrl(value);\n      } // eslint-disable-next-line no-fallthrough\n      case 'formula': {\n        if (!value) break;\n        const range = this.quill.getSelection(true);\n        if (range != null) {\n          const index = range.index + range.length;\n          this.quill.insertEmbed(\n            index,\n            // @ts-expect-error Fix me later\n            this.root.getAttribute('data-mode'),\n            value,\n            Emitter.sources.USER,\n          );\n          if (this.root.getAttribute('data-mode') === 'formula') {\n            this.quill.insertText(index + 1, ' ', Emitter.sources.USER);\n          }\n          this.quill.setSelection(index + 2, Emitter.sources.USER);\n        }\n        break;\n      }\n      default:\n    }\n    // @ts-expect-error Fix me later\n    this.textbox.value = '';\n    this.hide();\n  }\n}\n\nfunction extractVideoUrl(url: string) {\n  let match =\n    url.match(\n      /^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/,\n    ) ||\n    url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return `${match[1] || 'https'}://www.youtube.com/embed/${\n      match[2]\n    }?showinfo=0`;\n  }\n  // eslint-disable-next-line no-cond-assign\n  if ((match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/))) {\n    return `${match[1] || 'https'}://player.vimeo.com/video/${match[2]}/`;\n  }\n  return url;\n}\n\nfunction fillSelect(\n  select: HTMLSelectElement,\n  values: Array<string | boolean>,\n  defaultValue: unknown = false,\n) {\n  values.forEach((value) => {\n    const option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', String(value));\n    }\n    select.appendChild(option);\n  });\n}\n\nexport { BaseTooltip, BaseTheme as default };\n","import { merge } from 'lodash-es';\nimport Emitter from '../core/emitter.js';\nimport BaseTheme, { BaseTooltip } from './base.js';\nimport { Range } from '../core/selection.js';\nimport type { Bounds } from '../core/selection.js';\nimport icons from '../ui/icons.js';\nimport Quill from '../core/quill.js';\nimport type { ThemeOptions } from '../core/theme.js';\nimport type Toolbar from '../modules/toolbar.js';\nimport type { ToolbarConfig } from '../modules/toolbar.js';\n\nconst TOOLBAR_CONFIG: ToolbarConfig = [\n  ['bold', 'italic', 'link'],\n  [{ header: 1 }, { header: 2 }, 'blockquote'],\n];\n\nclass BubbleTooltip extends BaseTooltip {\n  static TEMPLATE = [\n    '<span class=\"ql-tooltip-arrow\"></span>',\n    '<div class=\"ql-tooltip-editor\">',\n    '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">',\n    '<a class=\"ql-close\"></a>',\n    '</div>',\n  ].join('');\n\n  constructor(quill: Quill, bounds?: HTMLElement) {\n    super(quill, bounds);\n    this.quill.on(\n      Emitter.events.EDITOR_CHANGE,\n      (type, range, oldRange, source) => {\n        if (type !== Emitter.events.SELECTION_CHANGE) return;\n        if (\n          range != null &&\n          range.length > 0 &&\n          source === Emitter.sources.USER\n        ) {\n          this.show();\n          // Lock our width so we will expand beyond our offsetParent boundaries\n          this.root.style.left = '0px';\n          this.root.style.width = '';\n          this.root.style.width = `${this.root.offsetWidth}px`;\n          const lines = this.quill.getLines(range.index, range.length);\n          if (lines.length === 1) {\n            const bounds = this.quill.getBounds(range);\n            if (bounds != null) {\n              this.position(bounds);\n            }\n          } else {\n            const lastLine = lines[lines.length - 1];\n            const index = this.quill.getIndex(lastLine);\n            const length = Math.min(\n              lastLine.length() - 1,\n              range.index + range.length - index,\n            );\n            const indexBounds = this.quill.getBounds(new Range(index, length));\n            if (indexBounds != null) {\n              this.position(indexBounds);\n            }\n          }\n        } else if (\n          document.activeElement !== this.textbox &&\n          this.quill.hasFocus()\n        ) {\n          this.hide();\n        }\n      },\n    );\n  }\n\n  listen() {\n    super.listen();\n    // @ts-expect-error Fix me later\n    this.root.querySelector('.ql-close').addEventListener('click', () => {\n      this.root.classList.remove('ql-editing');\n    });\n    this.quill.on(Emitter.events.SCROLL_OPTIMIZE, () => {\n      // Let selection be restored by toolbar handlers before repositioning\n      setTimeout(() => {\n        if (this.root.classList.contains('ql-hidden')) return;\n        const range = this.quill.getSelection();\n        if (range != null) {\n          const bounds = this.quill.getBounds(range);\n          if (bounds != null) {\n            this.position(bounds);\n          }\n        }\n      }, 1);\n    });\n  }\n\n  cancel() {\n    this.show();\n  }\n\n  position(reference: Bounds) {\n    const shift = super.position(reference);\n    const arrow = this.root.querySelector('.ql-tooltip-arrow');\n    // @ts-expect-error\n    arrow.style.marginLeft = '';\n    if (shift !== 0) {\n      // @ts-expect-error\n      arrow.style.marginLeft = `${-1 * shift - arrow.offsetWidth / 2}px`;\n    }\n    return shift;\n  }\n}\n\nclass BubbleTheme extends BaseTheme {\n  tooltip: BubbleTooltip;\n\n  constructor(quill: Quill, options: ThemeOptions) {\n    if (\n      options.modules.toolbar != null &&\n      options.modules.toolbar.container == null\n    ) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n    super(quill, options);\n    this.quill.container.classList.add('ql-bubble');\n  }\n\n  extendToolbar(toolbar: Toolbar) {\n    // @ts-expect-error\n    this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n    if (toolbar.container != null) {\n      this.tooltip.root.appendChild<HTMLElement>(toolbar.container);\n      this.buildButtons(toolbar.container.querySelectorAll('button'), icons);\n      this.buildPickers(toolbar.container.querySelectorAll('select'), icons);\n    }\n  }\n}\nBubbleTheme.DEFAULTS = merge({}, BaseTheme.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link(value: string) {\n          if (!value) {\n            this.quill.format('link', false, Quill.sources.USER);\n          } else {\n            // @ts-expect-error\n            this.quill.theme.tooltip.edit();\n          }\n        },\n      },\n    },\n  },\n} satisfies ThemeOptions);\n\nexport { BubbleTooltip, BubbleTheme as default };\n","import { merge } from 'lodash-es';\nimport Emitter from '../core/emitter.js';\nimport BaseTheme, { BaseTooltip } from './base.js';\nimport LinkBlot from '../formats/link.js';\nimport { Range } from '../core/selection.js';\nimport icons from '../ui/icons.js';\nimport Quill from '../core/quill.js';\nimport type { Context } from '../modules/keyboard.js';\nimport type Toolbar from '../modules/toolbar.js';\nimport type { ToolbarConfig } from '../modules/toolbar.js';\nimport type { ThemeOptions } from '../core/theme.js';\n\nconst TOOLBAR_CONFIG: ToolbarConfig = [\n  [{ header: ['1', '2', '3', false] }],\n  ['bold', 'italic', 'underline', 'link'],\n  [{ list: 'ordered' }, { list: 'bullet' }],\n  ['clean'],\n];\n\nclass SnowTooltip extends BaseTooltip {\n  static TEMPLATE = [\n    '<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>',\n    '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">',\n    '<a class=\"ql-action\"></a>',\n    '<a class=\"ql-remove\"></a>',\n  ].join('');\n\n  preview = this.root.querySelector('a.ql-preview');\n\n  listen() {\n    super.listen();\n    // @ts-expect-error Fix me later\n    this.root\n      .querySelector('a.ql-action')\n      .addEventListener('click', (event) => {\n        if (this.root.classList.contains('ql-editing')) {\n          this.save();\n        } else {\n          // @ts-expect-error Fix me later\n          this.edit('link', this.preview.textContent);\n        }\n        event.preventDefault();\n      });\n    // @ts-expect-error Fix me later\n    this.root\n      .querySelector('a.ql-remove')\n      .addEventListener('click', (event) => {\n        if (this.linkRange != null) {\n          const range = this.linkRange;\n          this.restoreFocus();\n          this.quill.formatText(range, 'link', false, Emitter.sources.USER);\n          delete this.linkRange;\n        }\n        event.preventDefault();\n        this.hide();\n      });\n    this.quill.on(\n      Emitter.events.SELECTION_CHANGE,\n      (range, oldRange, source) => {\n        if (range == null) return;\n        if (range.length === 0 && source === Emitter.sources.USER) {\n          const [link, offset] = this.quill.scroll.descendant(\n            LinkBlot,\n            range.index,\n          );\n          if (link != null) {\n            this.linkRange = new Range(range.index - offset, link.length());\n            const preview = LinkBlot.formats(link.domNode);\n            // @ts-expect-error Fix me later\n            this.preview.textContent = preview;\n            // @ts-expect-error Fix me later\n            this.preview.setAttribute('href', preview);\n            this.show();\n            const bounds = this.quill.getBounds(this.linkRange);\n            if (bounds != null) {\n              this.position(bounds);\n            }\n            return;\n          }\n        } else {\n          delete this.linkRange;\n        }\n        this.hide();\n      },\n    );\n  }\n\n  show() {\n    super.show();\n    this.root.removeAttribute('data-mode');\n  }\n}\n\nclass SnowTheme extends BaseTheme {\n  constructor(quill: Quill, options: ThemeOptions) {\n    if (\n      options.modules.toolbar != null &&\n      options.modules.toolbar.container == null\n    ) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n    super(quill, options);\n    this.quill.container.classList.add('ql-snow');\n  }\n\n  extendToolbar(toolbar: Toolbar) {\n    if (toolbar.container != null) {\n      toolbar.container.classList.add('ql-snow');\n      this.buildButtons(toolbar.container.querySelectorAll('button'), icons);\n      this.buildPickers(toolbar.container.querySelectorAll('select'), icons);\n      // @ts-expect-error\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n      if (toolbar.container.querySelector('.ql-link')) {\n        this.quill.keyboard.addBinding(\n          { key: 'k', shortKey: true },\n          (_range: Range, context: Context) => {\n            toolbar.handlers.link.call(toolbar, !context.format.link);\n          },\n        );\n      }\n    }\n  }\n}\nSnowTheme.DEFAULTS = merge({}, BaseTheme.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link(value: string) {\n          if (value) {\n            const range = this.quill.getSelection();\n            if (range == null || range.length === 0) return;\n            let preview = this.quill.getText(range);\n            if (\n              /^\\S+@\\S+\\.\\S+$/.test(preview) &&\n              preview.indexOf('mailto:') !== 0\n            ) {\n              preview = `mailto:${preview}`;\n            }\n            // @ts-expect-error\n            const { tooltip } = this.quill.theme;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false, Quill.sources.USER);\n          }\n        },\n      },\n    },\n  },\n} satisfies ThemeOptions);\n\nexport default SnowTheme;\n","import Quill, { Parchment, Range } from './core.js';\nimport type {\n  Bounds,\n  DebugLevel,\n  EmitterSource,\n  ExpandedQuillOptions,\n  QuillOptions,\n} from './core.js';\n\nimport { AlignClass, AlignStyle } from './formats/align.js';\nimport {\n  DirectionAttribute,\n  DirectionClass,\n  DirectionStyle,\n} from './formats/direction.js';\nimport Indent from './formats/indent.js';\n\nimport Blockquote from './formats/blockquote.js';\nimport Header from './formats/header.js';\nimport List from './formats/list.js';\n\nimport { BackgroundClass, BackgroundStyle } from './formats/background.js';\nimport { ColorClass, ColorStyle } from './formats/color.js';\nimport { FontClass, FontStyle } from './formats/font.js';\nimport { SizeClass, SizeStyle } from './formats/size.js';\n\nimport Bold from './formats/bold.js';\nimport Italic from './formats/italic.js';\nimport Link from './formats/link.js';\nimport Script from './formats/script.js';\nimport Strike from './formats/strike.js';\nimport Underline from './formats/underline.js';\n\nimport Formula from './formats/formula.js';\nimport Image from './formats/image.js';\nimport Video from './formats/video.js';\n\nimport CodeBlock, { Code as InlineCode } from './formats/code.js';\n\nimport Syntax from './modules/syntax.js';\nimport Table from './modules/table.js';\nimport Toolbar from './modules/toolbar.js';\n\nimport Icons from './ui/icons.js';\nimport Picker from './ui/picker.js';\nimport ColorPicker from './ui/color-picker.js';\nimport IconPicker from './ui/icon-picker.js';\nimport Tooltip from './ui/tooltip.js';\n\nimport BubbleTheme from './themes/bubble.js';\nimport SnowTheme from './themes/snow.js';\n\nQuill.register(\n  {\n    'attributors/attribute/direction': DirectionAttribute,\n\n    'attributors/class/align': AlignClass,\n    'attributors/class/background': BackgroundClass,\n    'attributors/class/color': ColorClass,\n    'attributors/class/direction': DirectionClass,\n    'attributors/class/font': FontClass,\n    'attributors/class/size': SizeClass,\n\n    'attributors/style/align': AlignStyle,\n    'attributors/style/background': BackgroundStyle,\n    'attributors/style/color': ColorStyle,\n    'attributors/style/direction': DirectionStyle,\n    'attributors/style/font': FontStyle,\n    'attributors/style/size': SizeStyle,\n  },\n  true,\n);\n\nQuill.register(\n  {\n    'formats/align': AlignClass,\n    'formats/direction': DirectionClass,\n    'formats/indent': Indent,\n\n    'formats/background': BackgroundStyle,\n    'formats/color': ColorStyle,\n    'formats/font': FontClass,\n    'formats/size': SizeClass,\n\n    'formats/blockquote': Blockquote,\n    'formats/code-block': CodeBlock,\n    'formats/header': Header,\n    'formats/list': List,\n\n    'formats/bold': Bold,\n    'formats/code': InlineCode,\n    'formats/italic': Italic,\n    'formats/link': Link,\n    'formats/script': Script,\n    'formats/strike': Strike,\n    'formats/underline': Underline,\n\n    'formats/formula': Formula,\n    'formats/image': Image,\n    'formats/video': Video,\n\n    'modules/syntax': Syntax,\n    'modules/table': Table,\n    'modules/toolbar': Toolbar,\n\n    'themes/bubble': BubbleTheme,\n    'themes/snow': SnowTheme,\n\n    'ui/icons': Icons,\n    'ui/picker': Picker,\n    'ui/icon-picker': IconPicker,\n    'ui/color-picker': ColorPicker,\n    'ui/tooltip': Tooltip,\n  },\n  true,\n);\n\nexport { Module } from './core.js';\nexport type {\n  Bounds,\n  DebugLevel,\n  EmitterSource,\n  ExpandedQuillOptions,\n  QuillOptions,\n};\nexport { Parchment, Range };\n\nexport default Quill;\n","import Bold from './bold.js';\n\nclass Italic extends Bold {\n  static blotName = 'italic';\n  static tagName = ['EM', 'I'];\n}\n\nexport default Italic;\n","import Bold from './bold.js';\n\nclass Strike extends Bold {\n  static blotName = 'strike';\n  static tagName = ['S', 'STRIKE'];\n}\n\nexport default Strike;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}