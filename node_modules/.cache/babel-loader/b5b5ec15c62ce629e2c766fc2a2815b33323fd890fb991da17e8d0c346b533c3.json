{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"custom-container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-4\"\n};\nconst _hoisted_4 = {\n  class: \"col-8\"\n};\nconst _hoisted_5 = {\n  class: \"card\"\n};\nconst _hoisted_6 = {\n  class: \"card-body\"\n};\nconst _hoisted_7 = {\n  class: \"table table-bordered\"\n};\nconst _hoisted_8 = [\"innerHTML\"];\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  class: \"modal fade\",\n  id: \"editModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"editModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_12 = {\n  class: \"modal-dialog modal-lg\"\n};\nconst _hoisted_13 = {\n  class: \"modal-content\"\n};\nconst _hoisted_14 = {\n  class: \"modal-body\"\n};\nconst _hoisted_15 = {\n  class: \"mb-3\"\n};\nconst _hoisted_16 = {\n  class: \"mb-3\"\n};\nconst _hoisted_17 = {\n  ref: \"quillEditorModal\",\n  class: \"quill-editor\",\n  style: {\n    \"height\": \"200px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Menu = _resolveComponent(\"Menu\");\n  const _component_Information_menu = _resolveComponent(\"Information_menu\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createVNode(_component_Menu), _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_Information_menu)]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[5] || (_cache[5] = _createElementVNode(\"h3\", null, \"Vos informations\", -1 /* HOISTED */)), _cache[6] || (_cache[6] = _createElementVNode(\"hr\", null, null, -1 /* HOISTED */)), _createElementVNode(\"table\", _hoisted_7, [_cache[4] || (_cache[4] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Titre\"), _createElementVNode(\"th\", null, \"Contenu\"), _createElementVNode(\"th\", null, \"Action\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.informations, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.titre), 1 /* TEXT */), _createElementVNode(\"td\", {\n      innerHTML: item.details,\n      style: {\n        \"width\": \"500px\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_8), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.openEditModal(item),\n      class: \"btn m-2\"\n    }, [...(_cache[2] || (_cache[2] = [_createElementVNode(\"i\", {\n      class: \"bi bi-pen-fill\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteItem(item.id),\n      class: \"btn\"\n    }, [...(_cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n      class: \"bi bi-file-earmark-x-fill\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_10)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])])]), _createCommentVNode(\" Modal pour l'édition \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"modal-header\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"modal-title\",\n    id: \"editModalLabel\"\n  }, \"Éditer l'information\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    \"data-bs-dismiss\": \"modal\",\n    \"aria-label\": \"Close\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.updateInformation && $options.updateInformation(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_15, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"modalTitle\",\n    class: \"form-label\"\n  }, \"Titre\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.currentItem.titre = $event),\n    class: \"form-control\",\n    id: \"modalTitle\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.currentItem.titre]])]), _createElementVNode(\"div\", _hoisted_16, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"quillEditorModal\",\n    class: \"form-label\"\n  }, \"Contenu\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_17, null, 512 /* NEED_PATCH */)]), _cache[9] || (_cache[9] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\"\n  }, \"Enregistrer\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)])])])])]);\n}","map":{"version":3,"names":["class","id","tabindex","ref","style","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_Menu","_hoisted_2","_hoisted_3","_component_Information_menu","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","$data","informations","item","key","_toDisplayString","titre","innerHTML","details","_hoisted_8","onClick","$event","$options","openEditModal","_hoisted_9","deleteItem","_hoisted_10","_createCommentVNode","_hoisted_11","_hoisted_12","_hoisted_13","type","_hoisted_14","onSubmit","_cache","_withModifiers","args","updateInformation","_hoisted_15","for","currentItem","required","_hoisted_16","_hoisted_17"],"sources":["/Users/stagiaire_mobilosoft/Documents/Clean_Code_Mobilo/src/views/information/Resutlat.vue"],"sourcesContent":["<template>\n    <div class=\"custom-container\">\n        <br>\n        <Menu/>\n        <br>\n        <div class=\"row\">\n            <div class=\"col-4\">\n                <Information_menu/>\n            </div>\n            <div class=\"col-8\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <h3>Vos informations</h3>\n                        <hr>\n                        <table class=\"table table-bordered\">\n                            <thead>\n                                <tr>\n                                    <th>Titre</th>\n                                    <th>Contenu</th>\n                                    <th>Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"item in informations\" :key=\"item.id\">\n                                    <td>{{ item.titre }}</td>\n                                    <td v-html=\"item.details\" style=\"width:500px;\"></td>\n                                    <td>\n                                        <button @click=\"openEditModal(item)\" class=\"btn m-2\"><i class=\"bi bi-pen-fill\"></i></button>\n                                        <button @click=\"deleteItem(item.id)\" class=\"btn\"><i class=\"bi bi-file-earmark-x-fill\"></i></button>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Modal pour l'édition -->\n        <div class=\"modal fade\" id=\"editModal\" tabindex=\"-1\" aria-labelledby=\"editModalLabel\" aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-lg\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"editModalLabel\">Éditer l'information</h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <form @submit.prevent=\"updateInformation\">\n                            <div class=\"mb-3\">\n                                <label for=\"modalTitle\" class=\"form-label\">Titre</label>\n                                <input type=\"text\" v-model=\"currentItem.titre\" class=\"form-control\" id=\"modalTitle\" required/>\n                            </div>\n                            <div class=\"mb-3\">\n                                <label for=\"quillEditorModal\" class=\"form-label\">Contenu</label>\n                                <div ref=\"quillEditorModal\" class=\"quill-editor\" style=\"height: 200px;\"></div>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary\">Enregistrer</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Menu from '@/components/Menu.vue';\nimport Information_menu from '@/components/information_menu/Information_menu.vue';\nimport { fetchData, deleteData, putData } from '@/service/apiService';\nimport Quill from 'quill';\nimport 'quill/dist/quill.snow.css';\n\nexport default {\n    name: 'Resultat-information',\n    components: {\n        Information_menu,\n        Menu\n    },\n    data() {\n        return {\n            informations: [],\n            currentItem: null,\n            quillEditorModal: null\n        };\n    },\n    mounted() {\n        this.loadInformations();\n    },\n    methods: {\n        async loadInformations() {\n            try {\n                this.informations = await fetchData('/configuration/getInformations');\n            } catch (error) {\n                console.error('Erreur lors de la récupération des informations:', error);\n            }\n        },\n        openEditModal(item) {\n            this.currentItem = { ...item };\n            // Initialiser Quill lorsque le modal est ouvert\n            this.$nextTick(() => {\n                if (this.quillEditorModal) {\n                    this.quillEditorModal.destroy();\n                }\n                this.quillEditorModal = new Quill(this.$refs.quillEditorModal, {\n                    theme: 'snow',\n                    modules: {\n                        toolbar: [\n                            [{ header: [1, 2, 3, 4, 5, 6, false] }],\n                            [{ font: [] }],\n                            [{ align: [] }],\n                            ['bold', 'italic', 'underline', 'strike'],\n                            [{ color: [] }, { background: [] }],\n                            [{ script: 'sub' }, { script: 'super' }],\n                            [{ list: 'ordered' }, { list: 'bullet' }],\n                            [{ indent: '-1' }, { indent: '+1' }],\n                            [{ direction: 'rtl' }],\n                            ['link', 'image', 'video'],\n                            ['blockquote', 'code-block'],\n                            ['clean'], // remove formatting button\n                        ],\n                        table: true, // Enable table module\n                    },\n                });\n                // Charger le contenu dans l'éditeur\n                this.quillEditorModal.root.innerHTML = this.currentItem.details;\n                // Afficher le modal\n                const modal = new bootstrap.Modal(document.getElementById('editModal'));\n                modal.show();\n            });\n        },\n        async updateInformation() {\n            try {\n                const updatedDetails = this.quillEditorModal.root.innerHTML;\n                await putData(`/configuration/update/${this.currentItem.id}`, {\n                    titre: this.currentItem.titre,\n                    details: updatedDetails\n                });\n                // Recharger les informations et fermer le modal\n                this.loadInformations();\n                const modal = bootstrap.Modal.getInstance(document.getElementById('editModal'));\n                modal.hide();\n            } catch (error) {\n                console.error('Erreur lors de la mise à jour des informations:', error);\n            }\n        },\n        async deleteItem(id) {\n            try {\n                await deleteData(`/configuration/delete/${id}`);\n                this.loadInformations();\n            } catch (error) {\n                console.error('Erreur lors de la suppression des informations:', error);\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.custom-container {\n    max-width: 1600px;\n    padding-left: 15px;\n    padding-right: 15px;\n    margin-left: auto;\n    margin-right: auto;\n}\n@media (min-width: 576px) {\n    .custom-container {\n        padding-left: 24px;\n        padding-right: 24px;\n    }\n}\n\n@media (min-width: 768px) {\n    .custom-container {\n        padding-left: 32px;\n        padding-right: 32px;\n    }\n}\n\n@media (min-width: 992px) {\n    .custom-container {\n        padding-left: 40px;\n        padding-right: 40px;\n    }\n}\n\n@media (min-width: 1200px) {\n    .custom-container {\n        padding-left: 48px;\n        padding-right: 48px;\n    }\n}\n\n.card {\n    border-radius: 15px;\n}\nbutton {\n    border-radius: 10px;\n    background-color: #022D7E;\n    color: white;\n}\n.quill-editor {\n    border: 1px solid #ced4da;\n    border-radius: 0.25rem;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}